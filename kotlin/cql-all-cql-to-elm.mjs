import {
  protoOf180f3jzyo7rfj as protoOf,
  initMetadataForCompanion1wyw17z38v6ac as initMetadataForCompanion,
  toString1pkumu07cwy4m as toString,
  IllegalStateException_init_$Create$2w9444nebyjns as IllegalStateException_init_$Create$,
  Unit_instance1fbcbse1fwigr as Unit_instance,
  initMetadataForClassbxx6q50dy2s7 as initMetadataForClass,
  getKClass1s3j9wy1cofik as getKClass,
  charSequenceLength3278n89t01tmv as charSequenceLength,
  LinkedHashSet_init_$Create$3o6z3oewjhki9 as LinkedHashSet_init_$Create$,
  THROW_CCE2g6jy02ryeudk as THROW_CCE,
  isCharSequence1ju9jr1w86plq as isCharSequence,
  charSequenceGet1vxk1y5n17t1z as charSequenceGet,
  _Char___init__impl__6a9atx2js6krycynjoo as _Char___init__impl__6a9atx,
  Char__compareTo_impl_ypi4mbdrkik40uwhqc as Char__compareTo_impl_ypi4mb,
  charSequenceSubSequence1iwpdba8s3jc7 as charSequenceSubSequence,
  Regex_init_$Create$20u56movc9c5j as Regex_init_$Create$,
  take3onnpy6q7ctcz as take,
  emptyList1g2z5xcrvp2zy as emptyList,
  initMetadataForObject1cxne3s9w65el as initMetadataForObject,
  ensureNotNull1e947j3ixpazm as ensureNotNull,
  IllegalArgumentException_init_$Create$3ewkh27kzt8z8 as IllegalArgumentException_init_$Create$,
  toInt2q8uldh7sc951 as toInt,
  IllegalArgumentException_init_$Create$12tnz4snr00we as IllegalArgumentException_init_$Create$_0,
  RuntimeException1r3t0zl97011n as RuntimeException,
  Exceptiondt2hlxn7j7vw as Exception,
  VOID3gxj6tk5isa35 as VOID,
  isInterface3d6p8outrmvmk as isInterface,
  KtList3hktaavzmj137 as KtList,
  getKClassFromExpression3vpejubogshaw as getKClassFromExpression,
  listOf1jh22dvmctj1r as listOf,
  equals2au1ep9vhcato as equals,
  ArrayList_init_$Create$149jv2ovkkvnt as ArrayList_init_$Create$,
  toString30pk9tzaqopn as toString_0,
  toBoolean2azvnq2ukl7b3 as toBoolean,
  HashSet_init_$Create$3vvk876hypkbb as HashSet_init_$Create$,
  HashMap_init_$Create$2pprpqyxxsq9t as HashMap_init_$Create$,
  KtMutableList1beimitadwkna as KtMutableList,
  joinToString1cxrrlmo0chqs as joinToString,
  contains2gm06f5aa19ov as contains,
  RuntimeException_init_$Create$17ncyu0a6xfek as RuntimeException_init_$Create$,
  substring3saq8ornu0luv as substring,
  startsWith26w8qjqapeeq6 as startsWith,
  substringiqarkczpya5m as substring_0,
  endsWith3cq61xxngobwh as endsWith,
  listOfvhqybd2zx248 as listOf_0,
  filterNotNullhujglslymx1l as filterNotNull,
  THROW_IAE23kobfj9wdoxr as THROW_IAE,
  Enum3alwj03lh1n41 as Enum,
  defineProp3hxgpk2knu2px as defineProp,
  objectCreate1ve4bgxiu4x98 as objectCreate,
  captureStack1fzi4aczwc4hg as captureStack,
  RuntimeException_init_$Init$3m7ccek2krm3f as RuntimeException_init_$Init$,
  LazyThreadSafetyMode_PUBLICATION_getInstance3hlj875zwihx0 as LazyThreadSafetyMode_PUBLICATION_getInstance,
  lazy1261dae0bgscp as lazy,
  StringBuilder_init_$Create$2qsge4ydj6bin as StringBuilder_init_$Create$,
  RuntimeException_init_$Init$1tdhpyy2sm4eb as RuntimeException_init_$Init$_0,
  lastIndexOfpmd3ei5son2n as lastIndexOf,
  closeFinally1sadm0w9gt3u4 as closeFinally,
  setOf1u3mizs95ngxo as setOf,
  arrayOf1akklvh2at202 as arrayOf,
  createKType1lgox3mzhchp5 as createKType,
  to2cs3ny02qtbcb as to,
  collectionSizeOrDefault36dulx8yinfqm as collectionSizeOrDefault,
  ArrayList_init_$Create$3bxttkj3v1mea as ArrayList_init_$Create$_0,
  addAll1k27qatfgp3k5 as addAll,
  mapCapacity1h45rc3eh9p2l as mapCapacity,
  coerceAtLeast2bkz8m9ik7hep as coerceAtLeast,
  LinkedHashMap_init_$Create$23uxki4opd0pn as LinkedHashMap_init_$Create$,
  getStringHashCode26igk1bx568vk as getStringHashCode,
  hashCodeq5arwsb9dgti as hashCode,
  plus17rl43at52ays as plus,
  noWhenBranchMatchedException2a6r7ubxgky5j as noWhenBranchMatchedException,
  StringBuildermazzzhj6kkai as StringBuilder,
  isBlank1dvkhjjvox3p0 as isBlank,
  equals2v6cggk171b6e as equals_0,
  firstOrNull1982767dljvdy as firstOrNull,
  LinkedHashMap_init_$Create$1f9mb1z5f3dxn as LinkedHashMap_init_$Create$_0,
  ArrayDeque_init_$Create$2333dl090ltjt as ArrayDeque_init_$Create$,
  indexOfwa4w6635jewi as indexOf,
  indexOf1xbs558u7wr52 as indexOf_0,
  KtMap140uvy3s5zad8 as KtMap,
  trimIndent1qytc1wvt8suh as trimIndent,
  replace3le3ie7l9k8aq as replace,
  contains3ue2qo8xhmpf1 as contains_0,
  copyToArray2j022khrow2yi as copyToArray,
  mutableListOf6oorvk2mtdmp as mutableListOf,
  Collection1k04j3hzsbod0 as Collection,
  toList3jhuyej2anx2q as toList,
  sortWith4fnm6b3vw03s as sortWith,
  FunctionAdapter3lcrrz3moet5b as FunctionAdapter,
  Comparator2b3maoeh98xtg as Comparator,
  compareValues1n2ayl87ihzfk as compareValues,
  KProperty1ca4yb4wlo496 as KProperty1,
  getPropertyCallableRef1ajb9in178r5r as getPropertyCallableRef,
  initMetadataForInterface1egvbzx539z91 as initMetadataForInterface,
  Companion_getInstanceduyatss8wab7 as Companion_getInstance,
  toInt5qdj874w69jh as toInt_0,
  numberToChar93r9buh19yek as numberToChar,
  toString3o7ifthqydp6e as toString_1,
  Char19o2r8palgjof as Char,
  mapOf1xd03cq9cnmy8 as mapOf,
  sortedWith2csnbbb21k0lg as sortedWith,
  trimMarginhyd3fsmh8iev as trimMargin,
  toList383f556t1dixk as toList_0,
  KtMutableMap1kqeifoi36kpz as KtMutableMap,
  lazy2hsh8ze7j6ikd as lazy_0,
  toMutableList20rdgwi7d3cwi as toMutableList,
  split2bvyvnrlcifjv as split,
  requireNoNulls2okfm75ncb0qi as requireNoNulls,
  filterNotNull3qfgcwmxhwfxe as filterNotNull_0,
  getBooleanHashCode1bbj3u6b3v0a7 as getBooleanHashCode,
  cast3mqmeajf39h9f as cast,
  zipfdxxupzuj2p9 as zip,
  compareTo27a9ghv6nck15 as compareTo,
  compareTo3ankvs086tmwq as compareTo_0,
  Comparable198qfk8pnblz0 as Comparable,
  listOfNotNull2woi2boe01ub4 as listOfNotNull,
  trimStart5ewg8zf6cs5u as trimStart,
  coerceAtMost322komnqp70ag as coerceAtMost,
  charCodeAt1yspne1d8erbm as charCodeAt,
  Companion_getInstance1cdckxf15vkye as Companion_getInstance_0,
  get_indices3txodfl5wuu5j as get_indices,
} from './kotlin-kotlin-stdlib.mjs';
import {
  CqlToElmInfo1lebky1r7snb3 as CqlToElmInfo,
  Expression2x3jxw1rgskle as Expression,
  Quantity31k85bcgd28fg as Quantity,
  Literal1u2du20hj6ejd as Literal,
  DateTimePrecision_YEAR_getInstance24cl64vy04kd as DateTimePrecision_YEAR_getInstance,
  DateTimePrecision_MONTH_getInstance212ue7n26zdf4 as DateTimePrecision_MONTH_getInstance,
  DateTimePrecision_WEEK_getInstancesz7dayha5gly as DateTimePrecision_WEEK_getInstance,
  DateTimePrecision_DAY_getInstance1zogt7s7lz4c8 as DateTimePrecision_DAY_getInstance,
  DateTimePrecision_HOUR_getInstance1us83bcj88rne as DateTimePrecision_HOUR_getInstance,
  DateTimePrecision_MINUTE_getInstance342bgsmks75cu as DateTimePrecision_MINUTE_getInstance,
  DateTimePrecision_SECOND_getInstancetydn5d3zvohb as DateTimePrecision_SECOND_getInstance,
  DateTimePrecision_MILLISECOND_getInstanceymnl6nqzemj5 as DateTimePrecision_MILLISECOND_getInstance,
  AnyInCodeSystempj2gp2c2lt78 as AnyInCodeSystem,
  AnyInValueSetxtdhohplsowd as AnyInValueSet,
  InCodeSystem3mv1ahhbty4md as InCodeSystem,
  InValueSetxczomanbbwwn as InValueSet,
  In1a9np7ccaqrvv as In,
  Contains551kj3cn7ed1 as Contains,
  ToList3o73zxshbhlye as ToList,
  ToConcept2ju19eo73scjn as ToConcept,
  Propertyxbt6r2ojk4qb as Property,
  FunctionRef3pkwqb7v3bjjg as FunctionRef,
  Asrjg40821qmbj as As,
  IncludedIn26y9xkwu2h6yq as IncludedIn,
  BinaryExpression2n0svpzppryur as BinaryExpression,
  And1pa5hsfjplin2 as And,
  SortDirection_ASC_getInstance2b7i3bn673rr5 as SortDirection_ASC_getInstance,
  Element95z6838t8rg6 as Element,
  AccessModifier_PUBLIC_getInstancei8rplyiru3mw as AccessModifier_PUBLIC_getInstance,
  AccessModifier_PRIVATE_getInstance1si9jwc3lljj9 as AccessModifier_PRIVATE_getInstance,
  CodeSystemRef1pcsp9bzptwcs as CodeSystemRef,
  CodeRef3mqd4t57zsp6k as CodeRef,
  TupleElement1tzhzkxi12kws as TupleElement,
  InstanceElement1w0l32hj2k3y2 as InstanceElement,
  Code2ivexf5gsnajj as Code,
  Concatenate1csi14xlsevyo as Concatenate,
  ValueSetRef3pww7n2bx1nuv as ValueSetRef,
  CaseItem3mjts81vht2ya as CaseItem,
  AliasedQuerySourcei1n5j0sbrv0g as AliasedQuerySource,
  RelationshipClause1d3zakk4tpsm3 as RelationshipClause,
  ReturnClauseilp1tdidmyr6 as ReturnClause,
  AggregateClausezunus7y6bov6 as AggregateClause,
  SortClause1hk2aaei881ah as SortClause,
  ByDirection1zj1g81psfzu6 as ByDirection,
  Retrieve1qlk53qk6n6jp as Retrieve,
  LetClause3t3z8pxz1hzgz as LetClause,
  Companion_instance2n5jfehwfktbf as Companion_instance,
  IdentifierRef1a4ttg5ry53gl as IdentifierRef,
  SortByItem22x6zeirawk as SortByItem,
  VersionedIdentifierrrju40asgw86 as VersionedIdentifier,
  IdObjectFactory2cd1u3dp85jk4 as IdObjectFactory,
  DefaultElmLibraryWriterProvider_instance3p77g461w9quu as DefaultElmLibraryWriterProvider_instance,
  UsingDef1wbmh7f653zzo as UsingDef,
  OperandDef47jyv7k0h7aw as OperandDef,
  IncludeDef6puxyeewfnsd as IncludeDef,
  ConceptDefqvp413yoafkz as ConceptDef,
  CodeDef1odeomeva1nvq as CodeDef,
  CodeSystemDef2jirk6retg22s as CodeSystemDef,
  ValueSetDefrndjeurpdlbb as ValueSetDef,
  ParameterDef35ef63k4vlpap as ParameterDef,
  ExpressionDef1w6844jst4sar as ExpressionDef,
  ErrorSeverity_INFO_getInstance1qzi9yk7o22hn as ErrorSeverity_INFO_getInstance,
  ErrorSeverity_WARNING_getInstance1qrgq1318u5qf as ErrorSeverity_WARNING_getInstance,
  ErrorSeverity_ERROR_getInstance2yvmnisgefjrz as ErrorSeverity_ERROR_getInstance,
  Case1u5q3weia5xdq as Case,
  Is3necoh6u7z45x as Is,
  Null1ny0xi4jdfl7j as Null,
  ObjectFactory1dnluy5oyevam as ObjectFactory,
  ErrorType_INTERNAL_getInstanceycp33klrc1qo as ErrorType_INTERNAL_getInstance,
  ErrorType_SEMANTIC_getInstancex0h4wa8jf9zt as ErrorType_SEMANTIC_getInstance,
  ErrorType_SYNTAX_getInstance1k7urhj2g6ida as ErrorType_SYNTAX_getInstance,
  ErrorType_INCLUDE_getInstance2thkq32wnvdgc as ErrorType_INCLUDE_getInstance,
  Unionww593vn3liiw as Union,
  Intersect35adwax9gbzrc as Intersect,
  NamedTypeSpecifier1x2iu50m35du as NamedTypeSpecifier,
  AliasRef3j1y521y01ceg as AliasRef,
  FunctionDef3a6x9492rs57k as FunctionDef,
  DefaultElmLibraryReaderProvider_instance1bn36x5mrpq10 as DefaultElmLibraryReaderProvider_instance,
  createExpressions9kvj7dn9jan as createExpression,
  UnaryExpressiongalunm0m4tlc as UnaryExpression,
  TernaryExpression2zaz8kr00urpe as TernaryExpression,
  NaryExpressionf04njhvt968l as NaryExpression,
  AggregateExpression2jb3z56turjpa as AggregateExpression,
  ParameterTypeSpecifier3lw2m5d15993v as ParameterTypeSpecifier,
  Annotation2qkfe2g54uy3l as Annotation,
  Companion_instancezpwjwo7kz1d4 as Companion_instance_0,
  ContextDef3ssc5feiowazu as ContextDef,
  TupleElementDefinitione5z64dt1rmmp as TupleElementDefinition,
  TypeSpecifier3vdsyvmw3j9fu as TypeSpecifier,
  AccessModifiervgs653imbcs8 as AccessModifier,
} from './cql-all-elm.mjs';
import {
  Companion_instance2a64zvm0y2bsx as Companion_instance_1,
  DataType1x3jp9g1elxp5 as DataType,
  ListType2tcbxayv5xvgz as ListType,
  ChoiceType2gixoen4eujj1 as ChoiceType,
  IntervalType7x0ydfvovxr6 as IntervalType,
  NamedTypej0f1uiwykotq as NamedType,
  NamespaceInfo39vawc1900m2u as NamespaceInfo,
  ClassType1lta2cjq0zkg7 as ClassType,
  TupleTypeElement2a84t9oc6gpt1 as TupleTypeElement,
  TupleType_init_$Create$2wyhk9iqjgpgd as TupleType_init_$Create$,
  ExpressionContext3hf0q23olvae3 as ExpressionContext,
  CaseExpressionItemContext1d0nephurdoju as CaseExpressionItemContext,
  LibraryContext28b9in7jxnfgf as LibraryContext,
  cqlParsery4hd1wi1ye88 as cqlParser,
  NamespaceAware2wy8r4thqdilh as NamespaceAware,
  cqlLexerzqdtp7swhjhi as cqlLexer,
  ModelIdentifier282xy4cycht8w as ModelIdentifier,
  ChoiceType_init_$Create$3b4vzk7reh3ki as ChoiceType_init_$Create$,
  ModelContext3dtyk41cxc38u as ModelContext,
  Companion_getInstancec06gjhlqfa6y as Companion_getInstance_1,
  ChoiceType_init_$Create$1p4ie8r08xx58 as ChoiceType_init_$Create$_0,
  TupleType1ny98ghg7egdp as TupleType,
  parseModelInfoXml1fsgyy00q411b as parseModelInfoXml,
  ModelInfoProvider3ej6xc5ux2t0i as ModelInfoProvider,
  NamespaceManager18qfoofywrgv1 as NamespaceManager,
  TypeParameter37m3goxauge5v as TypeParameter,
  SimpleTypew83544mhy19s as SimpleType,
  ChoiceTypeInfocuojelxqx5vl as ChoiceTypeInfo,
  ListTypeInfo3qvgw8e9j4lk4 as ListTypeInfo,
  IntervalTypeInfo2eqm3ipffaip8 as IntervalTypeInfo,
  TupleTypeInfo2n7jtvmadda2g as TupleTypeInfo,
  ClassInfo29wf7dd2gapdl as ClassInfo,
  SimpleTypeInfo2gx8han95f17i as SimpleTypeInfo,
  NamedTypeSpecifier32er3apxutjxz as NamedTypeSpecifier_0,
  IntervalTypeSpecifier3gzqp0prkvq9q as IntervalTypeSpecifier,
  ListTypeSpecifier1vdd0hwnc3exc as ListTypeSpecifier,
  TupleTypeSpecifier29liltt6cvp6l as TupleTypeSpecifier,
  ChoiceTypeSpecifier1g3qqtpwi8hd2 as ChoiceTypeSpecifier,
  TypeParameterConstraint_NONE_getInstance3ocz50tru1amd as TypeParameterConstraint_NONE_getInstance,
  TypeParameterConstraint_TYPE_getInstance4b1nt26gvtz8 as TypeParameterConstraint_TYPE_getInstance,
  TypeParameterConstraint_INTERVAL_getInstance16ox2dg6tplen as TypeParameterConstraint_INTERVAL_getInstance,
  TypeParameterConstraint_CHOICE_getInstance3pn0pv0cy75e1 as TypeParameterConstraint_CHOICE_getInstance,
  TypeParameterConstraint_VALUE_getInstance19ptb1gjaawyr as TypeParameterConstraint_VALUE_getInstance,
  TypeParameterConstraint_TUPLE_getInstance26a30qzppycoa as TypeParameterConstraint_TUPLE_getInstance,
  TypeParameterConstraint_CLASS_getInstance1r3tyqjgcewb2 as TypeParameterConstraint_CLASS_getInstance,
  ClassTypeElement29phi8ktysynn as ClassTypeElement,
  BoundParameterTypeSpecifier25rucrshkq8de as BoundParameterTypeSpecifier,
  ParameterTypeSpecifier91qjvnp3vg1u as ParameterTypeSpecifier_0,
  SearchTypeqz0uupd7yyoi as SearchType,
  ProfileTypexy7haqyvv6wy as ProfileType,
  ProfileInfo2hsfdpv33ki3f as ProfileInfo,
  Relationship1rh6z53jkjuh7 as Relationship,
  GenericClassSignatureParser1ucn27sxqphj6 as GenericClassSignatureParser,
  TypeParameter_init_$Create$22xrsqf964oga as TypeParameter_init_$Create$,
  cqlBaseVisitor36ld1tt9j7fsd as cqlBaseVisitor,
} from './cql-all-cql.mjs';
import {
  BigDecimalJs_init_$Create$2j5anqk1vmlka as BigDecimalJs_init_$Create$,
  QNameJs_init_$Create$l0zpqpsx1lal as QNameJs_init_$Create$,
} from './cql-all-shared.mjs';
import {
  ParserRuleContext1gg604fkr82fb as ParserRuleContext,
  TerminalNodeivxn93pu4g4d as TerminalNode,
  BaseErrorListener3l50j8jixf51y as BaseErrorListener,
  CommonTokenl6opgwbjf7tl as CommonToken,
  CharStreams_getInstance3gnd832ylv9y3 as CharStreams_getInstance,
  CommonTokenStream1l1edmai5e916 as CommonTokenStream,
  Interval1m1c4nnvh1zfp as Interval,
} from './antlr-kotlin-antlr-kotlin-runtime.mjs';
import {
  readString2nvggcfaijfhd as readString,
  Path21qufdfgaayly as Path,
  get_SystemFileSystemcqw7gp4jhbc7 as get_SystemFileSystem,
  IOException1wyutdmfe71nu as IOException,
  buffered3kq86cdmguv3h as buffered,
  buffered1hqdy4i9j28ez as buffered_0,
  Buffergs925ekssbch as Buffer,
  writeString33ca4btrgctw7 as writeString,
} from './kotlinx-io-kotlinx-io-core.mjs';
import {
  createSimpleEnumSerializer2guioz11kk1m0 as createSimpleEnumSerializer,
  LinkedHashSetSerializer3ncla559t2lx7 as LinkedHashSetSerializer,
  PluginGeneratedSerialDescriptorqdzeg5asqhfg as PluginGeneratedSerialDescriptor,
  UnknownFieldException_init_$Create$hprktcyan42n as UnknownFieldException_init_$Create$,
  BooleanSerializer_getInstance1t8habeqgiyq1 as BooleanSerializer_getInstance,
  StringSerializer_getInstance2wffkbpdux3h9 as StringSerializer_getInstance,
  get_nullable197rfua9r7fsz as get_nullable,
  typeParametersSerializers2likxjr48tr7y as typeParametersSerializers,
  GeneratedSerializer1f7t7hssdd2ws as GeneratedSerializer,
  throwMissingFieldException2cmke0v3ynf14 as throwMissingFieldException,
  serializer1i4e9ym37oxmo as serializer,
  KSerializerzf77vz1967fq as KSerializer,
} from './kotlinx-serialization-kotlinx-serialization-core.mjs';
import {
  JsonObjectee06ihoeeiqj as JsonObject,
  Jsonsmkyu9xjl7fv as Json,
} from './kotlinx-serialization-kotlinx-serialization-json.mjs';
import { encodeToSink161va4wt8a44b as encodeToSink } from './kotlinx-serialization-kotlinx-serialization-json-io.mjs';
import { KotlinLogging_instance177vcamif7bv as KotlinLogging_instance } from './kotlin-logging.mjs';
//region block: imports
var imul = Math.imul;
//endregion
//region block: pre-declaration
initMetadataForCompanion(Companion);
initMetadataForClass(CompiledLibraryMultiResults, 'CompiledLibraryMultiResults');
initMetadataForClass(CompiledLibraryResult, 'CompiledLibraryResult');
initMetadataForObject(CompilerOptions, 'CompilerOptions');
initMetadataForClass(CqlPreprocessorElmCommonVisitor, 'CqlPreprocessorElmCommonVisitor', VOID, cqlBaseVisitor);
initMetadataForClass(Cql2ElmVisitor, 'Cql2ElmVisitor', VOID, CqlPreprocessorElmCommonVisitor);
initMetadataForClass(CqlErrorListener, 'CqlErrorListener', VOID, BaseErrorListener);
initMetadataForClass(CqlCompiler, 'CqlCompiler');
initMetadataForClass(ErrorSeverity, 'ErrorSeverity', VOID, Enum);
initMetadataForCompanion(Companion_0);
initMetadataForClass(CqlCompilerException, 'CqlCompilerException', VOID, RuntimeException);
initMetadataForClass(Options, 'Options', VOID, Enum);
initMetadataForCompanion(Companion_1);
initMetadataForObject($serializer, '$serializer', VOID, VOID, [GeneratedSerializer]);
initMetadataForClass(CqlCompilerOptions, 'CqlCompilerOptions', CqlCompilerOptions, VOID, VOID, VOID, VOID, {0: $serializer_getInstance});
initMetadataForClass(CqlIncludeException, 'CqlIncludeException', VOID, RuntimeException);
initMetadataForClass(CqlInternalException, 'CqlInternalException', VOID, CqlCompilerException);
initMetadataForClass(CqlSemanticException, 'CqlSemanticException', VOID, CqlCompilerException);
initMetadataForClass(CqlSyntaxException, 'CqlSyntaxException', VOID, CqlCompilerException);
initMetadataForClass(Format, 'Format', VOID, Enum);
initMetadataForCompanion(Companion_2);
initMetadataForClass(CqlTranslator, 'CqlTranslator');
initMetadataForClass(Format_0, 'Format', VOID, Enum);
initMetadataForCompanion(Companion_3);
initMetadataForObject($serializer_0, '$serializer', VOID, VOID, [GeneratedSerializer]);
initMetadataForClass(CqlTranslatorOptions, 'CqlTranslatorOptions', CqlTranslatorOptions, VOID, VOID, VOID, VOID, {0: $serializer_getInstance_0});
initMetadataForObject(DataTypes, 'DataTypes');
initMetadataForClass(IdentifierContext, 'IdentifierContext');
initMetadataForClass(SignatureLevel, 'SignatureLevel', VOID, Enum);
initMetadataForClass(BinaryWrapper, 'BinaryWrapper');
initMetadataForClass(IdentifierScope, 'IdentifierScope', VOID, Enum);
initMetadataForClass(Scope, 'Scope');
initMetadataForClass(ExpressionDefinitionContext, 'ExpressionDefinitionContext');
initMetadataForClass(Stack, 'Stack', Stack);
initMetadataForClass(ExpressionDefinitionContextStack, 'ExpressionDefinitionContextStack', VOID, Stack);
initMetadataForCompanion(Companion_4);
initMetadataForClass(LibraryBuilder, 'LibraryBuilder');
initMetadataForClass(LibraryContentType, 'LibraryContentType', VOID, Enum);
initMetadataForClass(CacheMode, 'CacheMode', VOID, Enum);
initMetadataForClass(FunctionSig, 'FunctionSig');
initMetadataForCompanion(Companion_5);
initMetadataForClass(sam$kotlin_Comparator$0, 'sam$kotlin_Comparator$0', VOID, VOID, [Comparator, FunctionAdapter]);
initMetadataForClass(LibraryManager, 'LibraryManager');
function getLibraryContent(libraryIdentifier, type) {
  if (LibraryContentType_CQL_getInstance().equals(type)) {
    return this.getLibrarySource(libraryIdentifier);
  }
  return null;
}
initMetadataForInterface(LibrarySourceLoader, 'LibrarySourceLoader');
function getLibraryContent_0(libraryIdentifier, type) {
  if (LibraryContentType_CQL_getInstance().equals(type)) {
    return this.getLibrarySource(libraryIdentifier);
  }
  return null;
}
initMetadataForInterface(LibrarySourceProvider, 'LibrarySourceProvider');
initMetadataForClass(createLibrarySourceProvider$1, VOID, VOID, VOID, [LibrarySourceProvider]);
initMetadataForInterface(PathAware, 'PathAware');
initMetadataForClass(ModelInfoLoader, 'ModelInfoLoader', ModelInfoLoader, VOID, [NamespaceAware, PathAware]);
initMetadataForClass(createModelInfoProvider$1, VOID, VOID, VOID, [ModelInfoProvider]);
initMetadataForClass(ModelManager, 'ModelManager', ModelManager);
initMetadataForClass(PriorityLibrarySourceLoader, 'PriorityLibrarySourceLoader', PriorityLibrarySourceLoader, VOID, [LibrarySourceLoader, NamespaceAware, PathAware]);
initMetadataForCompanion(Companion_6);
initMetadataForClass(ResultWithPossibleError, 'ResultWithPossibleError');
initMetadataForClass(sam$kotlin_Comparator$0_0, 'sam$kotlin_Comparator$0', VOID, VOID, [Comparator, FunctionAdapter]);
initMetadataForObject(StringEscapeUtils, 'StringEscapeUtils');
initMetadataForCompanion(Companion_7);
initMetadataForClass(SystemFunctionResolver, 'SystemFunctionResolver');
initMetadataForClass(SystemMethodResolver, 'SystemMethodResolver');
initMetadataForClass(InternalModelResolver, 'InternalModelResolver');
initMetadataForClass(TypeBuilder, 'TypeBuilder');
initMetadataForClass(ElmEdit, 'ElmEdit', VOID, Enum);
initMetadataForClass(ElmEdit$REMOVE_LOCATOR, 'REMOVE_LOCATOR', VOID, ElmEdit);
initMetadataForClass(ElmEdit$REMOVE_ANNOTATION, 'REMOVE_ANNOTATION', VOID, ElmEdit);
initMetadataForClass(ElmEdit$REMOVE_RESULT_TYPE, 'REMOVE_RESULT_TYPE', VOID, ElmEdit);
initMetadataForClass(ElmEditor, 'ElmEditor');
initMetadataForClass(CallContext, 'CallContext');
initMetadataForClass(Chunk, 'Chunk');
initMetadataForClass(CompiledLibrary, 'CompiledLibrary', CompiledLibrary);
initMetadataForCompanion(Companion_8);
initMetadataForClass(Conversion, 'Conversion');
initMetadataForClass(TypePrecedenceScore, 'TypePrecedenceScore', VOID, Enum);
initMetadataForClass(ConversionScore, 'ConversionScore', VOID, Enum);
initMetadataForCompanion(Companion_9);
initMetadataForClass(ConversionMap, 'ConversionMap', ConversionMap);
initMetadataForClass(FunctionHeader, 'FunctionHeader');
initMetadataForClass(Operator, 'Operator');
initMetadataForClass(GenericOperator, 'GenericOperator', VOID, Operator);
initMetadataForClass(InstantiationContextImpl, 'InstantiationContextImpl');
initMetadataForClass(InstantiationResult, 'InstantiationResult');
initMetadataForClass(LibraryRef, 'LibraryRef', VOID, Expression);
initMetadataForClass(Model, 'Model');
initMetadataForClass(ModelImporter, 'ModelImporter');
initMetadataForClass(SignatureNode, 'SignatureNode');
initMetadataForClass(SignatureNodes, 'SignatureNodes', SignatureNodes);
initMetadataForClass(OperatorEntry, 'OperatorEntry');
initMetadataForClass(OperatorMap, 'OperatorMap', OperatorMap);
initMetadataForClass(OperatorResolution, 'OperatorResolution');
initMetadataForCompanion(Companion_10);
initMetadataForClass(PropertyResolution, 'PropertyResolution');
initMetadataForClass(QueryContext, 'QueryContext', QueryContext);
initMetadataForClass(ResolvedIdentifierMatchType, 'ResolvedIdentifierMatchType', VOID, Enum);
initMetadataForCompanion(Companion_11);
initMetadataForClass(ResolvedIdentifierContext, 'ResolvedIdentifierContext');
initMetadataForClass(Signature, 'Signature');
initMetadataForObject(SystemLibraryHelper, 'SystemLibraryHelper');
initMetadataForClass(SystemModel, 'SystemModel', VOID, Model);
initMetadataForClass(TimingOperatorContext, 'TimingOperatorContext');
initMetadataForCompanion(Companion_12);
initMetadataForClass(Version, 'Version', VOID, VOID, [Comparable]);
initMetadataForClass(AbstractExpressionInvocation, 'AbstractExpressionInvocation');
initMetadataForClass(AggregateExpressionInvocation, 'AggregateExpressionInvocation', VOID, AbstractExpressionInvocation);
initMetadataForClass(OperatorExpressionInvocation, 'OperatorExpressionInvocation', VOID, AbstractExpressionInvocation);
initMetadataForClass(AnyInCodeSystemInvocation, 'AnyInCodeSystemInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(AnyInValueSetInvocation, 'AnyInValueSetInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(BinaryExpressionInvocation, 'BinaryExpressionInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(CombineInvocation, 'CombineInvocation', VOID, OperatorExpressionInvocation);
initMetadataForCompanion(Companion_13);
initMetadataForClass(DateInvocation, 'DateInvocation', VOID, OperatorExpressionInvocation);
initMetadataForCompanion(Companion_14);
initMetadataForClass(DateTimeInvocation, 'DateTimeInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(FirstInvocation, 'FirstInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(FunctionRefInvocation, 'FunctionRefInvocation', VOID, AbstractExpressionInvocation);
initMetadataForClass(InCodeSystemInvocation, 'InCodeSystemInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(InValueSetInvocation, 'InValueSetInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(IndexOfInvocation, 'IndexOfInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(LastInvocation, 'LastInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(LastPositionOfInvocation, 'LastPositionOfInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(MessageInvocation, 'MessageInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(NaryExpressionInvocation, 'NaryExpressionInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(PositionOfInvocation, 'PositionOfInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(RoundInvocation, 'RoundInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(SkipInvocation, 'SkipInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(SplitInvocation, 'SplitInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(SplitOnMatchesInvocation, 'SplitOnMatchesInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(SubstringInvocation, 'SubstringInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(TailInvocation, 'TailInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(TakeInvocation, 'TakeInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(TernaryExpressionInvocation, 'TernaryExpressionInvocation', VOID, OperatorExpressionInvocation);
initMetadataForCompanion(Companion_15);
initMetadataForClass(TimeInvocation, 'TimeInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(UnaryExpressionInvocation, 'UnaryExpressionInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(ZeroOperandExpressionInvocation, 'ZeroOperandExpressionInvocation', VOID, OperatorExpressionInvocation);
initMetadataForClass(BaseInfo, 'BaseInfo');
initMetadataForClass(CodeDefinitionInfo, 'CodeDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(CodesystemDefinitionInfo, 'CodesystemDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(ConceptDefinitionInfo, 'ConceptDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(ContextDefinitionInfo, 'ContextDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(CqlPreprocessor, 'CqlPreprocessor', VOID, CqlPreprocessorElmCommonVisitor);
initMetadataForCompanion(Companion_16);
initMetadataForClass(Pair, 'Pair');
initMetadataForCompanion(Companion_17);
initMetadataForClass(ExpressionDefinitionInfo, 'ExpressionDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(FunctionDefinitionInfo, 'FunctionDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(IncludeDefinitionInfo, 'IncludeDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(LibraryInfo, 'LibraryInfo', LibraryInfo, BaseInfo);
initMetadataForClass(ParameterDefinitionInfo, 'ParameterDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(UsingDefinitionInfo, 'UsingDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(ValuesetDefinitionInfo, 'ValuesetDefinitionInfo', VOID, BaseInfo);
initMetadataForClass(TrackBack, 'TrackBack');
initMetadataForClass(ExtensionProperties, 'ExtensionProperties', ExtensionProperties);
initMetadataForObject(Trackable, 'Trackable');
initMetadataForClass(createUcumService$2$1);
initMetadataForClass(IdentityHashMap, 'IdentityHashMap', IdentityHashMap);
//endregion
function Companion() {
}
protoOf(Companion).o8t = function (results) {
  return new CompiledLibraryMultiResults(results);
};
var Companion_instance_2;
function Companion_getInstance_2() {
  return Companion_instance_2;
}
function CompiledLibraryMultiResults(results) {
  this.p8t_1 = results;
}
protoOf(CompiledLibraryMultiResults).q8t = function () {
  // Inline function 'kotlin.check' call
  if (!(this.p8t_1.j() === 1)) {
    var message = 'Expected exactly one result, but found ' + this.p8t_1.j();
    throw IllegalStateException_init_$Create$(toString(message));
  }
  return this.p8t_1.o(0);
};
function CompiledLibraryResult(compiledLibrary, errors) {
  this.r8t_1 = compiledLibrary;
  this.s8t_1 = errors;
}
protoOf(CompiledLibraryResult).toString = function () {
  return '' + getKClass(CompiledLibraryResult).lb() + '[compiledLibrary=' + toString(this.r8t_1) + ', errors=' + toString(this.s8t_1) + ']';
};
function getCompilerOptions($this, annotations) {
  var _iterator__ex2g4s = annotations.g();
  while (_iterator__ex2g4s.h()) {
    var base = _iterator__ex2g4s.i();
    if (base instanceof CqlToElmInfo) {
      if (!(base.d65_1 == null)) {
        return base.d65_1;
      }
    }
  }
  return null;
}
function getCompilerVersion($this, annotations) {
  var _iterator__ex2g4s = annotations.g();
  while (_iterator__ex2g4s.h()) {
    var o = _iterator__ex2g4s.i();
    if (o instanceof CqlToElmInfo) {
      return o.c65_1;
    }
  }
  return null;
}
function CompilerOptions() {
}
protoOf(CompilerOptions).t8t = function (library) {
  if (library.n66().q()) {
    return null;
  }
  var compilerOptions = getCompilerOptions(this, library.n66());
  return this.u8t(compilerOptions);
};
protoOf(CompilerOptions).u8t = function (compilerOptions) {
  // Inline function 'kotlin.text.isNullOrEmpty' call
  if (compilerOptions == null || charSequenceLength(compilerOptions) === 0) {
    return null;
  }
  // Inline function 'kotlin.collections.mutableSetOf' call
  var optionSet = LinkedHashSet_init_$Create$();
  // Inline function 'kotlin.text.trim' call
  // Inline function 'kotlin.text.trim' call
  var this_0 = isCharSequence(compilerOptions) ? compilerOptions : THROW_CCE();
  var startIndex = 0;
  var endIndex = charSequenceLength(this_0) - 1 | 0;
  var startFound = false;
  $l$loop: while (startIndex <= endIndex) {
    var index = !startFound ? startIndex : endIndex;
    var it = charSequenceGet(this_0, index);
    var match = Char__compareTo_impl_ypi4mb(it, _Char___init__impl__6a9atx(32)) <= 0;
    if (!startFound) {
      if (!match)
        startFound = true;
      else
        startIndex = startIndex + 1 | 0;
    } else {
      if (!match)
        break $l$loop;
      else
        endIndex = endIndex - 1 | 0;
    }
  }
  var tmp$ret$3 = charSequenceSubSequence(this_0, startIndex, endIndex + 1 | 0);
  var tmp0 = toString(tmp$ret$3);
  // Inline function 'kotlin.text.toRegex' call
  // Inline function 'kotlin.text.split' call
  var tmp0_0 = Regex_init_$Create$(',').wd(tmp0, 0);
  var tmp$ret$9;
  $l$block: {
    // Inline function 'kotlin.collections.dropLastWhile' call
    if (!tmp0_0.q()) {
      var iterator = tmp0_0.c2(tmp0_0.j());
      while (iterator.v5()) {
        // Inline function 'kotlin.text.isEmpty' call
        var this_1 = iterator.x5();
        if (!(charSequenceLength(this_1) === 0)) {
          tmp$ret$9 = take(tmp0_0, iterator.w5() + 1 | 0);
          break $l$block;
        }
      }
    }
    tmp$ret$9 = emptyList();
  }
  var options = tmp$ret$9;
  var _iterator__ex2g4s = options.g();
  while (_iterator__ex2g4s.h()) {
    var option = _iterator__ex2g4s.i();
    optionSet.e(valueOf_0(option));
  }
  return optionSet;
};
protoOf(CompilerOptions).v8t = function (library) {
  if (library.n66().q()) {
    return null;
  }
  return getCompilerVersion(this, library.n66());
};
var CompilerOptions_instance;
function CompilerOptions_getInstance() {
  return CompilerOptions_instance;
}
function getLibraryPath($this, namespaceName, unqualifiedIdentifier) {
  if (!(namespaceName == null)) {
    var namespaceUri = $this.w8t_1.resolveNamespaceUri(namespaceName, true);
    return Companion_instance_1.getPath(namespaceUri, unqualifiedIdentifier);
  }
  return unqualifiedIdentifier;
}
function isUnfilteredContext($this, contextName) {
  return contextName === 'Unfiltered' || ($this.w8t_1.isCompatibilityLevel3 && contextName === 'Population');
}
function isImplicitContextExpressionDef($this, def) {
  var _iterator__ex2g4s = $this.j8v_1.s2().g();
  while (_iterator__ex2g4s.h()) {
    var e = _iterator__ex2g4s.i();
    if (def === e) {
      return true;
    }
  }
  return false;
}
function removeImplicitContextExpressionDef($this, def) {
  // Inline function 'kotlin.collections.iterator' call
  var _iterator__ex2g4s = $this.j8v_1.t2().g();
  $l$loop: while (_iterator__ex2g4s.h()) {
    var _destruct__k2r9zo = _iterator__ex2g4s.i();
    // Inline function 'kotlin.collections.component1' call
    var key = _destruct__k2r9zo.m2();
    // Inline function 'kotlin.collections.component2' call
    var value = _destruct__k2r9zo.n2();
    if (def === value) {
      $this.j8v_1.v2(key);
      break $l$loop;
    }
  }
}
function internalVisitExpressionDefinition($this, ctx) {
  var identifier = ensureNotNull($this.k8v(ctx.g3w()));
  var def = $this.w8t_1.resolveExpressionRef(identifier);
  if (def == null) {
    var hollowExpressionDef = $this.y8t_1.d7n().q65(identifier).g6w($this.b8u_1);
    var ir = $this.y8t_1.p7k().q65(identifier);
    track($this, ir, ctx.g3w());
    $this.w8t_1.pushIdentifier(ir, hollowExpressionDef, IdentifierScope_GLOBAL_getInstance());
  }
  if (def == null || isImplicitContextExpressionDef($this, def)) {
    if (!(def == null) && isImplicitContextExpressionDef($this, def)) {
      $this.w8t_1.removeExpression(def);
      removeImplicitContextExpressionDef($this, def);
    }
    $this.w8t_1.pushExpressionContext($this.b8u_1);
    try {
      $this.w8t_1.pushExpressionDefinition(identifier);
      try {
        var tmp = $this.y8t_1.d7n().b6i($this.l8v(ctx.h3w())).q65(identifier).g6w($this.b8u_1);
        var tmp_0 = $this.d32(ctx.j3w());
        def = tmp.r69((tmp_0 == null ? true : tmp_0 instanceof Expression) ? tmp_0 : THROW_CCE());
        if (!(def.f6w_1 == null)) {
          Trackable_getInstance().o8v(def, Trackable_getInstance().n8v(ensureNotNull(def.f6w_1)));
        }
        $this.w8t_1.addExpression(def);
      }finally {
        $this.w8t_1.popExpressionDefinition();
      }
    }finally {
      $this.w8t_1.popExpressionContext();
    }
  }
  return def;
}
function parseDateTimeLiteral($this, input) {
  var dateTimePattern = Regex_init_$Create$('(\\d{4})(((-(\\d{2}))(((-(\\d{2}))((T)((\\d{2})(:(\\d{2})(:(\\d{2})(\\.(\\d+))?)?)?)?)?)|(T))?)|(T))?((Z)|(([+-])(\\d{2})(:(\\d{2}))))?');
  var matcher = dateTimePattern.sd(input);
  var tmp;
  if (!(matcher == null)) {
    var tmp_0;
    try {
      var result = $this.y8t_1.b7m();
      var year = toInt(ensureNotNull(matcher.zd().o(1)).yd_1);
      var month = -1;
      var day = -1;
      var hour = -1;
      var minute = -1;
      var second = -1;
      var millisecond = -1;
      result.w6q_1 = $this.w8t_1.j8w(year);
      if (!(matcher.zd().o(5) == null)) {
        month = toInt(ensureNotNull(matcher.zd().o(5)).yd_1);
        // Inline function 'kotlin.require' call
        if (!(0 <= month ? month <= 12 : false)) {
          var message = 'Invalid month in date/time literal (' + input + ').';
          throw IllegalArgumentException_init_$Create$(toString(message));
        }
        result.x6q_1 = $this.w8t_1.j8w(month);
      }
      if (!(matcher.zd().o(9) == null)) {
        day = toInt(ensureNotNull(matcher.zd().o(9)).yd_1);
        var maxDay = 31;
        switch (month) {
          case 2:
            maxDay = isLeapYear(year) ? 29 : 28;
            break;
          case 4:
          case 6:
          case 9:
          case 11:
            maxDay = 30;
            break;
        }
        // Inline function 'kotlin.require' call
        if (!(0 <= day ? day <= maxDay : false)) {
          var message_0 = 'Invalid day in date/time literal (' + input + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        }
        result.y6q_1 = $this.w8t_1.j8w(day);
      }
      if (!(matcher.zd().o(13) == null)) {
        hour = toInt(ensureNotNull(matcher.zd().o(13)).yd_1);
        // Inline function 'kotlin.require' call
        if (!(0 <= hour ? hour <= 24 : false)) {
          var message_1 = 'Invalid hour in date/time literal (' + input + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_1));
        }
        result.z6q_1 = $this.w8t_1.j8w(hour);
      }
      if (!(matcher.zd().o(15) == null)) {
        minute = toInt(ensureNotNull(matcher.zd().o(15)).yd_1);
        // Inline function 'kotlin.require' call
        if (!((0 <= minute ? minute <= 60 : false) && !(hour === 24 && minute > 0))) {
          var message_2 = 'Invalid minute in date/time literal (' + input + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_2));
        }
        result.a6r_1 = $this.w8t_1.j8w(minute);
      }
      if (!(matcher.zd().o(17) == null)) {
        second = toInt(ensureNotNull(matcher.zd().o(17)).yd_1);
        // Inline function 'kotlin.require' call
        if (!((0 <= second ? second <= 60 : false) && !(hour === 24 && second > 0))) {
          var message_3 = 'Invalid second in date/time literal (' + input + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_3));
        }
        result.b6r_1 = $this.w8t_1.j8w(second);
      }
      if (!(matcher.zd().o(19) == null)) {
        millisecond = toInt(ensureNotNull(matcher.zd().o(19)).yd_1);
        // Inline function 'kotlin.require' call
        if (!(millisecond >= 0 && !(hour === 24 && millisecond > 0))) {
          var message_4 = 'Invalid millisecond in date/time literal (' + input + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_4));
        }
        result.c6r_1 = $this.w8t_1.j8w(millisecond);
      }
      if (!(matcher.zd().o(23) == null) && ensureNotNull(matcher.zd().o(23)).yd_1 === 'Z') {
        result.d6r_1 = $this.w8t_1.k8w(0.0);
      }
      if (!(matcher.zd().o(25) == null)) {
        var offsetPolarity = ensureNotNull(matcher.zd().o(25)).yd_1 === '+' ? 1 : -1;
        if (!(matcher.zd().o(28) == null)) {
          var hourOffset = toInt(ensureNotNull(matcher.zd().o(26)).yd_1);
          // Inline function 'kotlin.require' call
          if (!(0 <= hourOffset ? hourOffset <= 14 : false)) {
            var message_5 = 'Timezone hour offset is out of range in date/time literal (' + input + ').';
            throw IllegalArgumentException_init_$Create$(toString(message_5));
          }
          var minuteOffset = toInt(ensureNotNull(matcher.zd().o(28)).yd_1);
          // Inline function 'kotlin.require' call
          if (!((0 <= minuteOffset ? minuteOffset <= 60 : false) && !(hourOffset === 14 && minuteOffset > 0))) {
            var message_6 = 'Timezone minute offset is out of range in date/time literal (' + input + ').';
            throw IllegalArgumentException_init_$Create$(toString(message_6));
          }
          result.d6r_1 = $this.w8t_1.k8w((hourOffset + minuteOffset / 60) * offsetPolarity);
        } else {
          if (!(matcher.zd().o(26) == null)) {
            var hourOffset_0 = toInt(ensureNotNull(matcher.zd().o(26)).yd_1);
            // Inline function 'kotlin.require' call
            if (!(0 <= hourOffset_0 ? hourOffset_0 <= 14 : false)) {
              var message_7 = 'Timezone hour offset is out of range in date/time literal (' + input + ').';
              throw IllegalArgumentException_init_$Create$(toString(message_7));
            }
            result.d6r_1 = $this.w8t_1.k8w(imul(hourOffset_0, offsetPolarity));
          }
        }
      }
      if (result.z6q_1 == null && matcher.zd().o(11) == null && matcher.zd().o(20) == null && matcher.zd().o(21) == null) {
        var date = $this.y8t_1.h7q();
        date.w6p_1 = result.w6q_1;
        date.x6p_1 = result.x6q_1;
        date.y6p_1 = result.y6q_1;
        Trackable_getInstance().o8v(date, $this.w8t_1.l8w('System', 'Date'));
        return date;
      }
      Trackable_getInstance().o8v(result, $this.w8t_1.l8w('System', 'DateTime'));
      tmp_0 = result;
    } catch ($p) {
      var tmp_1;
      if ($p instanceof RuntimeException) {
        var e = $p;
        throw IllegalArgumentException_init_$Create$_0('Invalid date-time input (' + input + ').' + ' Use ISO 8601 date time representation (yyyy-MM-ddThh:mm:ss.fff(Z|(+/-hh:mm)).', e);
      } else {
        throw $p;
      }
    }
    tmp = tmp_0;
  } else {
    throw IllegalArgumentException_init_$Create$('Invalid date-time input (' + input + ').' + ' Use ISO 8601 date time representation (yyyy-MM-ddThh:mm:ss.fff(Z|+/-hh:mm)).');
  }
  return tmp;
}
function parseDecimal($this, value) {
  var tmp;
  try {
    tmp = BigDecimalJs_init_$Create$(value);
  } catch ($p) {
    var tmp_0;
    if ($p instanceof Exception) {
      var e = $p;
      throw IllegalArgumentException_init_$Create$('Could not parse number literal: ' + value);
    } else {
      throw $p;
    }
  }
  return tmp;
}
function getQuantity($this, source) {
  if (source instanceof Literal) {
    return $this.w8t_1.createQuantity(parseDecimal($this, ensureNotNull(source.u7a_1)), '1');
  } else {
    if (source instanceof Quantity) {
      return source;
    }
  }
  throw IllegalArgumentException_init_$Create$('Could not create quantity from source expression.');
}
function parseComparableDateTimePrecision($this, dateTimePrecision) {
  return parseDateTimePrecision($this, dateTimePrecision, true, false);
}
function parseComparableDateTimePrecision_0($this, dateTimePrecision, precisionRequired) {
  return parseDateTimePrecision($this, dateTimePrecision, precisionRequired, false);
}
function parseDateTimePrecision($this, dateTimePrecision, precisionRequired, allowWeeks) {
  if (dateTimePrecision == null) {
    // Inline function 'kotlin.require' call
    if (!!precisionRequired) {
      var message = 'dateTimePrecision is null';
      throw IllegalArgumentException_init_$Create$(toString(message));
    }
    return null;
  }
  var tmp;
  switch (dateTimePrecision) {
    case 'a':
    case 'year':
    case 'years':
      tmp = DateTimePrecision_YEAR_getInstance();
      break;
    case 'mo':
    case 'month':
    case 'months':
      tmp = DateTimePrecision_MONTH_getInstance();
      break;
    case 'wk':
    case 'week':
    case 'weeks':
      // Inline function 'kotlin.require' call

      if (!allowWeeks) {
        var message_0 = 'Week precision cannot be used for comparisons.';
        throw IllegalArgumentException_init_$Create$(toString(message_0));
      }

      tmp = DateTimePrecision_WEEK_getInstance();
      break;
    case 'd':
    case 'day':
    case 'days':
      tmp = DateTimePrecision_DAY_getInstance();
      break;
    case 'h':
    case 'hour':
    case 'hours':
      tmp = DateTimePrecision_HOUR_getInstance();
      break;
    case 'min':
    case 'minute':
    case 'minutes':
      tmp = DateTimePrecision_MINUTE_getInstance();
      break;
    case 's':
    case 'second':
    case 'seconds':
      tmp = DateTimePrecision_SECOND_getInstance();
      break;
    case 'ms':
    case 'millisecond':
    case 'milliseconds':
      tmp = DateTimePrecision_MILLISECOND_getInstance();
      break;
    default:
      throw IllegalArgumentException_init_$Create$("Unknown precision '" + dateTimePrecision + "'.");
  }
  return tmp;
}
function parseDateTimePrecision$default($this, dateTimePrecision, precisionRequired, allowWeeks, $super) {
  precisionRequired = precisionRequired === VOID ? true : precisionRequired;
  allowWeeks = allowWeeks === VOID ? true : allowWeeks;
  return parseDateTimePrecision($this, dateTimePrecision, precisionRequired, allowWeeks);
}
function buildRetrieve($this, ctx, useStrictRetrieveTyping, namedType, classType, codePath, codeComparator, property, propertyType, propertyException, terminology) {
  var codeComparator_0 = codeComparator;
  var tmp = $this.y8t_1.w7l();
  var retrieve = tmp.x81($this.w8t_1.dataTypeToQName((namedType == null ? true : isInterface(namedType, DataType)) ? namedType : THROW_CCE())).y81(classType.m60_1).z81(codePath);
  if (!(ctx.j4a() == null)) {
    // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
    var this_0 = $this.d32(ensureNotNull(ctx.j4a()));
    var identifiers = (!(this_0 == null) ? isInterface(this_0, KtList) : false) ? this_0 : THROW_CCE();
    var contextExpression = resolveQualifiedIdentifier($this, identifiers);
    retrieve.o81_1 = contextExpression;
  }
  if (!(terminology == null)) {
    try {
      if (codeComparator_0 == null) {
        codeComparator_0 = '~';
        var tmp_0 = Trackable_getInstance().n8v(terminology);
        if (tmp_0 instanceof ListType) {
          codeComparator_0 = 'in';
        } else {
          if ($this.w8t_1.isCompatibleWith('1.5')) {
            var tmp_1;
            if (!(propertyType == null) && propertyType.x5z(ensureNotNull($this.w8t_1.l8w('System', 'Vocabulary')))) {
              tmp_1 = ensureNotNull(Trackable_getInstance().n8v(terminology)).x5z(ensureNotNull($this.w8t_1.l8w('System', 'Vocabulary'))) ? '~' : 'contains';
            } else {
              tmp_1 = ensureNotNull(Trackable_getInstance().n8v(terminology)).x5z(ensureNotNull($this.w8t_1.l8w('System', 'Vocabulary'))) ? 'in' : '~';
            }
            codeComparator_0 = tmp_1;
          }
        }
      }
      if (property == null) {
        throw ensureNotNull(propertyException);
      }
      switch (codeComparator_0) {
        case 'in':
          var inExpression = $this.w8t_1.m8w(property, terminology);
          if (inExpression instanceof In) {
            retrieve.m81_1 = inExpression.o67().o(1);
          } else {
            if (inExpression instanceof InValueSet) {
              retrieve.m81_1 = inExpression.w71_1;
            } else {
              if (inExpression instanceof InCodeSystem) {
                retrieve.m81_1 = inExpression.m71_1;
              } else {
                if (inExpression instanceof AnyInValueSet) {
                  retrieve.m81_1 = inExpression.a6b_1;
                } else {
                  if (inExpression instanceof AnyInCodeSystem) {
                    retrieve.m81_1 = inExpression.o6a_1;
                  } else {
                    $this.w8t_1.recordParsingException(CqlSemanticException_init_$Create$_0('Unexpected membership operator ' + getKClassFromExpression(inExpression).lb() + ' in retrieve', useStrictRetrieveTyping ? ErrorSeverity_Error_getInstance() : ErrorSeverity_Warning_getInstance(), getTrackBack_1($this, ctx)));
                  }
                }
              }
            }
          }

          break;
        case 'contains':
          var contains = $this.w8t_1.n8w(property, terminology);
          if (contains instanceof Contains) {
            retrieve.m81_1 = contains.o67().o(1);
          }

          $this.w8t_1.recordParsingException(CqlSemanticException_init_$Create$_0('Terminology resolution using contains is not supported at this time. Use a where clause with an in operator instead.', useStrictRetrieveTyping ? ErrorSeverity_Error_getInstance() : ErrorSeverity_Warning_getInstance(), getTrackBack_1($this, ctx)));
          break;
        case '~':
          var equivalent = $this.y8t_1.z7o().f67(listOf([property, terminology]));
          $this.w8t_1.o8w('System', 'Equivalent', equivalent);
          var tmp_2;
          var tmp_3 = Trackable_getInstance().n8v(equivalent.o67().o(1));
          if (tmp_3 instanceof ListType) {
            tmp_2 = true;
          } else {
            tmp_2 = ($this.w8t_1.isCompatibleWith('1.5') && ensureNotNull(Trackable_getInstance().n8v(equivalent.o67().o(1))).x5z(ensureNotNull($this.w8t_1.l8w('System', 'Vocabulary'))));
          }

          if (!tmp_2) {
            retrieve.m81_1 = $this.w8t_1.resolveToList(equivalent.o67().o(1));
          } else {
            retrieve.m81_1 = equivalent.o67().o(1);
          }

          break;
        case '=':
          var equal = $this.y8t_1.e7m().f67(listOf([property, terminology]));
          $this.w8t_1.o8w('System', 'Equal', equal);
          var tmp_4;
          var tmp_5 = Trackable_getInstance().n8v(equal.o67().o(1));
          if (tmp_5 instanceof ListType) {
            tmp_4 = true;
          } else {
            tmp_4 = ($this.w8t_1.isCompatibleWith('1.5') && ensureNotNull(Trackable_getInstance().n8v(equal.o67().o(1))).x5z(ensureNotNull($this.w8t_1.l8w('System', 'Vocabulary'))));
          }

          if (!tmp_4) {
            retrieve.m81_1 = $this.w8t_1.resolveToList(equal.o67().o(1));
          } else {
            retrieve.m81_1 = equal.o67().o(1);
          }

          break;
        default:
          $this.w8t_1.recordParsingException(CqlSemanticException_init_$Create$_0('Unknown code comparator ' + codeComparator_0 + ' in retrieve', useStrictRetrieveTyping ? ErrorSeverity_Error_getInstance() : ErrorSeverity_Warning_getInstance(), getTrackBack_1($this, ensureNotNull(ctx.m4a()))));
          break;
      }
      retrieve.e81_1 = codeComparator_0;
      var tmp_6;
      var tmp_7;
      if (!(retrieve.m81_1 == null) && !(Trackable_getInstance().n8v(ensureNotNull(retrieve.m81_1)) == null)) {
        var tmp_8 = Trackable_getInstance().n8v(ensureNotNull(retrieve.m81_1));
        tmp_7 = tmp_8 instanceof ListType;
      } else {
        tmp_7 = false;
      }
      if (tmp_7) {
        var tmp_9 = Trackable_getInstance().n8v(ensureNotNull(retrieve.m81_1));
        tmp_6 = equals((tmp_9 instanceof ListType ? tmp_9 : THROW_CCE()).d61_1, $this.w8t_1.l8w('System', 'Concept'));
      } else {
        tmp_6 = false;
      }
      if (tmp_6) {
        var tmp_10 = retrieve.m81_1;
        if (tmp_10 instanceof ToList) {
          var tmp_11 = retrieve.m81_1;
          var toList = tmp_11 instanceof ToList ? tmp_11 : THROW_CCE();
          var tmp_12 = toList.u66_1;
          if (tmp_12 instanceof ToConcept) {
            var tmp_13 = toList;
            var tmp_14 = toList.u66_1;
            tmp_13.u66_1 = (tmp_14 instanceof ToConcept ? tmp_14 : THROW_CCE()).u66_1;
          } else {
            var codesAccessor = $this.w8t_1.p8w(toList.u66_1, 'codes', false, Trackable_getInstance().n8v(ensureNotNull(toList.u66_1)));
            retrieve.m81_1 = codesAccessor;
          }
        } else {
          $this.w8t_1.recordParsingException(CqlSemanticException_init_$Create$_0('Terminology target is a list of concepts, but expects a list of codes', ErrorSeverity_Warning_getInstance(), getTrackBack_1($this, ctx)));
        }
      }
    } catch ($p) {
      if ($p instanceof Exception) {
        var e = $p;
        var tmp_15;
        if ($this.w8t_1.isCompatibleWith('1.5') && !ensureNotNull(Trackable_getInstance().n8v(terminology)).x5z(ensureNotNull($this.w8t_1.l8w('System', 'Vocabulary')))) {
          tmp_15 = true;
        } else {
          var tmp_16;
          if (!$this.w8t_1.isCompatibleWith('1.5')) {
            var tmp_17 = Trackable_getInstance().n8v(terminology);
            tmp_16 = !(tmp_17 instanceof ListType);
          } else {
            tmp_16 = false;
          }
          tmp_15 = tmp_16;
        }
        if (tmp_15) {
          retrieve.m81_1 = $this.w8t_1.resolveToList(terminology);
        } else {
          retrieve.m81_1 = terminology;
        }
        retrieve.e81_1 = codeComparator_0;
        $this.w8t_1.recordParsingException(CqlSemanticException_init_$Create$_2('Could not resolve membership operator for terminology target of the retrieve.', useStrictRetrieveTyping ? ErrorSeverity_Error_getInstance() : ErrorSeverity_Warning_getInstance(), getTrackBack_1($this, ctx), e));
      } else {
        throw $p;
      }
    }
  }
  return retrieve;
}
function attemptDateRangeOptimization($this, during, retrieve, alias) {
  if (!(retrieve.g81_1 == null) || !(retrieve.n81_1 == null)) {
    return false;
  }
  var left = during.o67().o(0);
  var right = during.o67().o(1);
  var propertyPath = getPropertyPath($this, left, alias);
  if (!(propertyPath == null) && isRHSEligibleForDateRangeOptimization($this, right)) {
    retrieve.g81_1 = propertyPath;
    retrieve.n81_1 = right;
    return true;
  }
  return false;
}
function getPropertyPath($this, reference, alias) {
  var ref = reference;
  ref = getConversionReference($this, ref);
  ref = getChoiceSelection($this, ref);
  if (ref instanceof Property) {
    var property = ref;
    if (alias === property.n7x_1) {
      return property.m7x_1;
    } else if (!(property.o7x_1 == null)) {
      var subPath = getPropertyPath($this, ensureNotNull(property.o7x_1), alias);
      if (!(subPath == null)) {
        return '' + subPath + '.' + property.m7x_1;
      }
    }
  }
  return null;
}
function getConversionReference($this, reference) {
  if (reference instanceof FunctionRef) {
    var functionRef = reference;
    if (functionRef.o67().j() === 1 && !(Trackable_getInstance().n8v(functionRef) == null) && !(Trackable_getInstance().n8v(functionRef.o67().o(0)) == null)) {
      var o = $this.w8t_1.conversionMap.w8w(ensureNotNull(Trackable_getInstance().n8v(functionRef.o67().o(0))), ensureNotNull(Trackable_getInstance().n8v(functionRef)));
      if (!(o == null) && !(o.e8x_1 == null) && o.e8x_1 == functionRef.n6w_1 && o.x8w_1 === functionRef.m6w_1) {
        return functionRef.o67().o(0);
      }
    }
  }
  return reference;
}
function getChoiceSelection($this, reference) {
  if (reference instanceof As) {
    var tmp;
    if (!(reference.u66_1 == null)) {
      var tmp_0 = Trackable_getInstance().n8v(ensureNotNull(reference.u66_1));
      tmp = tmp_0 instanceof ChoiceType;
    } else {
      tmp = false;
    }
    if (tmp) {
      return ensureNotNull(reference.u66_1);
    }
  }
  return reference;
}
function attemptDateRangeOptimization_0($this, and, retrieve, alias) {
  if (!(retrieve.g81_1 == null) || !(retrieve.n81_1 == null)) {
    return false;
  }
  var inductionVariable = 0;
  var last = and.o67().j() - 1 | 0;
  if (inductionVariable <= last)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var operand = and.o67().o(i);
      var tmp;
      var tmp_0;
      if (operand instanceof IncludedIn) {
        tmp_0 = true;
      } else {
        tmp_0 = operand instanceof In;
      }
      if (tmp_0) {
        tmp = attemptDateRangeOptimization($this, operand instanceof BinaryExpression ? operand : THROW_CCE(), retrieve, alias);
      } else {
        tmp = false;
      }
      if (tmp) {
        and.o67().j2(i, $this.w8t_1.f8x(true));
        return true;
      } else {
        var tmp_1;
        if (operand instanceof And) {
          tmp_1 = attemptDateRangeOptimization_0($this, operand, retrieve, alias);
        } else {
          tmp_1 = false;
        }
        if (tmp_1) {
          return true;
        }
      }
    }
     while (inductionVariable <= last);
  return false;
}
function consolidateAnd($this, and) {
  var result = and;
  var lhs = and.o67().o(0);
  var rhs = and.o67().o(1);
  if (isBooleanLiteral($this, lhs, true))
    result = rhs;
  else {
    if (isBooleanLiteral($this, rhs, true))
      result = lhs;
    else {
      if (lhs instanceof And) {
        and.o67().j2(0, consolidateAnd($this, lhs));
      } else {
        if (rhs instanceof And) {
          and.o67().j2(1, consolidateAnd($this, rhs));
        }
      }
    }
  }
  return result;
}
function isRHSEligibleForDateRangeOptimization($this, rhs) {
  return ensureNotNull(Trackable_getInstance().n8v(rhs)).x5z(ensureNotNull($this.w8t_1.l8w('System', 'DateTime'))) || ensureNotNull(Trackable_getInstance().n8v(rhs)).x5z(new IntervalType(ensureNotNull($this.w8t_1.l8w('System', 'DateTime'))));
}
function parseSortDirection($this, ctx) {
  var tmp;
  if (!(ctx == null)) {
    tmp = $this.l35(ctx);
  } else {
    tmp = SortDirection_ASC_getInstance();
  }
  return tmp;
}
function resolveQualifiedIdentifier($this, identifiers) {
  var current = null;
  var _iterator__ex2g4s = identifiers.g();
  while (_iterator__ex2g4s.h()) {
    var identifier = _iterator__ex2g4s.i();
    var tmp;
    if (current == null) {
      tmp = resolveIdentifier($this, identifier);
    } else {
      tmp = $this.w8t_1.resolveAccessor(current, identifier);
    }
    current = tmp;
  }
  return current;
}
function resolveMemberIdentifier($this, identifier) {
  if ($this.w8t_1.hasExpressionTarget()) {
    var target = $this.w8t_1.popExpressionTarget();
    var tmp;
    try {
      tmp = $this.w8t_1.resolveAccessor(target, identifier);
    }finally {
      $this.w8t_1.pushExpressionTarget(target);
    }
    return tmp;
  }
  return resolveIdentifier($this, identifier);
}
function resolveIdentifier($this, identifier) {
  var result = $this.w8t_1.resolveIdentifier(identifier, false);
  if (result == null) {
    var expressionInfo = $this.d8u_1.z8x(identifier);
    if (!(expressionInfo == null)) {
      var saveContext = $this.g8y(expressionInfo.e8y_1);
      try {
        var saveChunks = $this.c8u_1;
        $this.c8u_1 = new Stack();
        $this.c8v_1.i8y(expressionInfo);
        try {
          var tmp0 = expressionInfo.f8y_1;
          $l$block: {
            // Inline function 'kotlin.requireNotNull' call
            if (tmp0 == null) {
              var message = 'Could not validate reference to expression ' + expressionInfo.d8y_1 + ' because its definition contains errors.';
              throw IllegalArgumentException_init_$Create$(toString(message));
            } else {
              break $l$block;
            }
          }
          $this.d32(expressionInfo.f8y_1);
        }finally {
          $this.c8u_1 = saveChunks;
          $this.c8v_1.r2c();
        }
      }finally {
        $this.b8u_1 = saveContext;
      }
    }
    var parameterInfo = $this.d8u_1.j8y(identifier);
    if (!(parameterInfo == null)) {
      $this.o33(parameterInfo.o8y_1);
    }
    result = $this.w8t_1.resolveIdentifier(identifier, true);
  }
  return result;
}
function ensureSystemFunctionName($this, libraryName, functionName) {
  if (libraryName == null || libraryName === 'System') {
    switch (functionName) {
      case 'contains':
        return 'Contains';
      case 'distinct':
        return 'Distinct';
      case 'exists':
        return 'Exists';
      case 'in':
        return 'In';
      case 'not':
        return 'Not';
      default:
        return functionName;
    }
  }
  return functionName;
}
function resolveFunction($this, libraryName, functionName, paramList) {
  var expressions = ArrayList_init_$Create$();
  if (!((paramList == null ? null : paramList.j3w()) == null)) {
    var _iterator__ex2g4s = paramList.j3w().g();
    while (_iterator__ex2g4s.h()) {
      var expressionContext = _iterator__ex2g4s.i();
      var tmp = $this.d32(expressionContext);
      expressions.e(tmp instanceof Expression ? tmp : THROW_CCE());
    }
  }
  return $this.p8y(libraryName, functionName, expressions, true, false, false);
}
function resolveFunctionOrQualifiedFunction($this, identifier, paramListCtx) {
  if ($this.w8t_1.hasExpressionTarget()) {
    var target = $this.w8t_1.popExpressionTarget();
    try {
      if (target instanceof LibraryRef) {
        return resolveFunction($this, target.v8y_1, identifier, paramListCtx);
      }
      if ($this.j8u_1) {
        return $this.a8v_1.z8y(target, identifier, paramListCtx, true);
      }
      if (!$this.j8u_1) {
        throw new CqlCompilerException('The identifier ' + identifier + ' could not be resolved as an invocation because method-style invocation is disabled.', ErrorSeverity_Error_getInstance());
      }
      throw IllegalArgumentException_init_$Create$('Invalid invocation target: ' + getKClassFromExpression(target).lb());
    }finally {
      $this.w8t_1.pushExpressionTarget(target);
    }
  }
  var thisRef = $this.w8t_1.resolveIdentifier('$this', false);
  if (!(thisRef == null)) {
    var result = $this.a8v_1.z8y(thisRef, identifier, paramListCtx, false);
    if (!(result == null)) {
      return result;
    }
  }
  var parameterRef = $this.w8t_1.resolveImplicitContext();
  if (!(parameterRef == null)) {
    var result_0 = $this.a8v_1.z8y(parameterRef, identifier, paramListCtx, false);
    if (!(result_0 == null)) {
      return result_0;
    }
  }
  return resolveFunction($this, null, identifier, paramListCtx);
}
function getFunctionHeader($this, ctx) {
  var fh = $this.d8v_1.q2(ctx);
  if (fh == null) {
    var saveChunks = $this.c8u_1;
    $this.c8u_1 = new Stack();
    var tmp;
    try {
      tmp = $this.a8z(ctx);
    }finally {
      $this.c8u_1 = saveChunks;
    }
    fh = tmp;
    var tmp0 = $this.d8v_1;
    // Inline function 'kotlin.collections.set' call
    var value = fh;
    tmp0.u2(ctx, value);
    $this.f8v_1.c8z(fh, ctx);
    $this.e8v_1.c8z(fh.d8z_1, fh);
  }
  return fh;
}
function getFunctionDef($this, op) {
  var target = null;
  var st = ArrayList_init_$Create$();
  var _iterator__ex2g4s = op.y8w_1.h8z_1.g();
  while (_iterator__ex2g4s.h()) {
    var dt = _iterator__ex2g4s.i();
    st.e(dt);
  }
  var fds = $this.w8t_1.compiledLibrary.p8z(op.x8w_1, st);
  var _iterator__ex2g4s_0 = fds.g();
  while (_iterator__ex2g4s_0.h()) {
    var fd = _iterator__ex2g4s_0.i();
    if (ensureNotNull(fd).o67().j() === op.y8w_1.j()) {
      var signatureTypes = op.y8w_1.h8z_1.g();
      var signaturesMatch = true;
      var inductionVariable = 0;
      var last = fd.o67().j() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          if (!DataTypes_instance.q8z(Trackable_getInstance().n8v(fd.o67().o(i)), signatureTypes.i())) {
            signaturesMatch = false;
          }
        }
         while (inductionVariable <= last);
      if (signaturesMatch) {
        // Inline function 'kotlin.check' call
        if (!(target == null)) {
          var message = 'Internal error attempting to resolve function header for ' + op.x8w_1;
          throw IllegalStateException_init_$Create$(toString(message));
        }
        target = fd;
      }
    }
  }
  return target;
}
function getFunctionHeaderByDef($this, fd) {
  return $this.e8v_1.r8z(fd);
}
function getFunctionHeader_0($this, op) {
  var tmp0_elvis_lhs = getFunctionDef($this, op);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Could not resolve function header for operator ' + op.x8w_1);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var fd = tmp;
  var tmp1_elvis_lhs = getFunctionHeaderByDef($this, fd);
  var tmp_0;
  if (tmp1_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Could not resolve function header for operator ' + op.x8w_1);
  } else {
    tmp_0 = tmp1_elvis_lhs;
  }
  return tmp_0;
}
function getFunctionDefinitionContext($this, fh) {
  var tmp0_elvis_lhs = $this.f8v_1.r8z(fh);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Could not resolve function definition context for function header ' + fh.d8z_1.c6w_1);
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
}
function registerFunctionDefinition($this, ctx) {
  var fh = getFunctionHeader($this, ctx);
  if (!$this.w8t_1.compiledLibrary.s8z(fh.d8z_1)) {
    $this.w8t_1.addExpression(fh.d8z_1);
  }
}
function compileFunctionDefinition($this, ctx) {
  var fh = getFunctionHeader($this, ctx);
  var functionDef = fh.d8z_1;
  var resultType = fh.e8z_1;
  var tmp0_elvis_lhs = $this.w8t_1.resolveFunctionDefinition(fh.d8z_1);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Internal error: Could not resolve operator map entry for function header ' + fh.t8z());
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var op = tmp;
  var ir = $this.y8t_1.p7k().q65(functionDef.c6w_1);
  track($this, ir, ctx.n46());
  $this.w8t_1.pushIdentifier(ir, functionDef, IdentifierScope_GLOBAL_getInstance());
  var tmp_0 = ensureNotNull(op.a8x_1).o67();
  var operand = isInterface(tmp_0, KtList) ? tmp_0 : THROW_CCE();
  var _iterator__ex2g4s = operand.g();
  while (_iterator__ex2g4s.h()) {
    var operandDef = _iterator__ex2g4s.i();
    var oir = $this.y8t_1.p7k().q65(operandDef.v7q_1);
    track_0($this, oir, operandDef);
    $this.w8t_1.pushIdentifier(oir, operandDef);
  }
  try {
    if (!(ctx.o46() == null)) {
      $this.w8t_1.beginFunctionDef(functionDef);
      try {
        $this.w8t_1.pushExpressionContext($this.b8u_1);
        try {
          $this.w8t_1.pushExpressionDefinition(fh.t8z());
          try {
            functionDef.f6w_1 = parseExpression($this, ctx.o46());
          }finally {
            $this.w8t_1.popExpressionDefinition();
          }
        }finally {
          $this.w8t_1.popExpressionContext();
        }
      }finally {
        $this.w8t_1.endFunctionDef();
      }
      var tmp_1;
      if (!(resultType == null)) {
        var tmp1_safe_receiver = functionDef.f6w_1;
        tmp_1 = !((tmp1_safe_receiver == null ? null : Trackable_getInstance().n8v(tmp1_safe_receiver)) == null);
      } else {
        tmp_1 = false;
      }
      if (tmp_1) {
        // Inline function 'kotlin.require' call
        if (!DataTypes_instance.u8z(Trackable_getInstance().n8v(ensureNotNull(functionDef.f6w_1)), Trackable_getInstance().n8v(resultType))) {
          var message = 'Function ' + functionDef.c6w_1 + ' has declared return type ' + toString_0(Trackable_getInstance().n8v(resultType)) + ' but the function body returns incompatible type ' + toString_0(Trackable_getInstance().n8v(ensureNotNull(functionDef.f6w_1))) + '.';
          throw IllegalArgumentException_init_$Create$(toString(message));
        }
      }
      Trackable_getInstance().o8v(functionDef, Trackable_getInstance().n8v(ensureNotNull(functionDef.f6w_1)));
      op.z8w_1 = Trackable_getInstance().n8v(functionDef);
    } else {
      functionDef.j6y_1 = true;
      $l$block: {
        // Inline function 'kotlin.requireNotNull' call
        if (resultType == null) {
          var message_0 = 'Function ' + functionDef.c6w_1 + ' is marked external but does not declare a return type.';
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        } else {
          break $l$block;
        }
      }
      Trackable_getInstance().o8v(functionDef, Trackable_getInstance().n8v(resultType));
      op.z8w_1 = Trackable_getInstance().n8v(functionDef);
    }
    functionDef.d6w_1 = $this.b8u_1;
    fh.f8z_1 = true;
    return functionDef;
  }finally {
    var _iterator__ex2g4s_0 = operand.g();
    while (_iterator__ex2g4s_0.h()) {
      var operandDef_0 = _iterator__ex2g4s_0.i();
      try {
        $this.w8t_1.popIdentifier();
      } catch ($p) {
        if ($p instanceof Exception) {
          var e = $p;
          var tmp_2 = get_logger();
          tmp_2.e1q(e, Cql2ElmVisitor$compileFunctionDefinition$lambda);
        } else {
          throw $p;
        }
      }
    }
  }
}
function parseLiteralExpression($this, pt) {
  $this.w8t_1.pushLiteralContext();
  var tmp;
  try {
    tmp = parseExpression($this, pt);
  }finally {
    $this.w8t_1.popLiteralContext();
  }
  return tmp;
}
function parseExpression($this, pt) {
  var tmp;
  if (pt == null) {
    tmp = null;
  } else {
    var tmp_0 = $this.d32(pt);
    tmp = (tmp_0 == null ? true : tmp_0 instanceof Expression) ? tmp_0 : THROW_CCE();
  }
  return tmp;
}
function isBooleanLiteral($this, expression, bool) {
  var ret = false;
  if (expression instanceof Literal) {
    ret = equals(expression.t7a_1, $this.w8t_1.dataTypeToQName($this.w8t_1.l8w('System', 'Boolean')));
    if (ret && !(bool == null)) {
      ret = bool === toBoolean(expression.u7a_1);
    }
  }
  return ret;
}
function getTrackBack($this, tree) {
  if (tree instanceof ParserRuleContext) {
    return getTrackBack_1($this, tree);
  }
  var tmp;
  if (isInterface(tree, TerminalNode)) {
    tmp = getTrackBack_0($this, tree);
  } else {
    tmp = null;
  }
  return tmp;
}
function getTrackBack_0($this, node) {
  return new TrackBack($this.w8t_1.libraryIdentifier, node.r2f().x24(), node.r2f().z24() + 1 | 0, node.r2f().x24(), node.r2f().z24() + ensureNotNull(node.r2f().c24()).length | 0);
}
function getTrackBack_1($this, ctx) {
  var tmp = $this.w8t_1.libraryIdentifier;
  var tmp0_safe_receiver = ctx.i2e_1;
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.x24();
  var tmp_0 = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
  var tmp2_safe_receiver = ctx.i2e_1;
  var tmp3_safe_receiver = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.z24();
  var tmp4_elvis_lhs = tmp3_safe_receiver == null ? null : tmp3_safe_receiver + 1 | 0;
  var tmp_1 = tmp4_elvis_lhs == null ? 0 : tmp4_elvis_lhs;
  var tmp5_safe_receiver = ctx.j2e_1;
  var tmp6_elvis_lhs = tmp5_safe_receiver == null ? null : tmp5_safe_receiver.x24();
  var tmp_2 = tmp6_elvis_lhs == null ? 0 : tmp6_elvis_lhs;
  var tmp7_safe_receiver = ctx.j2e_1;
  var tmp8_elvis_lhs = tmp7_safe_receiver == null ? null : tmp7_safe_receiver.z24();
  var tmp_3 = tmp8_elvis_lhs == null ? 0 : tmp8_elvis_lhs;
  var tmp9_safe_receiver = ctx.j2e_1;
  var tmp10_safe_receiver = tmp9_safe_receiver == null ? null : tmp9_safe_receiver.c24();
  var tmp11_elvis_lhs = tmp10_safe_receiver == null ? null : tmp10_safe_receiver.length;
  return new TrackBack(tmp, tmp_0, tmp_1, tmp_2, tmp_3 + (tmp11_elvis_lhs == null ? 0 : tmp11_elvis_lhs) | 0);
}
function decorate($this, element, tb) {
  if ($this.b90() && !(tb == null)) {
    element.b66_1 = tb.a90();
  }
  if ($this.c90() && !(Trackable_getInstance().n8v(element) == null)) {
    var tmp = Trackable_getInstance().n8v(element);
    if (!(tmp == null) ? isInterface(tmp, NamedType) : false) {
      element.c66_1 = $this.w8t_1.dataTypeToQName(Trackable_getInstance().n8v(element));
    } else {
      element.e66_1 = $this.w8t_1.dataTypeToTypeSpecifier(Trackable_getInstance().n8v(element));
    }
  }
}
function track($this, trackable, pt) {
  var tb = getTrackBack($this, pt);
  if (!(tb == null)) {
    Trackable_getInstance().d90(ensureNotNull(trackable)).e(tb);
  }
  if (trackable instanceof Element) {
    decorate($this, trackable, tb);
  }
  return tb;
}
function track_0($this, element, from) {
  var tmp;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!Trackable_getInstance().d90(from).q()) {
    tmp = Trackable_getInstance().d90(from).o(0);
  } else {
    tmp = null;
  }
  var tb = tmp;
  if (!(tb == null)) {
    Trackable_getInstance().d90(ensureNotNull(element)).e(tb);
  }
  if (element instanceof Element) {
    decorate($this, element, tb);
  }
  return tb;
}
function Cql2ElmVisitor$compileFunctionDefinition$lambda() {
  return 'Error popping identifier';
}
function Cql2ElmVisitor(libraryBuilder, tokenStream, libraryInfo) {
  CqlPreprocessorElmCommonVisitor.call(this, libraryBuilder, tokenStream);
  this.a8v_1 = new SystemMethodResolver(this, libraryBuilder);
  this.b8v_1 = HashSet_init_$Create$();
  this.c8v_1 = new Stack();
  this.d8v_1 = HashMap_init_$Create$();
  this.e8v_1 = new IdentityHashMap();
  this.f8v_1 = new IdentityHashMap();
  this.g8v_1 = new Stack();
  this.h8v_1 = ArrayList_init_$Create$();
  this.i8v_1 = ArrayList_init_$Create$();
  this.j8v_1 = HashMap_init_$Create$();
  this.d8u_1 = libraryInfo;
}
protoOf(Cql2ElmVisitor).e32 = function () {
  return null;
};
protoOf(Cql2ElmVisitor).i33 = function (ctx) {
  var lastResult = null;
  var inductionVariable = 0;
  var last = ctx.k2f();
  if (inductionVariable < last)
    $l$loop: do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var tree = ctx.o2f(i);
      var terminalNode = (!(tree == null) ? isInterface(tree, TerminalNode) : false) ? tree : null;
      if (!(terminalNode == null) && terminalNode.r2f().s23() === -1) {
        continue $l$loop;
      }
      var childResult = this.d32(ensureNotNull(tree));
      if (!(childResult == null)) {
        lastResult = childResult;
      }
    }
     while (inductionVariable < last);
  return lastResult;
};
protoOf(Cql2ElmVisitor).j33 = function (ctx) {
  // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
  var this_0 = this.d32(ctx.f3u());
  var identifiers = (!(this_0 == null) ? isInterface(this_0, KtMutableList) : false) ? this_0 : THROW_CCE();
  var vid = this.y8t_1.k7n().a6i(identifiers.l2(identifiers.j() - 1 | 0)).d6j(this.k8v(ctx.g3u()));
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    vid.c8i_1 = this.w8t_1.resolveNamespaceUri(joinToString(identifiers, '.'), true);
  } else {
    if (!(this.w8t_1.namespaceInfo == null)) {
      vid.c8i_1 = this.w8t_1.namespaceInfo.z62_1;
    }
  }
  this.w8t_1.e90(vid);
  return vid;
};
protoOf(Cql2ElmVisitor).k33 = function (ctx) {
  // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
  var this_0 = this.d32(ctx.f3u());
  var identifiers = (!(this_0 == null) ? isInterface(this_0, KtMutableList) : false) ? this_0 : THROW_CCE();
  var unqualifiedIdentifier = identifiers.l2(identifiers.j() - 1 | 0);
  var tmp;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    tmp = joinToString(identifiers, '.');
  } else {
    if (this.w8t_1.isWellKnownModelName(unqualifiedIdentifier)) {
      tmp = null;
    } else {
      if (!(this.w8t_1.namespaceInfo == null)) {
        tmp = this.w8t_1.namespaceInfo.y62_1;
      } else {
        tmp = null;
      }
    }
  }
  var namespaceName = tmp;
  var path = null;
  var modelNamespace = null;
  if (!(namespaceName == null)) {
    var namespaceUri = this.w8t_1.resolveNamespaceUri(namespaceName, true);
    path = Companion_instance_1.getPath(namespaceUri, unqualifiedIdentifier);
    modelNamespace = new NamespaceInfo(namespaceName, ensureNotNull(namespaceUri));
  } else {
    path = unqualifiedIdentifier;
  }
  var localIdentifier = ctx.r3u() == null ? unqualifiedIdentifier : ensureNotNull(this.k8v(ctx.r3u()));
  // Inline function 'kotlin.require' call
  if (!(localIdentifier === unqualifiedIdentifier)) {
    var message = 'Local identifiers for models must be the same as the name of the model in this release of the translator (Model ' + unqualifiedIdentifier + ', Called ' + localIdentifier + ')';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var usingDef = this.w8t_1.resolveUsingRef(localIdentifier);
  var ir = this.y8t_1.p7k().q65(localIdentifier);
  track(this, ir, ensureNotNull(ctx.r3u() == null ? ctx.f3u() : ctx.r3u()));
  this.w8t_1.pushIdentifier(ir, usingDef, IdentifierScope_GLOBAL_getInstance());
  return usingDef;
};
protoOf(Cql2ElmVisitor).l33 = function (ctx) {
  // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
  var this_0 = this.d32(ctx.f3u());
  var identifiers = (!(this_0 == null) ? isInterface(this_0, KtMutableList) : false) ? this_0 : THROW_CCE();
  var unqualifiedIdentifier = identifiers.l2(identifiers.j() - 1 | 0);
  var tmp;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    tmp = joinToString(identifiers, '.');
  } else {
    if (!(this.w8t_1.namespaceInfo == null)) {
      tmp = this.w8t_1.namespaceInfo.y62_1;
    } else {
      tmp = null;
    }
  }
  var namespaceName = tmp;
  var path = getLibraryPath(this, namespaceName, unqualifiedIdentifier);
  var library = this.y8t_1.z7k().j72(ctx.r3u() == null ? unqualifiedIdentifier : this.k8v(ctx.r3u())).y6c(path).d6j(this.k8v(ctx.g3u()));
  if (!this.w8t_1.canResolveLibrary(library)) {
    var tmp_0;
    // Inline function 'kotlin.collections.isNotEmpty' call
    if (!identifiers.q()) {
      tmp_0 = joinToString(identifiers, '.');
    } else {
      if (this.w8t_1.isWellKnownLibraryName(unqualifiedIdentifier)) {
        tmp_0 = null;
      } else {
        if (!(this.w8t_1.namespaceInfo == null)) {
          tmp_0 = this.w8t_1.namespaceInfo.y62_1;
        } else {
          tmp_0 = null;
        }
      }
    }
    namespaceName = tmp_0;
    path = getLibraryPath(this, namespaceName, unqualifiedIdentifier);
    library = this.y8t_1.z7k().j72(ctx.r3u() == null ? unqualifiedIdentifier : this.k8v(ctx.r3u())).y6c(path).d6j(this.k8v(ctx.g3u()));
  }
  this.w8t_1.addInclude(library);
  var ir = this.y8t_1.p7k().q65(library.d72_1);
  track(this, ir, ensureNotNull(ctx.r3u() == null ? ctx.f3u() : ctx.r3u()));
  this.w8t_1.pushIdentifier(ir, library, IdentifierScope_GLOBAL_getInstance());
  return library;
};
protoOf(Cql2ElmVisitor).o33 = function (ctx) {
  var param = this.y8t_1.b7o().b6i(this.l8v(ctx.h3w())).q65(this.k8v(ctx.g3w())).d7t(parseLiteralExpression(this, ctx.j3w())).e7t(this.f90(ctx.i3w()));
  var paramType = null;
  if (!(param.c7t_1 == null)) {
    paramType = Trackable_getInstance().n8v(ensureNotNull(param.c7t_1));
  }
  if (!(param.b7t_1 == null)) {
    if (!(paramType == null)) {
      this.w8t_1.verifyType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(param.b7t_1))), paramType);
    } else {
      paramType = Trackable_getInstance().n8v(ensureNotNull(param.b7t_1));
    }
  }
  var tmp0 = paramType;
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (tmp0 == null) {
      var message = 'Could not determine parameter type for parameter ' + param.y7s_1 + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  Trackable_getInstance().o8v(param, paramType);
  if (!(param.b7t_1 == null)) {
    param.b7t_1 = this.w8t_1.ensureCompatible(param.b7t_1, paramType);
  }
  this.w8t_1.addParameter(param);
  var ir = this.y8t_1.p7k().q65(param.y7s_1);
  track(this, ir, ctx.g3w());
  this.w8t_1.pushIdentifier(ir, param, IdentifierScope_GLOBAL_getInstance());
  return param;
};
protoOf(Cql2ElmVisitor).h34 = function (ctx) {
  var result = this.y8t_1.s7l().q65(this.k8v(ctx.d44())).n7a(this.f90(ctx.i3w()));
  return result;
};
protoOf(Cql2ElmVisitor).n33 = function (ctx) {
  // Inline function 'kotlin.text.lowercase' call
  // Inline function 'kotlin.js.asDynamic' call
  var tmp;
  switch (ctx.c24().toLowerCase()) {
    case 'public':
      tmp = AccessModifier_PUBLIC_getInstance();
      break;
    case 'private':
      tmp = AccessModifier_PRIVATE_getInstance();
      break;
    default:
      // Inline function 'kotlin.text.lowercase' call

      // Inline function 'kotlin.js.asDynamic' call

      var tmp$ret$3 = ctx.c24().toLowerCase();
      throw IllegalArgumentException_init_$Create$('Unknown access modifier ' + tmp$ret$3 + '.');
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).p33 = function (ctx) {
  var cs = this.y8t_1.i7k().b6i(this.l8v(ctx.h3w())).q65(this.k8v(ctx.g3w())).a6i(this.k8v(ctx.u3w())).d6j(this.k8v(ctx.g3u()));
  if (this.w8t_1.isCompatibleWith('1.5')) {
    Trackable_getInstance().o8v(cs, this.w8t_1.l8w('System', 'CodeSystem'));
  } else {
    Trackable_getInstance().o8v(cs, new ListType(ensureNotNull(this.w8t_1.l8w('System', 'Code'))));
  }
  this.w8t_1.addCodeSystem(cs);
  var ir = this.y8t_1.p7k().q65(cs.z6i_1);
  track(this, ir, ctx.g3w());
  this.w8t_1.pushIdentifier(ir, cs, IdentifierScope_GLOBAL_getInstance());
  return cs;
};
protoOf(Cql2ElmVisitor).s33 = function (ctx) {
  var libraryName = this.k8v(ctx.c3y());
  var name = ensureNotNull(this.k8v(ctx.g3w()));
  var def;
  if (!(libraryName == null)) {
    def = this.w8t_1.resolveLibrary(libraryName).g90(name);
    if (!(def == null)) {
      this.w8t_1.checkAccessLevel(libraryName, name, ensureNotNull(def.z6h()));
    }
  } else {
    def = this.w8t_1.resolveCodeSystemRef(name);
  }
  var tmp0 = def;
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (tmp0 == null) {
      var message = 'Could not resolve reference to code system ' + name + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  return Trackable_getInstance().h90(this.y8t_1.x7l().t6i(libraryName).q65(name), Trackable_getInstance().n8v(def));
};
protoOf(Cql2ElmVisitor).w33 = function (ctx) {
  var libraryName = this.k8v(ctx.c3y());
  var name = ensureNotNull(this.k8v(ctx.g3w()));
  var def;
  if (!(libraryName == null)) {
    def = this.w8t_1.resolveLibrary(libraryName).i90(name);
    if (!(def == null)) {
      this.w8t_1.checkAccessLevel(libraryName, name, ensureNotNull(def.z6h()));
    }
  } else {
    def = this.w8t_1.resolveCodeRef(name);
  }
  var tmp0 = def;
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (tmp0 == null) {
      var message = 'Could not resolve reference to code ' + name + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  return Trackable_getInstance().h90(this.y8t_1.v7h().t6i(libraryName).q65(name), Trackable_getInstance().n8v(def));
};
protoOf(Cql2ElmVisitor).q33 = function (ctx) {
  var vs = this.y8t_1.n7n().b6i(this.l8v(ctx.h3w())).q65(this.k8v(ctx.g3w())).a6i(this.k8v(ctx.f3x())).d6j(this.k8v(ctx.g3u()));
  if (!(ctx.g3x() == null)) {
    var _iterator__ex2g4s = ensureNotNull(ctx.g3x()).r3x().g();
    while (_iterator__ex2g4s.h()) {
      var codesystem = _iterator__ex2g4s.i();
      var tmp = this.d32(codesystem);
      var tmp0_elvis_lhs = (tmp == null ? true : tmp instanceof CodeSystemRef) ? tmp : THROW_CCE();
      var tmp_0;
      if (tmp0_elvis_lhs == null) {
        throw IllegalArgumentException_init_$Create$('Could not resolve reference to code system ' + codesystem.c24() + '.');
      } else {
        tmp_0 = tmp0_elvis_lhs;
      }
      var cs = tmp_0;
      vs.k8h().e(cs);
    }
  }
  if (this.w8t_1.isCompatibleWith('1.5')) {
    Trackable_getInstance().o8v(vs, this.w8t_1.l8w('System', 'ValueSet'));
  } else {
    Trackable_getInstance().o8v(vs, new ListType(ensureNotNull(this.w8t_1.l8w('System', 'Code'))));
  }
  this.w8t_1.addValueSet(vs);
  var ir = this.y8t_1.p7k().q65(vs.f8h_1);
  track(this, ir, ctx.g3w());
  this.w8t_1.pushIdentifier(ir, vs, IdentifierScope_GLOBAL_getInstance());
  return vs;
};
protoOf(Cql2ElmVisitor).u33 = function (ctx) {
  var cd = this.y8t_1.c7q().b6i(this.l8v(ctx.h3w())).q65(this.k8v(ctx.g3w())).a6i(this.k8v(ctx.x3y()));
  var cs = this.d32(ctx.r3x());
  if (cs instanceof CodeSystemRef) {
    cd.x6h_1 = cs;
  }
  if (!(ctx.y3y() == null)) {
    cd.v6h_1 = this.k8v(ensureNotNull(ctx.y3y()).d4l());
  }
  Trackable_getInstance().o8v(cd, this.w8t_1.j90('Code'));
  this.w8t_1.addCode(cd);
  var ir = this.y8t_1.p7k().q65(cd.t6h_1);
  track(this, ir, ctx.g3w());
  this.w8t_1.pushIdentifier(ir, cd, IdentifierScope_GLOBAL_getInstance());
  return cd;
};
protoOf(Cql2ElmVisitor).v33 = function (ctx) {
  var cd = this.y8t_1.j7q().b6i(this.l8v(ctx.h3w())).q65(this.k8v(ctx.g3w()));
  var _iterator__ex2g4s = ctx.j3z().g();
  while (_iterator__ex2g4s.h()) {
    var ci = _iterator__ex2g4s.i();
    var tmp = cd.p6k();
    var tmp_0 = this.d32(ci);
    tmp.e(tmp_0 instanceof CodeRef ? tmp_0 : THROW_CCE());
  }
  if (!(ctx.y3y() == null)) {
    cd.w6k_1 = this.k8v(ensureNotNull(ctx.y3y()).d4l());
  }
  Trackable_getInstance().o8v(cd, this.w8t_1.j90('Concept'));
  this.w8t_1.addConcept(cd);
  return cd;
};
protoOf(Cql2ElmVisitor).c34 = function (ctx) {
  var qualifiers = this.k90(ctx);
  var modelIdentifier = Companion_instance_20.l90(qualifiers);
  var identifier = Companion_instance_20.m90(qualifiers, ensureNotNull(this.k8v(ctx.c42())));
  var retrievedResult = this.w8t_1.getNamedTypeSpecifierResult('' + modelIdentifier + ':' + identifier);
  if (!(retrievedResult == null)) {
    var tmp;
    if (retrievedResult.p90()) {
      tmp = null;
    } else {
      tmp = retrievedResult.o90();
    }
    return tmp;
  }
  var tmp0_elvis_lhs = this.w8t_1.l8w(modelIdentifier, identifier);
  var tmp_0;
  if (tmp0_elvis_lhs == null) {
    throw CqlCompilerException_init_$Create$('Could not find type for model: ' + modelIdentifier + ' and name: ' + identifier, getTrackBack_1(this, ctx));
  } else {
    tmp_0 = tmp0_elvis_lhs;
  }
  var resultType = tmp_0;
  var result = this.y8t_1.c7k().c7g(this.w8t_1.dataTypeToQName(resultType));
  Trackable_getInstance().o8v(result, resultType);
  return result;
};
protoOf(Cql2ElmVisitor).l34 = function (ctx) {
  var modelIdentifier = this.k8v(ctx.s45());
  var unqualifiedIdentifier = ensureNotNull(this.k8v(ctx.g3w()));
  this.b8u_1 = !(modelIdentifier == null) ? '' + modelIdentifier + '.' + unqualifiedIdentifier : unqualifiedIdentifier;
  if (!isUnfilteredContext(this, unqualifiedIdentifier)) {
    var modelContext = this.w8t_1.resolveContextName(modelIdentifier, unqualifiedIdentifier);
    var modelContextDefinition = this.j8v_1.q2(ensureNotNull(modelContext).q62_1);
    if (modelContextDefinition == null) {
      if (this.w8t_1.hasUsings()) {
        var modelInfo = modelIdentifier == null ? this.w8t_1.x90(this.d8u_1.y90()).q90_1 : this.w8t_1.x90(modelIdentifier).q90_1;
        var contextType = modelContext.r62_1;
        modelContextDefinition = this.w8t_1.resolveParameterRef(modelContext.q62_1);
        if (!(modelContextDefinition == null)) {
          var tmp0 = this.j8v_1;
          var tmp2 = modelContext.q62_1;
          // Inline function 'kotlin.collections.set' call
          var value = modelContextDefinition;
          tmp0.u2(tmp2, value);
        } else {
          var contextRetrieve = this.y8t_1.w7l().x81(this.w8t_1.dataTypeToQName(contextType));
          track(this, contextRetrieve, ctx);
          Trackable_getInstance().o8v(contextRetrieve, new ListType(contextType));
          var contextClassIdentifier = (contextType instanceof ClassType ? contextType : THROW_CCE()).m60_1;
          if (!(contextClassIdentifier == null)) {
            contextRetrieve.x80_1 = contextClassIdentifier;
          }
          modelContextDefinition = this.y8t_1.d7n().q65(unqualifiedIdentifier).g6w(this.b8u_1).r69(this.y8t_1.t7l().a6c(contextRetrieve));
          track(this, modelContextDefinition, ctx);
          Trackable_getInstance().o8v(ensureNotNull(modelContextDefinition.f6w_1), contextType);
          Trackable_getInstance().o8v(modelContextDefinition, contextType);
          this.w8t_1.addExpression(modelContextDefinition);
          var tmp0_0 = this.j8v_1;
          var tmp2_0 = modelContext.q62_1;
          // Inline function 'kotlin.collections.set' call
          var value_0 = modelContextDefinition;
          tmp0_0.u2(tmp2_0, value_0);
        }
      } else {
        modelContextDefinition = this.y8t_1.d7n().q65(unqualifiedIdentifier).g6w(this.b8u_1).r69(this.y8t_1.a7o());
        track(this, modelContextDefinition, ctx);
        Trackable_getInstance().o8v(ensureNotNull(modelContextDefinition.f6w_1), this.w8t_1.l8w('System', 'Any'));
        Trackable_getInstance().o8v(modelContextDefinition, Trackable_getInstance().n8v(ensureNotNull(modelContextDefinition.f6w_1)));
        this.w8t_1.addExpression(modelContextDefinition);
        var tmp0_1 = this.j8v_1;
        var tmp2_1 = modelContext.q62_1;
        // Inline function 'kotlin.collections.set' call
        var value_1 = modelContextDefinition;
        tmp0_1.u2(tmp2_1, value_1);
      }
    }
  }
  var contextDef = this.y8t_1.j7l().q65(this.b8u_1);
  track(this, contextDef, ctx);
  if (this.w8t_1.isCompatibleWith('1.5')) {
    this.w8t_1.addContext(contextDef);
  }
  return this.b8u_1;
};
protoOf(Cql2ElmVisitor).k34 = function (ctx) {
  this.w8t_1.pushIdentifierScope();
  var tmp;
  try {
    var expressionDef = internalVisitExpressionDefinition(this, ctx);
    if (this.c8v_1.q() || !(this.c8v_1.q2c().d8y_1 === ensureNotNull(expressionDef).c6w_1)) {
      // Inline function 'kotlin.require' call
      if (!!contains(this.b8v_1, ensureNotNull(expressionDef).c6w_1)) {
        var message = 'Identifier ' + expressionDef.c6w_1 + ' is already in use in this library.';
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
      this.b8v_1.e(ensureNotNull(expressionDef.c6w_1));
    }
    tmp = expressionDef;
  }finally {
    this.w8t_1.popIdentifierScope();
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).z38 = function (ctx) {
  var stringLiteral = this.w8t_1.z90(this.k8v(ctx.d4l()));
  var ir = this.y8t_1.p7k().q65(stringLiteral.u7a_1);
  track(this, ir, ctx.d4l());
  this.w8t_1.pushIdentifier(ir, stringLiteral);
  return stringLiteral;
};
protoOf(Cql2ElmVisitor).t35 = function (ctx) {
  return this.w8t_1.z90(this.k8v(ctx.d4l()));
};
protoOf(Cql2ElmVisitor).x38 = function (ctx) {
  return this.w8t_1.f8x(toBoolean(ctx.c24()));
};
protoOf(Cql2ElmVisitor).i39 = function (ctx) {
  return this.w8t_1.createInterval(parseExpression(this, ctx.a4m(0)), ensureNotNull(ctx.o2f(1)).c24() === '[', parseExpression(this, ctx.a4m(1)), ensureNotNull(ctx.o2f(5)).c24() === ']');
};
protoOf(Cql2ElmVisitor).k39 = function (ctx) {
  var result = this.y8t_1.k7q().q65(this.k8v(ctx.d44())).i74(parseExpression(this, ctx.j3w()));
  return result;
};
protoOf(Cql2ElmVisitor).j39 = function (ctx) {
  var tuple = this.y8t_1.y7n();
  // Inline function 'kotlin.collections.mutableListOf' call
  var elements = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.s5l().g();
  while (_iterator__ex2g4s.h()) {
    var elementContext = _iterator__ex2g4s.i();
    var tmp = this.d32(elementContext);
    var element = tmp instanceof TupleElement ? tmp : THROW_CCE();
    elements.e(new TupleTypeElement(ensureNotNull(element.m8f_1), ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(element.n8f_1)))));
    tuple.g5v().e(element);
  }
  Trackable_getInstance().o8v(tuple, TupleType_init_$Create$(elements));
  return tuple;
};
protoOf(Cql2ElmVisitor).m39 = function (ctx) {
  var name = this.k8v(ctx.d44());
  var exp = parseExpression(this, ctx.j3w());
  var result = this.y8t_1.l7j().q65(name).i74(exp);
  return result;
};
protoOf(Cql2ElmVisitor).l39 = function (ctx) {
  var instance = this.y8t_1.f7j();
  var classTypeSpecifier = ensureNotNull(this.c34(ctx.i4a()));
  instance.e74_1 = classTypeSpecifier.b7g_1;
  Trackable_getInstance().o8v(instance, Trackable_getInstance().n8v(classTypeSpecifier));
  var _iterator__ex2g4s = ctx.n5m().g();
  while (_iterator__ex2g4s.h()) {
    var elementContext = _iterator__ex2g4s.i();
    var tmp = this.d32(elementContext);
    var element = tmp instanceof InstanceElement ? tmp : THROW_CCE();
    var resolution = this.w8t_1.resolveProperty(Trackable_getInstance().n8v(classTypeSpecifier), ensureNotNull(element.g74_1));
    element.h74_1 = this.w8t_1.ensureCompatible(element.h74_1, ensureNotNull(resolution).a91_1);
    element.g74_1 = resolution.b91_1;
    // Inline function 'kotlin.require' call
    if (!(resolution.c91_1 == null)) {
      var message = 'Target Mapping in instance selectors not yet supported';
      throw IllegalArgumentException_init_$Create$(toString(message));
    }
    instance.g5v().e(element);
  }
  return instance;
};
protoOf(Cql2ElmVisitor).p39 = function (ctx) {
  var code = this.y8t_1.h7i();
  code.l6h_1 = this.k8v(ctx.d4l());
  var tmp = code;
  var tmp_0 = this.d32(ctx.r3x());
  tmp.n6h_1 = (tmp_0 == null ? true : tmp_0 instanceof CodeSystemRef) ? tmp_0 : THROW_CCE();
  if (!(ctx.y3y() == null)) {
    code.m6h_1 = this.k8v(ensureNotNull(ctx.y3y()).d4l());
  }
  Trackable_getInstance().o8v(code, this.w8t_1.l8w('System', 'Code'));
  return code;
};
protoOf(Cql2ElmVisitor).q39 = function (ctx) {
  var concept = this.y8t_1.q7o();
  if (!(ctx.y3y() == null)) {
    concept.n6k_1 = this.k8v(ensureNotNull(ctx.y3y()).d4l());
  }
  var _iterator__ex2g4s = ctx.m5o().g();
  while (_iterator__ex2g4s.h()) {
    var codeContext = _iterator__ex2g4s.i();
    var tmp = concept.p6k();
    var tmp_0 = this.d32(codeContext);
    tmp.e(tmp_0 instanceof Code ? tmp_0 : THROW_CCE());
  }
  Trackable_getInstance().o8v(concept, this.w8t_1.l8w('System', 'Concept'));
  return concept;
};
protoOf(Cql2ElmVisitor).n39 = function (ctx) {
  var elementTypeSpecifier = this.f90(ctx.i3w());
  var list = this.y8t_1.n7k();
  var listType = null;
  if (!(elementTypeSpecifier == null)) {
    var listTypeSpecifier = this.y8t_1.v7m().n7a(elementTypeSpecifier);
    track(this, listTypeSpecifier, ensureNotNull(ctx.i3w()));
    listType = new ListType(ensureNotNull(Trackable_getInstance().n8v(elementTypeSpecifier)));
    Trackable_getInstance().o8v(listTypeSpecifier, listType);
  }
  var elementType = elementTypeSpecifier == null ? null : Trackable_getInstance().n8v(elementTypeSpecifier);
  var inferredElementType = null;
  var initialInferredElementType = null;
  var elements = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.j3w().g();
  while (_iterator__ex2g4s.h()) {
    var elementContext = _iterator__ex2g4s.i();
    var tmp1_elvis_lhs = parseExpression(this, elementContext);
    var tmp;
    if (tmp1_elvis_lhs == null) {
      throw RuntimeException_init_$Create$('Element failed to parse');
    } else {
      tmp = tmp1_elvis_lhs;
    }
    var element = tmp;
    if (!(elementType == null)) {
      this.w8t_1.verifyType(ensureNotNull(Trackable_getInstance().n8v(element)), elementType);
    } else {
      if (initialInferredElementType == null) {
        initialInferredElementType = Trackable_getInstance().n8v(element);
        inferredElementType = initialInferredElementType;
      } else {
        var compatibleType = this.w8t_1.findCompatibleType(inferredElementType, Trackable_getInstance().n8v(element));
        var tmp_0;
        if (!(compatibleType == null) && (!equals(inferredElementType, this.w8t_1.l8w('System', 'Any')) || equals(initialInferredElementType, this.w8t_1.l8w('System', 'Any')))) {
          tmp_0 = compatibleType;
        } else {
          tmp_0 = this.w8t_1.l8w('System', 'Any');
        }
        inferredElementType = tmp_0;
      }
    }
    elements.e(element);
  }
  if (elementType == null) {
    var tmp2_elvis_lhs = inferredElementType;
    elementType = tmp2_elvis_lhs == null ? this.w8t_1.l8w('System', 'Any') : tmp2_elvis_lhs;
  }
  var _iterator__ex2g4s_0 = elements.g();
  while (_iterator__ex2g4s_0.h()) {
    var element_0 = _iterator__ex2g4s_0.i();
    if (!ensureNotNull(elementType).y5z(ensureNotNull(Trackable_getInstance().n8v(element_0)))) {
      var conversion = this.w8t_1.findConversion(ensureNotNull(Trackable_getInstance().n8v(element_0)), elementType, true, false);
      if (!(conversion == null)) {
        list.g5v().e(this.w8t_1.e91(element_0, conversion));
      } else {
        list.g5v().e(element_0);
      }
    } else {
      list.g5v().e(element_0);
    }
  }
  if (listType == null) {
    listType = new ListType(ensureNotNull(elementType));
  }
  Trackable_getInstance().o8v(list, listType);
  return list;
};
protoOf(Cql2ElmVisitor).e39 = function (ctx) {
  var input = ctx.c24();
  if (startsWith(input, '@')) {
    input = substring(input, 1);
  }
  var timePattern = Regex_init_$Create$('T(\\d{2})(:(\\d{2})(:(\\d{2})(\\.(\\d+))?)?)?');
  var matcher = timePattern.sd(input);
  var tmp;
  if (!(matcher == null)) {
    var tmp_0;
    try {
      var result = this.y8t_1.c7l();
      var hour = toInt(ensureNotNull(matcher.zd().o(1)).yd_1);
      var minute = -1;
      var second = -1;
      var millisecond = -1;
      // Inline function 'kotlin.require' call
      if (!(0 <= hour ? hour <= 24 : false)) {
        var message = 'Invalid hour in time literal (' + hour + ').';
        throw IllegalArgumentException_init_$Create$(toString(message));
      }
      result.h89_1 = this.w8t_1.j8w(hour);
      if (!(matcher.zd().o(3) == null)) {
        minute = toInt(ensureNotNull(matcher.zd().o(3)).yd_1);
        // Inline function 'kotlin.require' call
        if (!!(minute < 0 || minute >= 60 || (hour === 24 && minute > 0))) {
          var message_0 = 'Invalid minute in time literal (' + minute + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        }
        result.i89_1 = this.w8t_1.j8w(minute);
      }
      if (!(matcher.zd().o(5) == null)) {
        second = toInt(ensureNotNull(matcher.zd().o(5)).yd_1);
        // Inline function 'kotlin.require' call
        if (!!(second < 0 || second >= 60 || (hour === 24 && second > 0))) {
          var message_1 = 'Invalid second in time literal (' + second + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_1));
        }
        result.j89_1 = this.w8t_1.j8w(second);
      }
      if (!(matcher.zd().o(7) == null)) {
        millisecond = toInt(ensureNotNull(matcher.zd().o(7)).yd_1);
        // Inline function 'kotlin.require' call
        if (!(hour === 24 && millisecond === 0 || millisecond >= 0)) {
          var message_2 = 'Invalid millisecond in time literal (' + millisecond + ').';
          throw IllegalArgumentException_init_$Create$(toString(message_2));
        }
        result.k89_1 = this.w8t_1.j8w(millisecond);
      }
      Trackable_getInstance().o8v(result, this.w8t_1.l8w('System', 'Time'));
      tmp_0 = result;
    } catch ($p) {
      var tmp_1;
      if ($p instanceof RuntimeException) {
        var e = $p;
        throw IllegalArgumentException_init_$Create$_0('Invalid time input (' + input + '). Use ISO 8601 time representation (hh:mm:ss.fff).', e);
      } else {
        throw $p;
      }
    }
    tmp = tmp_0;
  } else {
    throw IllegalArgumentException_init_$Create$('Invalid time input (' + input + '). Use ISO 8601 time representation (hh:mm:ss.fff).');
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).d39 = function (ctx) {
  var input = ctx.c24();
  if (startsWith(input, '@')) {
    input = substring(input, 1);
  }
  return parseDateTimeLiteral(this, input);
};
protoOf(Cql2ElmVisitor).c39 = function (ctx) {
  var input = ctx.c24();
  if (startsWith(input, '@')) {
    input = substring(input, 1);
  }
  return parseDateTimeLiteral(this, input);
};
protoOf(Cql2ElmVisitor).y38 = function (ctx) {
  var result = this.y8t_1.a7o();
  Trackable_getInstance().o8v(result, this.w8t_1.l8w('System', 'Any'));
  return result;
};
protoOf(Cql2ElmVisitor).a39 = function (ctx) {
  return this.w8t_1.createNumberLiteral(ctx.s4k().c24());
};
protoOf(Cql2ElmVisitor).u35 = function (ctx) {
  return this.w8t_1.createNumberLiteral(ctx.s4k().c24());
};
protoOf(Cql2ElmVisitor).b39 = function (ctx) {
  var input = ctx.d5k().c24();
  if (endsWith(input, 'L')) {
    input = substring_0(input, 0, input.length - 1 | 0);
  }
  return this.w8t_1.createLongNumberLiteral(input);
};
protoOf(Cql2ElmVisitor).z39 = function (ctx) {
  var tmp;
  if (!(ctx.k4x() == null)) {
    tmp = this.w8t_1.createQuantity(parseDecimal(this, ctx.s4k().c24()), ensureNotNull(this.k8v(ctx.k4x())));
  } else {
    tmp = this.w8t_1.createNumberLiteral(ctx.s4k().c24());
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).w38 = function (ctx) {
  var tmp = this.d32(ensureNotNull(ctx.q5g(0)));
  var numerator = getQuantity(this, (tmp == null ? true : tmp instanceof Expression) ? tmp : THROW_CCE());
  var tmp_0 = this.d32(ensureNotNull(ctx.q5g(1)));
  var denominator = getQuantity(this, (tmp_0 == null ? true : tmp_0 instanceof Expression) ? tmp_0 : THROW_CCE());
  return this.w8t_1.createRatio(numerator, denominator);
};
protoOf(Cql2ElmVisitor).a36 = function (ctx) {
  var result = this.y8t_1.u7k().a6c(parseExpression(this, ctx.j3w()));
  this.w8t_1.resolveUnaryCall('System', 'Not', result);
  return result;
};
protoOf(Cql2ElmVisitor).k36 = function (ctx) {
  var result = this.y8t_1.q7l().a6c(parseExpression(this, ctx.j3w()));
  this.w8t_1.resolveUnaryCall('System', 'Exists', result);
  return result;
};
protoOf(Cql2ElmVisitor).d37 = function (ctx) {
  var exp;
  var operatorName;
  switch (ensureNotNull(ctx.o2f(1)).c24()) {
    case '*':
      exp = this.y8t_1.k7k();
      operatorName = 'Multiply';
      break;
    case '/':
      exp = this.y8t_1.f7k();
      operatorName = 'Divide';
      break;
    case 'div':
      exp = this.y8t_1.a7p();
      operatorName = 'TruncatedDivide';
      break;
    case 'mod':
      exp = this.y8t_1.m7m();
      operatorName = 'Modulo';
      break;
    default:
      throw IllegalArgumentException_init_$Create$('Unsupported operator: ' + ensureNotNull(ctx.o2f(1)).c24() + '.');
  }
  exp.f67(listOf([ensureNotNull(parseExpression(this, ctx.p4l(0))), ensureNotNull(parseExpression(this, ctx.p4l(1)))]));
  this.w8t_1.o8w('System', operatorName, exp);
  return exp;
};
protoOf(Cql2ElmVisitor).i37 = function (ctx) {
  var power = this.y8t_1.v7j().f67(listOf([ensureNotNull(parseExpression(this, ctx.p4l(0))), ensureNotNull(parseExpression(this, ctx.p4l(1)))]));
  this.w8t_1.o8w('System', 'Power', power);
  return power;
};
protoOf(Cql2ElmVisitor).k37 = function (ctx) {
  if (ensureNotNull(ctx.o2f(0)).c24() === '+') {
    return this.d32(ctx.e4h());
  }
  var result = this.y8t_1.o7q().a6c(parseExpression(this, ctx.e4h()));
  this.w8t_1.resolveUnaryCall('System', 'Negate', result);
  return result;
};
protoOf(Cql2ElmVisitor).r36 = function (ctx) {
  var exp;
  var operatorName;
  switch (ensureNotNull(ctx.o2f(1)).c24()) {
    case '+':
      exp = this.y8t_1.x7j();
      operatorName = 'Add';
      break;
    case '-':
      exp = this.y8t_1.r7i();
      operatorName = 'Subtract';
      break;
    case '&':
      exp = this.y8t_1.x7k();
      operatorName = 'Concatenate';
      break;
    default:
      throw IllegalArgumentException_init_$Create$('Unsupported operator: ' + ensureNotNull(ctx.o2f(1)).c24() + '.');
  }
  if (exp instanceof BinaryExpression) {
    exp.f67(listOf([ensureNotNull(parseExpression(this, ctx.p4l(0))), ensureNotNull(parseExpression(this, ctx.p4l(1)))]));
    this.w8t_1.o8w('System', operatorName, ensureNotNull(exp instanceof BinaryExpression ? exp : THROW_CCE()));
    if (Trackable_getInstance().n8v(exp) === this.w8t_1.l8w('System', 'String')) {
      var concatenate = this.y8t_1.x7k();
      concatenate.o67().n(exp.o67());
      Trackable_getInstance().o8v(concatenate, Trackable_getInstance().n8v(exp));
      exp = concatenate;
    }
  } else {
    var concatenate_0 = exp instanceof Concatenate ? exp : THROW_CCE();
    ensureNotNull(concatenate_0).f67(listOf([ensureNotNull(parseExpression(this, ctx.p4l(0))), ensureNotNull(parseExpression(this, ctx.p4l(1)))]));
    var inductionVariable = 0;
    var last = concatenate_0.o67().j() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var operand = concatenate_0.o67().o(i);
        var empty = this.w8t_1.z90('');
        var params = ArrayList_init_$Create$();
        params.e(operand);
        params.e(empty);
        var coalesce = ensureNotNull(this.w8t_1.f91('System', 'Coalesce', params));
        concatenate_0.o67().j2(i, coalesce);
      }
       while (inductionVariable <= last);
    this.w8t_1.resolveNaryCall('System', operatorName, concatenate_0);
  }
  return exp;
};
protoOf(Cql2ElmVisitor).b37 = function (ctx) {
  return this.w8t_1.buildPredecessor(parseExpression(this, ctx.e4h()));
};
protoOf(Cql2ElmVisitor).j37 = function (ctx) {
  return this.w8t_1.buildSuccessor(parseExpression(this, ctx.e4h()));
};
protoOf(Cql2ElmVisitor).y36 = function (ctx) {
  var result = this.y8t_1.t7l().a6c(parseExpression(this, ctx.e4h()));
  this.w8t_1.resolveUnaryCall('System', 'SingletonFrom', result);
  return result;
};
protoOf(Cql2ElmVisitor).c37 = function (ctx) {
  var result = this.y8t_1.j7o().a6c(parseExpression(this, ctx.e4h()));
  this.w8t_1.resolveUnaryCall('System', 'PointFrom', result);
  return result;
};
protoOf(Cql2ElmVisitor).a37 = function (ctx) {
  var extent = this.k8v(ctx.o2f(0));
  var targetType = this.f90(ctx.i4a());
  var tmp;
  switch (extent) {
    case 'minimum':
      tmp = this.w8t_1.buildMinimum(Trackable_getInstance().n8v(ensureNotNull(targetType)));
      break;
    case 'maximum':
      tmp = this.w8t_1.buildMaximum(Trackable_getInstance().n8v(ensureNotNull(targetType)));
      break;
    default:
      throw IllegalArgumentException_init_$Create$('Unknown extent: ' + extent);
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).x36 = function (ctx) {
  var result;
  var operatorName;
  if (ensureNotNull(ctx.o2f(0)).c24() === 'start') {
    result = this.y8t_1.a7k().a6c(parseExpression(this, ctx.e4h()));
    operatorName = 'Start';
  } else {
    result = this.y8t_1.a7l().a6c(parseExpression(this, ctx.e4h()));
    operatorName = 'End';
  }
  this.w8t_1.resolveUnaryCall('System', operatorName, result);
  return result;
};
protoOf(Cql2ElmVisitor).v36 = function (ctx) {
  var component = ctx.v4v().c24();
  var result;
  var operatorName;
  switch (component) {
    case 'date':
      result = this.y8t_1.o7i().a6c(parseExpression(this, ctx.e4h()));
      operatorName = 'DateFrom';
      break;
    case 'time':
      result = this.y8t_1.m7i().a6c(parseExpression(this, ctx.e4h()));
      operatorName = 'TimeFrom';
      break;
    case 'timezone':
      // Inline function 'kotlin.require' call

      if (!this.w8t_1.isCompatibilityLevel3) {
        var message = 'Timezone keyword is only valid in 1.3 or lower';
        throw IllegalArgumentException_init_$Create$(toString(message));
      }

      result = this.y8t_1.c7o().a6c(parseExpression(this, ctx.e4h()));
      operatorName = 'TimezoneFrom';
      break;
    case 'timezoneoffset':
      result = this.y8t_1.n7l().a6c(parseExpression(this, ctx.e4h()));
      operatorName = 'TimezoneOffsetFrom';
      break;
    case 'year':
    case 'month':
    case 'day':
    case 'hour':
    case 'minute':
    case 'second':
    case 'millisecond':
      result = this.y8t_1.f7l().a6c(parseExpression(this, ctx.e4h())).e6e(parseDateTimePrecision$default(this, component));
      operatorName = 'DateTimeComponentFrom';
      break;
    case 'week':
      throw IllegalArgumentException_init_$Create$('Date/time values do not have a week component.');
    default:
      throw IllegalArgumentException_init_$Create$("Unknown precision '" + component + "'.");
  }
  this.w8t_1.resolveUnaryCall('System', operatorName, result);
  return result;
};
protoOf(Cql2ElmVisitor).f37 = function (ctx) {
  var operand = parseExpression(this, ctx.e4h());
  var start = this.y8t_1.a7k().a6c(operand);
  this.w8t_1.resolveUnaryCall('System', 'Start', start);
  var end = this.y8t_1.a7l().a6c(operand);
  this.w8t_1.resolveUnaryCall('System', 'End', end);
  var result = this.y8t_1.w7j().e6e(parseDateTimePrecision$default(this, ctx.o4l().c24())).f67(listOf([start, end]));
  this.w8t_1.o8w('System', 'DurationBetween', result);
  return result;
};
protoOf(Cql2ElmVisitor).g37 = function (ctx) {
  var operand = parseExpression(this, ctx.e4h());
  var start = this.y8t_1.a7k().a6c(operand);
  this.w8t_1.resolveUnaryCall('System', 'Start', start);
  var end = this.y8t_1.a7l().a6c(operand);
  this.w8t_1.resolveUnaryCall('System', 'End', end);
  var result = this.y8t_1.g7m().e6e(parseDateTimePrecision$default(this, ctx.o4l().c24())).f67(listOf([start, end]));
  this.w8t_1.o8w('System', 'DifferenceBetween', result);
  return result;
};
protoOf(Cql2ElmVisitor).f36 = function (ctx) {
  var first = ensureNotNull(parseExpression(this, ctx.j3w()));
  var second = ensureNotNull(parseExpression(this, ctx.p4l(0)));
  var third = parseExpression(this, ctx.p4l(1));
  var isProper = ensureNotNull(ctx.o2f(0)).c24() === 'properly';
  var tmp;
  var tmp_0 = Trackable_getInstance().n8v(first);
  if (tmp_0 instanceof IntervalType) {
    var result = isProper ? this.y8t_1.y7l() : this.y8t_1.q7p().f67(listOf([first, this.w8t_1.createInterval(second, true, third, true)]));
    this.w8t_1.o8w('System', isProper ? 'ProperIncludedIn' : 'IncludedIn', result);
    tmp = result;
  } else {
    var result_0 = this.y8t_1.x7o().f67(listOf([(isProper ? this.y8t_1.n7q() : this.y8t_1.t7n()).f67(listOf([first, second])), (isProper ? this.y8t_1.p7o() : this.y8t_1.y7i()).f67(listOf([first, ensureNotNull(third)]))]));
    var tmp_1 = isProper ? 'Greater' : 'GreaterOrEqual';
    var tmp_2 = result_0.o67().o(0);
    this.w8t_1.o8w('System', tmp_1, tmp_2 instanceof BinaryExpression ? tmp_2 : THROW_CCE());
    var tmp_3 = isProper ? 'Less' : 'LessOrEqual';
    var tmp_4 = result_0.o67().o(1);
    this.w8t_1.o8w('System', tmp_3, tmp_4 instanceof BinaryExpression ? tmp_4 : THROW_CCE());
    this.w8t_1.o8w('System', 'And', result_0);
    tmp = result_0;
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).v35 = function (ctx) {
  var result = this.y8t_1.w7j().e6e(parseDateTimePrecision$default(this, ctx.o4l().c24())).f67(listOf([ensureNotNull(parseExpression(this, ctx.p4l(0))), ensureNotNull(parseExpression(this, ctx.p4l(1)))]));
  this.w8t_1.o8w('System', 'DurationBetween', result);
  return result;
};
protoOf(Cql2ElmVisitor).h36 = function (ctx) {
  var result = this.y8t_1.g7m().e6e(parseDateTimePrecision$default(this, ctx.o4l().c24())).f67(listOf([ensureNotNull(parseExpression(this, ctx.p4l(0))), ensureNotNull(parseExpression(this, ctx.p4l(1)))]));
  this.w8t_1.o8w('System', 'DifferenceBetween', result);
  return result;
};
protoOf(Cql2ElmVisitor).t36 = function (ctx) {
  var result = this.y8t_1.p7n().a6c(parseExpression(this, ctx.e4h()));
  this.w8t_1.resolveUnaryCall('System', 'Width', result);
  return result;
};
protoOf(Cql2ElmVisitor).m38 = function (ctx) {
  return parseExpression(this, ctx.j3w());
};
protoOf(Cql2ElmVisitor).g36 = function (ctx) {
  var operator = ensureNotNull(ctx.o2f(1)).c24();
  if (operator === 'in')
    if (!(ctx.y4p() == null)) {
      var inExpression = this.y8t_1.e7n().e6e(parseComparableDateTimePrecision(this, ensureNotNull(ctx.y4p()).k4v().c24())).f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
      this.w8t_1.o8w('System', 'In', inExpression);
      return inExpression;
    } else {
      var left = parseExpression(this, ctx.a4m(0));
      var right = parseExpression(this, ctx.a4m(1));
      return this.w8t_1.m8w(ensureNotNull(left), ensureNotNull(right));
    }
   else if (operator === 'contains')
    if (!(ctx.y4p() == null)) {
      var contains = this.y8t_1.q7i().e6e(parseComparableDateTimePrecision(this, ensureNotNull(ctx.y4p()).k4v().c24())).f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
      this.w8t_1.o8w('System', 'Contains', contains);
      return contains;
    } else {
      var left_0 = ensureNotNull(parseExpression(this, ctx.a4m(0)));
      var right_0 = ensureNotNull(parseExpression(this, ctx.a4m(1)));
      if (left_0 instanceof ValueSetRef) {
        var tmp = this.y8t_1.v7o().o71(right_0);
        var inValueSet = tmp.c6b(left_0 instanceof ValueSetRef ? left_0 : THROW_CCE()).d6b(left_0);
        this.w8t_1.resolveCall('System', 'InValueSet', new InValueSetInvocation(inValueSet));
        return inValueSet;
      }
      if (left_0 instanceof CodeSystemRef) {
        var tmp_0 = this.y8t_1.m7p().o71(right_0);
        var inCodeSystem = tmp_0.r6a(left_0 instanceof CodeSystemRef ? left_0 : THROW_CCE()).s6a(left_0);
        this.w8t_1.resolveCall('System', 'InCodeSystem', new InCodeSystemInvocation(inCodeSystem));
        return inCodeSystem;
      }
      var contains_0 = this.y8t_1.q7i().f67(listOf([left_0, right_0]));
      this.w8t_1.o8w('System', 'Contains', contains_0);
      return contains_0;
    }
  throw IllegalArgumentException_init_$Create$('Unknown operator: ' + operator);
};
protoOf(Cql2ElmVisitor).e36 = function (ctx) {
  var and = this.y8t_1.x7o().f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
  this.w8t_1.o8w('System', 'And', and);
  return and;
};
protoOf(Cql2ElmVisitor).c36 = function (ctx) {
  var tmp;
  if (ensureNotNull(ctx.o2f(1)).c24() === 'xor') {
    var xor = this.y8t_1.s7i().f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
    this.w8t_1.o8w('System', 'Xor', xor);
    tmp = xor;
  } else {
    var or = this.y8t_1.k7h().f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
    this.w8t_1.o8w('System', 'Or', or);
    tmp = or;
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).l36 = function (ctx) {
  var implies = this.y8t_1.h7k().f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
  this.w8t_1.o8w('System', 'Implies', implies);
  return implies;
};
protoOf(Cql2ElmVisitor).w35 = function (ctx) {
  var operator = ensureNotNull(ctx.o2f(1)).c24();
  var left = parseExpression(this, ctx.a4m(0));
  var right = parseExpression(this, ctx.a4m(1));
  switch (operator) {
    case '|':
    case 'union':
      return this.w8t_1.resolveUnion(ensureNotNull(left), ensureNotNull(right));
    case 'intersect':
      return this.w8t_1.resolveIntersect(ensureNotNull(left), ensureNotNull(right));
    case 'except':
      return this.w8t_1.resolveExcept(ensureNotNull(left), ensureNotNull(right));
  }
  return this.y8t_1.a7o();
};
protoOf(Cql2ElmVisitor).j36 = function (ctx) {
  var operator = this.k8v(ctx.o2f(1));
  var tmp;
  switch (operator) {
    case '~':
    case '!~':
      var equivalent = this.y8t_1.z7o().f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
      this.w8t_1.o8w('System', 'Equivalent', equivalent);
      if (!('~' === this.k8v(ctx.o2f(1)))) {
        track(this, equivalent, ctx);
        var not = this.y8t_1.u7k().a6c(equivalent);
        this.w8t_1.resolveUnaryCall('System', 'Not', not);
        return not;
      }

      tmp = equivalent;
      break;
    default:
      var equal = this.y8t_1.e7m().f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
      this.w8t_1.o8w('System', 'Equal', equal);
      if (!('=' === this.k8v(ctx.o2f(1)))) {
        track(this, equal, ctx);
        var not_0 = this.y8t_1.u7k().a6c(equal);
        this.w8t_1.resolveUnaryCall('System', 'Not', not_0);
        return not_0;
      }

      tmp = equal;
      break;
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).i36 = function (ctx) {
  var exp;
  var operatorName;
  switch (this.k8v(ctx.o2f(1))) {
    case '<=':
      operatorName = 'LessOrEqual';
      exp = this.y8t_1.y7i();
      break;
    case '<':
      operatorName = 'Less';
      exp = this.y8t_1.p7o();
      break;
    case '>':
      operatorName = 'Greater';
      exp = this.y8t_1.n7q();
      break;
    case '>=':
      operatorName = 'GreaterOrEqual';
      exp = this.y8t_1.t7n();
      break;
    default:
      throw IllegalArgumentException_init_$Create$('Unknown operator: ' + ensureNotNull(ctx.o2f(1)).c24());
  }
  exp.f67(listOf([ensureNotNull(parseExpression(this, ctx.a4m(0))), ensureNotNull(parseExpression(this, ctx.a4m(1)))]));
  this.w8t_1.o8w('System', operatorName, exp);
  return exp;
};
protoOf(Cql2ElmVisitor).n35 = function (ctx) {
  var identifiers = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.d42().g();
  while (_iterator__ex2g4s.h()) {
    var qualifierContext = _iterator__ex2g4s.i();
    var qualifier = this.k8v(qualifierContext);
    identifiers.e(qualifier);
  }
  var identifier = this.k8v(ctx.g3w());
  identifiers.e(identifier);
  return identifiers;
};
protoOf(Cql2ElmVisitor).o35 = function (ctx) {
  var identifiers = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.z4h().g();
  while (_iterator__ex2g4s.h()) {
    var qualifierContext = _iterator__ex2g4s.i();
    var qualifier = this.k8v(qualifierContext);
    identifiers.e(qualifier);
  }
  var identifier = this.k8v(ctx.d44());
  identifiers.e(identifier);
  return identifiers;
};
protoOf(Cql2ElmVisitor).s35 = function (ctx) {
  var tmp = this.d32(ctx.d44());
  return (tmp == null ? true : typeof tmp === 'string') ? tmp : THROW_CCE();
};
protoOf(Cql2ElmVisitor).r35 = function (ctx) {
  return toString_0(this.d32(ctx.u4i())) + '.' + toString_0(this.d32(ctx.d44()));
};
protoOf(Cql2ElmVisitor).q35 = function (ctx) {
  return toString_0(this.d32(ctx.u4i())) + '[' + toString_0(this.d32(ctx.w4f())) + ']';
};
protoOf(Cql2ElmVisitor).m36 = function (ctx) {
  var result = protoOf(CqlPreprocessorElmCommonVisitor).m36.call(this, ctx);
  // Inline function 'kotlin.require' call
  if (!!(result instanceof LibraryRef)) {
    var message = 'Identifier ' + (result instanceof LibraryRef ? result : THROW_CCE()).v8y_1 + ' is a library and cannot be used as an expression.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return result;
};
protoOf(Cql2ElmVisitor).h32 = function (node) {
  var text = node.c24();
  var tokenType = node.r2f().s23();
  if (-1 === tokenType) {
    return null;
  }
  switch (tokenType) {
    case 165:
    case 158:
    case 164:
      text = substring_0(text, 1, text.length - 1 | 0);
      break;
  }
  return text;
};
protoOf(Cql2ElmVisitor).z36 = function (ctx) {
  if (!(ctx.i3w() == null)) {
    var targetType = this.f90(ctx.i3w());
    var operand = parseExpression(this, ctx.j3w());
    if (!DataTypes_instance.q8z(Trackable_getInstance().n8v(ensureNotNull(operand)), Trackable_getInstance().n8v(ensureNotNull(targetType)))) {
      var tmp0_elvis_lhs = this.w8t_1.findConversion(ensureNotNull(Trackable_getInstance().n8v(operand)), ensureNotNull(Trackable_getInstance().n8v(targetType)), false, true);
      var tmp;
      if (tmp0_elvis_lhs == null) {
        throw IllegalArgumentException_init_$Create$('Could not resolve conversion from type ' + toString_0(Trackable_getInstance().n8v(operand)) + ' to type ' + toString_0(Trackable_getInstance().n8v(targetType)) + '.');
      } else {
        tmp = tmp0_elvis_lhs;
      }
      var conversion = tmp;
      return this.w8t_1.e91(operand, conversion);
    }
    return operand;
  } else {
    var targetUnit = this.k8v(ctx.k4x());
    targetUnit = this.w8t_1.ensureUcumUnit(ensureNotNull(targetUnit));
    var operand_0 = ensureNotNull(parseExpression(this, ctx.j3w()));
    var unitOperand = this.w8t_1.z90(targetUnit);
    track(this, unitOperand, ensureNotNull(ctx.k4x()));
    var convertQuantity = this.y8t_1.p7p().f67(listOf([operand_0, unitOperand]));
    track(this, convertQuantity, ctx);
    return this.w8t_1.o8w('System', 'ConvertQuantity', convertQuantity);
  }
};
protoOf(Cql2ElmVisitor).n36 = function (ctx) {
  if (ensureNotNull(ctx.o2f(1)).c24() === 'is') {
    var isExpression = this.y8t_1.g7n().a6c(parseExpression(this, ctx.j3w())).c76(this.f90(ctx.i3w()));
    Trackable_getInstance().o8v(isExpression, this.w8t_1.l8w('System', 'Boolean'));
    return isExpression;
  }
  var asExpression = this.y8t_1.j7j().a6c(parseExpression(this, ctx.j3w())).z6b(this.f90(ctx.i3w())).y6b(false);
  var targetType = Trackable_getInstance().n8v(ensureNotNull(asExpression.v6b_1));
  DataTypes_instance.g91(targetType, Trackable_getInstance().n8v(ensureNotNull(asExpression.u66_1)));
  Trackable_getInstance().o8v(asExpression, targetType);
  return asExpression;
};
protoOf(Cql2ElmVisitor).d36 = function (ctx) {
  var asExpression = this.y8t_1.j7j().a6c(parseExpression(this, ctx.j3w())).z6b(this.f90(ctx.i3w())).y6b(true);
  var targetType = Trackable_getInstance().n8v(ensureNotNull(asExpression.v6b_1));
  DataTypes_instance.g91(targetType, Trackable_getInstance().n8v(ensureNotNull(asExpression.u66_1)));
  Trackable_getInstance().o8v(asExpression, targetType);
  return asExpression;
};
protoOf(Cql2ElmVisitor).b36 = function (ctx) {
  var exp;
  var tmp = this.d32(ctx.j3w());
  var left = (tmp == null ? true : tmp instanceof Expression) ? tmp : THROW_CCE();
  var lastChild = ensureNotNull(ctx.o2f(ctx.k2f() - 1 | 0)).c24();
  var nextToLast = ensureNotNull(ctx.o2f(ctx.k2f() - 2 | 0)).c24();
  switch (lastChild) {
    case 'null':
      exp = this.y8t_1.r7l().a6c(left);
      this.w8t_1.resolveUnaryCall('System', 'IsNull', exp);
      break;
    case 'true':
      exp = this.y8t_1.p7l().a6c(left);
      this.w8t_1.resolveUnaryCall('System', 'IsTrue', exp);
      break;
    case 'false':
      exp = this.y8t_1.t7h().a6c(left);
      this.w8t_1.resolveUnaryCall('System', 'IsFalse', exp);
      break;
    default:
      throw IllegalArgumentException_init_$Create$('Unknown boolean test predicate ' + lastChild + '.');
  }
  if ('not' === nextToLast) {
    track(this, exp, ctx);
    exp = this.y8t_1.u7k().a6c(exp);
    this.w8t_1.resolveUnaryCall('System', 'Not', exp);
  }
  return exp;
};
protoOf(Cql2ElmVisitor).y35 = function (ctx) {
  var left = parseExpression(this, ctx.a4m(0));
  var right = parseExpression(this, ctx.a4m(1));
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (left == null) {
      var message = 'left expression of timing operator can not be null';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  $l$block_0: {
    // Inline function 'kotlin.requireNotNull' call
    if (right == null) {
      var message_0 = 'right expression of timing operator can not be null';
      throw IllegalArgumentException_init_$Create$(toString(message_0));
    } else {
      break $l$block_0;
    }
  }
  var timingOperatorContext = new TimingOperatorContext(left, right);
  this.g8v_1.i8y(timingOperatorContext);
  var tmp;
  try {
    tmp = this.d32(ctx.v4m());
  }finally {
    this.g8v_1.r2c();
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).u37 = function (ctx) {
  var timingOperator = this.g8v_1.q2c();
  var firstChild = ensureNotNull(ctx.o2f(0));
  if ('starts' === firstChild.c24()) {
    var start = this.y8t_1.a7k().a6c(timingOperator.h91_1);
    track(this, start, firstChild);
    this.w8t_1.resolveUnaryCall('System', 'Start', start);
    timingOperator.h91_1 = start;
  }
  if ('ends' === firstChild.c24()) {
    var end = this.y8t_1.a7l().a6c(timingOperator.h91_1);
    track(this, end, firstChild);
    this.w8t_1.resolveUnaryCall('System', 'End', end);
    timingOperator.h91_1 = end;
  }
  var lastChild = ensureNotNull(ctx.o2f(ctx.k2f() - 1 | 0));
  if ('start' === lastChild.c24()) {
    var start_0 = this.y8t_1.a7k().a6c(timingOperator.i91_1);
    track(this, start_0, lastChild);
    this.w8t_1.resolveUnaryCall('System', 'Start', start_0);
    timingOperator.i91_1 = start_0;
  }
  if ('end' === lastChild.c24()) {
    var end_0 = this.y8t_1.a7l().a6c(timingOperator.i91_1);
    track(this, end_0, lastChild);
    this.w8t_1.resolveUnaryCall('System', 'End', end_0);
    timingOperator.i91_1 = end_0;
  }
  var operatorName;
  var operator;
  var allowPromotionAndDemotion = false;
  if (ctx.w56() == null) {
    var tmp;
    if (!(ctx.k4v() == null)) {
      tmp = this.y8t_1.p7j().e6e(parseComparableDateTimePrecision(this, ensureNotNull(ctx.k4v()).c24()));
    } else {
      tmp = this.y8t_1.p7j();
    }
    operator = tmp;
    operatorName = 'SameAs';
  } else {
    switch (ensureNotNull(ctx.w56()).c24()) {
      case 'or after':
        var tmp_0;
        if (!(ctx.k4v() == null)) {
          tmp_0 = this.y8t_1.x7h().e6e(parseComparableDateTimePrecision(this, ensureNotNull(ctx.k4v()).c24()));
        } else {
          tmp_0 = this.y8t_1.x7h();
        }

        operator = tmp_0;
        operatorName = 'SameOrAfter';
        allowPromotionAndDemotion = true;
        break;
      case 'or before':
        var tmp_1;
        if (!(ctx.k4v() == null)) {
          tmp_1 = this.y8t_1.c7m().e6e(parseComparableDateTimePrecision(this, ensureNotNull(ctx.k4v()).c24()));
        } else {
          tmp_1 = this.y8t_1.c7m();
        }

        operator = tmp_1;
        operatorName = 'SameOrBefore';
        allowPromotionAndDemotion = true;
        break;
      default:
        throw IllegalArgumentException_init_$Create$("Unknown relative qualifier: '" + ensureNotNull(ctx.w56()).c24() + "'.");
    }
  }
  operator = operator.f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
  this.w8t_1.j91('System', operatorName, operator, true, allowPromotionAndDemotion);
  return operator;
};
protoOf(Cql2ElmVisitor).v37 = function (ctx) {
  var isProper = false;
  var isRightPoint = false;
  var timingOperator = this.g8v_1.q2c();
  var _iterator__ex2g4s = ensureNotNull(ctx.h2e_1).g();
  $l$loop_1: while (_iterator__ex2g4s.h()) {
    var pt = _iterator__ex2g4s.i();
    if ('properly' === pt.c24()) {
      isProper = true;
      continue $l$loop_1;
    }
    if ('start' === pt.c24()) {
      var start = this.y8t_1.a7k().a6c(timingOperator.i91_1);
      track(this, start, pt);
      this.w8t_1.resolveUnaryCall('System', 'Start', start);
      timingOperator.i91_1 = start;
      isRightPoint = true;
      continue $l$loop_1;
    }
    if ('end' === pt.c24()) {
      var end = this.y8t_1.a7l().a6c(timingOperator.i91_1);
      track(this, end, pt);
      this.w8t_1.resolveUnaryCall('System', 'End', end);
      timingOperator.i91_1 = end;
      isRightPoint = true;
      continue $l$loop_1;
    }
  }
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  if (isRightPoint) {
    var tmp;
    if (isProper) {
      tmp = this.w8t_1.resolveProperContains(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
    } else {
      tmp = this.w8t_1.k91(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
    }
    return tmp;
  }
  var tmp_0;
  if (isProper) {
    tmp_0 = this.w8t_1.resolveProperIncludes(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
  } else {
    tmp_0 = this.w8t_1.resolveIncludes(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
  }
  return tmp_0;
};
protoOf(Cql2ElmVisitor).w37 = function (ctx) {
  var isProper = false;
  var isLeftPoint = false;
  var timingOperator = this.g8v_1.q2c();
  var _iterator__ex2g4s = ensureNotNull(ctx.h2e_1).g();
  $l$loop_1: while (_iterator__ex2g4s.h()) {
    var pt = _iterator__ex2g4s.i();
    if ('starts' === pt.c24()) {
      var start = this.y8t_1.a7k().a6c(timingOperator.h91_1);
      track(this, start, pt);
      this.w8t_1.resolveUnaryCall('System', 'Start', start);
      timingOperator.h91_1 = start;
      isLeftPoint = true;
      continue $l$loop_1;
    }
    if ('ends' === pt.c24()) {
      var end = this.y8t_1.a7l().a6c(timingOperator.h91_1);
      track(this, end, pt);
      this.w8t_1.resolveUnaryCall('System', 'End', end);
      timingOperator.h91_1 = end;
      isLeftPoint = true;
      continue $l$loop_1;
    }
    if ('properly' === pt.c24()) {
      isProper = true;
      continue $l$loop_1;
    }
  }
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  if (isLeftPoint) {
    var tmp;
    if (isProper) {
      tmp = this.w8t_1.resolveProperIn(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
    } else {
      tmp = this.w8t_1.l91(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
    }
    return tmp;
  }
  var tmp_0;
  if (isProper) {
    tmp_0 = this.w8t_1.resolveProperIncludedIn(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
  } else {
    tmp_0 = this.w8t_1.resolveIncludedIn(timingOperator.h91_1, timingOperator.i91_1, parseComparableDateTimePrecision_0(this, dateTimePrecision, false));
  }
  return tmp_0;
};
protoOf(Cql2ElmVisitor).x37 = function (ctx) {
  var timingOperator = this.g8v_1.q2c();
  var isBefore = false;
  var isInclusive = false;
  var _iterator__ex2g4s = ensureNotNull(ctx.h2e_1).g();
  $l$loop_2: while (_iterator__ex2g4s.h()) {
    var child = _iterator__ex2g4s.i();
    if ('starts' === child.c24()) {
      var start = this.y8t_1.a7k().a6c(timingOperator.h91_1);
      track(this, start, child);
      this.w8t_1.resolveUnaryCall('System', 'Start', start);
      timingOperator.h91_1 = start;
      continue $l$loop_2;
    }
    if ('ends' === child.c24()) {
      var end = this.y8t_1.a7l().a6c(timingOperator.h91_1);
      track(this, end, child);
      this.w8t_1.resolveUnaryCall('System', 'End', end);
      timingOperator.h91_1 = end;
      continue $l$loop_2;
    }
    if ('start' === child.c24()) {
      var start_0 = this.y8t_1.a7k().a6c(timingOperator.i91_1);
      track(this, start_0, child);
      this.w8t_1.resolveUnaryCall('System', 'Start', start_0);
      timingOperator.i91_1 = start_0;
      continue $l$loop_2;
    }
    if ('end' === child.c24()) {
      var end_0 = this.y8t_1.a7l().a6c(timingOperator.i91_1);
      track(this, end_0, child);
      this.w8t_1.resolveUnaryCall('System', 'End', end_0);
      timingOperator.i91_1 = end_0;
      continue $l$loop_2;
    }
  }
  var _iterator__ex2g4s_0 = ensureNotNull(ctx.b58().h2e_1).g();
  $l$loop_4: while (_iterator__ex2g4s_0.h()) {
    var child_0 = _iterator__ex2g4s_0.i();
    if ('before' === child_0.c24()) {
      isBefore = true;
      continue $l$loop_4;
    }
    if ('on or' === child_0.c24() || 'or on' === child_0.c24()) {
      isInclusive = true;
      continue $l$loop_4;
    }
  }
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  if (ctx.c58() == null) {
    var tmp;
    if (isInclusive) {
      var tmp_0;
      if (isBefore) {
        var sameOrBefore = this.y8t_1.c7m().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
        if (!(dateTimePrecision == null)) {
          sameOrBefore.n83_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
        }
        this.w8t_1.j91('System', 'SameOrBefore', sameOrBefore, true, true);
        tmp_0 = sameOrBefore;
      } else {
        var sameOrAfter = this.y8t_1.x7h().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
        if (!(dateTimePrecision == null)) {
          sameOrAfter.f83_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
        }
        this.w8t_1.j91('System', 'SameOrAfter', sameOrAfter, true, true);
        tmp_0 = sameOrAfter;
      }
      tmp = tmp_0;
    } else {
      var tmp_1;
      if (isBefore) {
        var before = this.y8t_1.o7p().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
        if (!(dateTimePrecision == null)) {
          before.q6c_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
        }
        this.w8t_1.j91('System', 'Before', before, true, true);
        tmp_1 = before;
      } else {
        var after = this.y8t_1.s7j().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
        if (!(dateTimePrecision == null)) {
          after.w67_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
        }
        this.w8t_1.j91('System', 'After', after, true, true);
        tmp_1 = after;
      }
      tmp = tmp_1;
    }
    return tmp;
  } else {
    var tmp_2 = this.d32(ensureNotNull(ensureNotNull(ctx.c58()).x4f()));
    var quantity = tmp_2 instanceof Quantity ? tmp_2 : THROW_CCE();
    var tmp_3 = Trackable_getInstance().n8v(timingOperator.h91_1);
    if (tmp_3 instanceof IntervalType) {
      if (isBefore) {
        var end_1 = this.y8t_1.a7l().a6c(timingOperator.h91_1);
        track_0(this, end_1, timingOperator.h91_1);
        this.w8t_1.resolveUnaryCall('System', 'End', end_1);
        timingOperator.h91_1 = end_1;
      } else {
        var start_1 = this.y8t_1.a7k().a6c(timingOperator.h91_1);
        track_0(this, start_1, timingOperator.h91_1);
        this.w8t_1.resolveUnaryCall('System', 'Start', start_1);
        timingOperator.h91_1 = start_1;
      }
    }
    var tmp_4 = Trackable_getInstance().n8v(timingOperator.i91_1);
    if (tmp_4 instanceof IntervalType) {
      if (isBefore) {
        var start_2 = this.y8t_1.a7k().a6c(timingOperator.i91_1);
        track_0(this, start_2, timingOperator.i91_1);
        this.w8t_1.resolveUnaryCall('System', 'Start', start_2);
        timingOperator.i91_1 = start_2;
      } else {
        var end_2 = this.y8t_1.a7l().a6c(timingOperator.i91_1);
        track_0(this, end_2, timingOperator.i91_1);
        this.w8t_1.resolveUnaryCall('System', 'End', end_2);
        timingOperator.i91_1 = end_2;
      }
    }
    if (ensureNotNull(ctx.c58()).w54() == null && ensureNotNull(ctx.c58()).x54() == null) {
      if (isBefore) {
        var subtract = this.y8t_1.r7i().f67(listOf([timingOperator.i91_1, quantity]));
        track_0(this, subtract, timingOperator.i91_1);
        this.w8t_1.o8w('System', 'Subtract', subtract);
        timingOperator.i91_1 = subtract;
      } else {
        var add = this.y8t_1.x7j().f67(listOf([timingOperator.i91_1, quantity]));
        track_0(this, add, timingOperator.i91_1);
        this.w8t_1.o8w('System', 'Add', add);
        timingOperator.i91_1 = add;
      }
      var sameAs = this.y8t_1.p7j().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
      if (!(dateTimePrecision == null)) {
        sameAs.x82_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
      }
      this.w8t_1.o8w('System', 'SameAs', sameAs);
      return sameAs;
    } else {
      var isOffsetInclusive = !(ensureNotNull(ctx.c58()).w54() == null);
      var qualifier = !(ensureNotNull(ctx.c58()).w54() == null) ? ensureNotNull(ensureNotNull(ctx.c58()).w54()).c24() : ensureNotNull(ensureNotNull(ctx.c58()).x54()).c24();
      switch (qualifier) {
        case 'more than':
        case 'or more':
          var tmp_5;
          if (isBefore) {
            var subtract_0 = this.y8t_1.r7i().f67(listOf([timingOperator.i91_1, quantity]));
            track_0(this, subtract_0, timingOperator.i91_1);
            this.w8t_1.o8w('System', 'Subtract', subtract_0);
            timingOperator.i91_1 = subtract_0;
            var tmp_6;
            if (!isOffsetInclusive) {
              var before_0 = this.y8t_1.o7p().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
              if (!(dateTimePrecision == null)) {
                before_0.q6c_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
              }
              this.w8t_1.j91('System', 'Before', before_0, true, true);
              tmp_6 = before_0;
            } else {
              var sameOrBefore_0 = this.y8t_1.c7m().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
              if (!(dateTimePrecision == null)) {
                sameOrBefore_0.n83_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
              }
              this.w8t_1.j91('System', 'SameOrBefore', sameOrBefore_0, true, true);
              tmp_6 = sameOrBefore_0;
            }
            tmp_5 = tmp_6;
          } else {
            var add_0 = this.y8t_1.x7j().f67(listOf([timingOperator.i91_1, quantity]));
            track_0(this, add_0, timingOperator.i91_1);
            this.w8t_1.o8w('System', 'Add', add_0);
            timingOperator.i91_1 = add_0;
            var tmp_7;
            if (!isOffsetInclusive) {
              var after_0 = this.y8t_1.s7j().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
              if (!(dateTimePrecision == null)) {
                after_0.w67_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
              }
              this.w8t_1.j91('System', 'After', after_0, true, true);
              tmp_7 = after_0;
            } else {
              var sameOrAfter_0 = this.y8t_1.x7h().f67(listOf([timingOperator.h91_1, timingOperator.i91_1]));
              if (!(dateTimePrecision == null)) {
                sameOrAfter_0.f83_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
              }
              this.w8t_1.j91('System', 'SameOrAfter', sameOrAfter_0, true, true);
              tmp_7 = sameOrAfter_0;
            }
            tmp_5 = tmp_7;
          }

          return tmp_5;
        case 'less than':
        case 'or less':
          var lowerBound;
          var upperBound;
          var right = timingOperator.i91_1;
          if (isBefore) {
            lowerBound = this.y8t_1.r7i().f67(listOf([right, quantity]));
            track_0(this, lowerBound, right);
            this.w8t_1.o8w('System', 'Subtract', ensureNotNull(lowerBound instanceof BinaryExpression ? lowerBound : THROW_CCE()));
            upperBound = right;
          } else {
            lowerBound = right;
            upperBound = this.y8t_1.x7j().f67(listOf([right, quantity]));
            track_0(this, upperBound, right);
            this.w8t_1.o8w('System', 'Add', ensureNotNull(upperBound instanceof BinaryExpression ? upperBound : THROW_CCE()));
          }

          var interval = isBefore ? this.w8t_1.createInterval(lowerBound, isOffsetInclusive, upperBound, isInclusive) : this.w8t_1.createInterval(lowerBound, isInclusive, upperBound, isOffsetInclusive);
          track(this, interval, ensureNotNull(ctx.c58()));
          var inExpression = this.y8t_1.e7n().f67(listOf([timingOperator.h91_1, interval]));
          if (!(dateTimePrecision == null)) {
            inExpression.e71_1 = parseComparableDateTimePrecision(this, dateTimePrecision);
          }

          track(this, inExpression, ensureNotNull(ctx.c58()));
          this.w8t_1.o8w('System', 'In', inExpression);
          if (isOffsetInclusive || isInclusive) {
            var nullTest = this.y8t_1.r7l().a6c(right);
            track(this, nullTest, ensureNotNull(ctx.c58()));
            this.w8t_1.resolveUnaryCall('System', 'IsNull', nullTest);
            var notNullTest = this.y8t_1.u7k().a6c(nullTest);
            track(this, notNullTest, ensureNotNull(ctx.c58()));
            this.w8t_1.resolveUnaryCall('System', 'Not', notNullTest);
            var and = this.y8t_1.x7o().f67(listOf([inExpression, notNullTest]));
            track(this, and, ensureNotNull(ctx.c58()));
            this.w8t_1.o8w('System', 'And', and);
            return and;
          }

          return inExpression;
      }
    }
  }
  throw IllegalArgumentException_init_$Create$('Unable to resolve interval operator phrase.');
};
protoOf(Cql2ElmVisitor).y37 = function (ctx) {
  var timingOperator = this.g8v_1.q2c();
  var isProper = false;
  var _iterator__ex2g4s = ensureNotNull(ctx.h2e_1).g();
  $l$loop_3: while (_iterator__ex2g4s.h()) {
    var child = _iterator__ex2g4s.i();
    if ('starts' === child.c24()) {
      var start = this.y8t_1.a7k().a6c(timingOperator.h91_1);
      track(this, start, child);
      this.w8t_1.resolveUnaryCall('System', 'Start', start);
      timingOperator.h91_1 = start;
      continue $l$loop_3;
    }
    if ('ends' === child.c24()) {
      var end = this.y8t_1.a7l().a6c(timingOperator.h91_1);
      track(this, end, child);
      this.w8t_1.resolveUnaryCall('System', 'End', end);
      timingOperator.h91_1 = end;
      continue $l$loop_3;
    }
    if ('start' === child.c24()) {
      var start_0 = this.y8t_1.a7k().a6c(timingOperator.i91_1);
      track(this, start_0, child);
      this.w8t_1.resolveUnaryCall('System', 'Start', start_0);
      timingOperator.i91_1 = start_0;
      continue $l$loop_3;
    }
    if ('end' === child.c24()) {
      var end_0 = this.y8t_1.a7l().a6c(timingOperator.i91_1);
      track(this, end_0, child);
      this.w8t_1.resolveUnaryCall('System', 'End', end_0);
      timingOperator.i91_1 = end_0;
      continue $l$loop_3;
    }
    if ('properly' === child.c24()) {
      isProper = true;
      continue $l$loop_3;
    }
  }
  var tmp = this.d32(ctx.x4f());
  var quantity = tmp instanceof Quantity ? tmp : THROW_CCE();
  var lowerBound;
  var upperBound;
  var initialBound = null;
  var tmp_0 = Trackable_getInstance().n8v(timingOperator.i91_1);
  if (tmp_0 instanceof IntervalType) {
    lowerBound = this.y8t_1.a7k().a6c(timingOperator.i91_1);
    track(this, lowerBound, ctx.x4f());
    this.w8t_1.resolveUnaryCall('System', 'Start', lowerBound);
    upperBound = this.y8t_1.a7l().a6c(timingOperator.i91_1);
    track(this, upperBound, ctx.x4f());
    this.w8t_1.resolveUnaryCall('System', 'End', upperBound);
  } else {
    lowerBound = timingOperator.i91_1;
    upperBound = timingOperator.i91_1;
    initialBound = lowerBound;
  }
  lowerBound = this.y8t_1.r7i().f67(listOf([lowerBound, quantity]));
  track(this, lowerBound, ctx.x4f());
  this.w8t_1.o8w('System', 'Subtract', ensureNotNull(lowerBound instanceof BinaryExpression ? lowerBound : THROW_CCE()));
  upperBound = this.y8t_1.x7j().f67(listOf([upperBound, quantity]));
  track(this, upperBound, ctx.x4f());
  this.w8t_1.o8w('System', 'Add', ensureNotNull(upperBound instanceof BinaryExpression ? upperBound : THROW_CCE()));
  var interval = this.w8t_1.createInterval(lowerBound, !isProper, upperBound, !isProper);
  track(this, interval, ctx.x4f());
  var inExpression = this.y8t_1.e7n().f67(listOf([timingOperator.h91_1, interval]));
  this.w8t_1.o8w('System', 'In', inExpression);
  if (!isProper && !(initialBound == null)) {
    var nullTest = this.y8t_1.r7l().a6c(initialBound);
    track(this, nullTest, ctx.x4f());
    this.w8t_1.resolveUnaryCall('System', 'IsNull', nullTest);
    var notNullTest = this.y8t_1.u7k().a6c(nullTest);
    track(this, notNullTest, ctx.x4f());
    this.w8t_1.resolveUnaryCall('System', 'Not', notNullTest);
    var and = this.y8t_1.x7o().f67(listOf([inExpression, notNullTest]));
    track(this, and, ctx.x4f());
    this.w8t_1.o8w('System', 'And', and);
    return and;
  }
  return inExpression;
};
protoOf(Cql2ElmVisitor).z37 = function (ctx) {
  var operatorName;
  var operator;
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  if (ctx.k2f() === (1 + (dateTimePrecision == null ? 0 : 1) | 0)) {
    operator = !(dateTimePrecision == null) ? this.y8t_1.y7j().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.y7j();
    operatorName = 'Meets';
  } else {
    if ('before' === ensureNotNull(ctx.o2f(1)).c24()) {
      operator = !(dateTimePrecision == null) ? this.y8t_1.h7m().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.h7m();
      operatorName = 'MeetsBefore';
    } else {
      operator = !(dateTimePrecision == null) ? this.y8t_1.d7m().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.d7m();
      operatorName = 'MeetsAfter';
    }
  }
  operator.f67(listOf([this.g8v_1.q2c().h91_1, this.g8v_1.q2c().i91_1]));
  this.w8t_1.o8w('System', operatorName, operator);
  return operator;
};
protoOf(Cql2ElmVisitor).a38 = function (ctx) {
  var operatorName;
  var operator;
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  if (ctx.k2f() === (1 + (dateTimePrecision == null ? 0 : 1) | 0)) {
    operator = !(dateTimePrecision == null) ? this.y8t_1.a7j().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.a7j();
    operatorName = 'Overlaps';
  } else {
    if ('before' === ensureNotNull(ctx.o2f(1)).c24()) {
      operator = !(dateTimePrecision == null) ? this.y8t_1.n7i().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.n7i();
      operatorName = 'OverlapsBefore';
    } else {
      operator = !(dateTimePrecision == null) ? this.y8t_1.x7m().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.x7m();
      operatorName = 'OverlapsAfter';
    }
  }
  operator.f67(listOf([this.g8v_1.q2c().h91_1, this.g8v_1.q2c().i91_1]));
  this.w8t_1.o8w('System', operatorName, operator);
  return operator;
};
protoOf(Cql2ElmVisitor).b38 = function (ctx) {
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  var starts = (!(dateTimePrecision == null) ? this.y8t_1.b7j().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.b7j()).f67(listOf([this.g8v_1.q2c().h91_1, this.g8v_1.q2c().i91_1]));
  this.w8t_1.o8w('System', 'Starts', starts);
  return starts;
};
protoOf(Cql2ElmVisitor).c38 = function (ctx) {
  var dateTimePrecision = !(ctx.y4p() == null) ? ensureNotNull(ctx.y4p()).k4v().c24() : null;
  var ends = (!(dateTimePrecision == null) ? this.y8t_1.w7m().e6e(parseComparableDateTimePrecision(this, dateTimePrecision)) : this.y8t_1.w7m()).f67(listOf([this.g8v_1.q2c().h91_1, this.g8v_1.q2c().i91_1]));
  this.w8t_1.o8w('System', 'Ends', ends);
  return ends;
};
protoOf(Cql2ElmVisitor).m91 = function (ifObject) {
  ifObject.m70_1 = this.w8t_1.ensureCompatible(ifObject.m70_1, this.w8t_1.l8w('System', 'Boolean'));
  var resultType = this.w8t_1.ensureCompatibleTypes(Trackable_getInstance().n8v(ensureNotNull(ifObject.n70_1)), ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(ifObject.o70_1))));
  Trackable_getInstance().o8v(ifObject, resultType);
  ifObject.n70_1 = this.w8t_1.ensureCompatible(ifObject.n70_1, resultType);
  ifObject.o70_1 = this.w8t_1.ensureCompatible(ifObject.o70_1, resultType);
  return ifObject;
};
protoOf(Cql2ElmVisitor).w36 = function (ctx) {
  var ifObject = this.y8t_1.y7m().p70(parseExpression(this, ctx.a4m(0))).v6f(parseExpression(this, ctx.a4m(1))).m6f(parseExpression(this, ctx.a4m(2)));
  return this.m91(ifObject);
};
protoOf(Cql2ElmVisitor).h37 = function (ctx) {
  var result = this.y8t_1.i7n();
  var hitElse = false;
  var resultType = null;
  var _iterator__ex2g4s = ensureNotNull(ctx.h2e_1).g();
  $l$loop: while (_iterator__ex2g4s.h()) {
    var pt = _iterator__ex2g4s.i();
    if ('else' === pt.c24()) {
      hitElse = true;
      continue $l$loop;
    }
    if (pt instanceof ExpressionContext) {
      if (hitElse) {
        result.k6f_1 = parseExpression(this, pt);
        resultType = this.w8t_1.ensureCompatibleTypes(resultType, ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(result.k6f_1))));
      } else {
        result.i6f_1 = parseExpression(this, pt);
      }
    }
    if (pt instanceof CaseExpressionItemContext) {
      var tmp = this.d32(pt);
      var caseItem = tmp instanceof CaseItem ? tmp : THROW_CCE();
      if (!(result.i6f_1 == null)) {
        this.w8t_1.verifyType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(caseItem.s6f_1))), ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(result.i6f_1))));
      } else {
        DataTypes_instance.n91(Trackable_getInstance().n8v(ensureNotNull(caseItem.s6f_1)), this.w8t_1.l8w('System', 'Boolean'));
      }
      var tmp_0;
      if (resultType == null) {
        tmp_0 = Trackable_getInstance().n8v(ensureNotNull(caseItem.t6f_1));
      } else {
        tmp_0 = this.w8t_1.ensureCompatibleTypes(resultType, ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(caseItem.t6f_1))));
      }
      resultType = tmp_0;
      result.l6f().e(caseItem);
    }
  }
  var _iterator__ex2g4s_0 = result.l6f().g();
  while (_iterator__ex2g4s_0.h()) {
    var caseItem_0 = _iterator__ex2g4s_0.i();
    if (!(result.i6f_1 == null)) {
      ensureNotNull(caseItem_0).s6f_1 = this.w8t_1.ensureCompatible(caseItem_0.s6f_1, Trackable_getInstance().n8v(ensureNotNull(result.i6f_1)));
    }
    ensureNotNull(caseItem_0).t6f_1 = this.w8t_1.ensureCompatible(caseItem_0.t6f_1, resultType);
  }
  result.k6f_1 = this.w8t_1.ensureCompatible(result.k6f_1, resultType);
  Trackable_getInstance().o8v(result, resultType);
  return result;
};
protoOf(Cql2ElmVisitor).n37 = function (ctx) {
  return this.y8t_1.m7o().u6f(parseExpression(this, ctx.a4m(0))).v6f(parseExpression(this, ctx.a4m(1)));
};
protoOf(Cql2ElmVisitor).e37 = function (ctx) {
  var tmp0_subject = ensureNotNull(ctx.o2f(0)).c24();
  if (tmp0_subject === 'distinct') {
    var distinct = this.y8t_1.s7h().a6c(parseExpression(this, ctx.j3w()));
    this.w8t_1.resolveUnaryCall('System', 'Distinct', distinct);
    return distinct;
  } else if (tmp0_subject === 'flatten') {
    var flatten = this.y8t_1.p7m().a6c(parseExpression(this, ctx.j3w()));
    this.w8t_1.resolveUnaryCall('System', 'Flatten', flatten);
    return flatten;
  }
  throw IllegalArgumentException_init_$Create$('Unknown aggregate operator ' + ensureNotNull(ctx.o2f(0)).c24() + '.');
};
protoOf(Cql2ElmVisitor).u36 = function (ctx) {
  var source = ensureNotNull(parseExpression(this, ctx.a4m(0)));
  var per = this.w8t_1.buildNull(this.w8t_1.l8w('System', 'Quantity'));
  if (!(ctx.k4v() == null)) {
    per = this.w8t_1.createQuantity(BigDecimalJs_init_$Create$('1.0'), ensureNotNull(this.k8v(ctx.k4v())));
  } else if (ctx.j3w().j() > 1) {
    var perExpression = parseExpression(this, ctx.a4m(1));
    if (perExpression instanceof Literal) {
      per = this.w8t_1.createQuantity(BigDecimalJs_init_$Create$(ensureNotNull(perExpression.u7a_1)), '1');
    } else {
      per = perExpression;
    }
  } else {
    var tmp = Trackable_getInstance().n8v(source);
    if (tmp instanceof ListType) {
      var tmp_0 = Trackable_getInstance().n8v(source);
      var listType = tmp_0 instanceof ListType ? tmp_0 : THROW_CCE();
      var tmp_1 = listType.d61_1;
      if (tmp_1 instanceof IntervalType) {
        var tmp_2 = listType.d61_1;
        var intervalType = tmp_2 instanceof IntervalType ? tmp_2 : THROW_CCE();
        var pointType = intervalType.g61_1;
      }
    }
  }
  var tmp0_subject = ensureNotNull(ctx.o2f(0)).c24();
  if (tmp0_subject === 'expand') {
    var expand = this.y8t_1.p7i().f67(listOf([source, ensureNotNull(per)]));
    this.w8t_1.o8w('System', 'Expand', expand);
    return expand;
  } else if (tmp0_subject === 'collapse') {
    var collapse = this.y8t_1.z7p().f67(listOf([source, ensureNotNull(per)]));
    this.w8t_1.o8w('System', 'Collapse', collapse);
    return collapse;
  }
  throw IllegalArgumentException_init_$Create$('Unknown aggregate set operator ' + ensureNotNull(ctx.o2f(0)).c24() + '.');
};
protoOf(Cql2ElmVisitor).w34 = function (ctx) {
  this.w8t_1.checkLiteralContext();
  var qualifiers = this.k90(ctx.i4a());
  var model = Companion_instance_20.l90(qualifiers);
  var label = Companion_instance_20.m90(qualifiers, ensureNotNull(this.k8v(ctx.i4a().c42())));
  var dataType = this.w8t_1.l8w(model, label);
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (dataType == null) {
      var message = 'Could not resolve type name ' + label + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  var tmp;
  if (dataType instanceof ClassType) {
    tmp = dataType.p60_1;
  } else {
    tmp = false;
  }
  // Inline function 'kotlin.require' call
  if (!tmp) {
    var message_0 = 'Specified data type ' + label + ' does not support retrieval.';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  var classType = dataType;
  var namedType = classType;
  var modelInfo = this.w8t_1.x90(namedType.n61()).q90_1;
  var useStrictRetrieveTyping = !(modelInfo.f5y() == null) && ensureNotNull(modelInfo.f5y());
  var codePath = null;
  var property = null;
  var propertyException = null;
  var terminology = null;
  var codeComparator = null;
  if (!(ctx.k4a() == null)) {
    if (!(ctx.l4a() == null)) {
      var tmp_0 = this.d32(ensureNotNull(ctx.l4a()));
      var identifiers = (tmp_0 == null ? true : typeof tmp_0 === 'string') ? tmp_0 : THROW_CCE();
      codePath = identifiers;
    } else if (!(classType.q60_1 == null)) {
      codePath = classType.q60_1;
    }
    if (codePath == null) {
      propertyException = CqlSemanticException_init_$Create$_0('Retrieve has a terminology target but does not specify a code path and the type of the retrieve does not have a primary code path defined.', useStrictRetrieveTyping ? ErrorSeverity_Error_getInstance() : ErrorSeverity_Warning_getInstance(), getTrackBack_1(this, ctx));
      this.w8t_1.recordParsingException(propertyException);
    } else {
      try {
        var codeType = this.w8t_1.resolvePath(isInterface(namedType, DataType) ? namedType : THROW_CCE(), codePath);
        property = this.y8t_1.q7n().y6c(codePath);
        Trackable_getInstance().o8v(property, codeType);
      } catch ($p) {
        if ($p instanceof Exception) {
          var e = $p;
          propertyException = CqlSemanticException_init_$Create$_2('Could not resolve code path ' + codePath + ' for the type of the retrieve ' + namedType.z2() + '.', useStrictRetrieveTyping ? ErrorSeverity_Error_getInstance() : ErrorSeverity_Warning_getInstance(), getTrackBack_1(this, ctx), e);
          this.w8t_1.recordParsingException(propertyException);
        } else {
          throw $p;
        }
      }
    }
    if (!(ensureNotNull(ctx.k4a()).w47() == null)) {
      // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
      var this_0 = this.d32(ensureNotNull(ctx.k4a()));
      var identifiers_0 = (!(this_0 == null) ? isInterface(this_0, KtList) : false) ? this_0 : THROW_CCE();
      terminology = resolveQualifiedIdentifier(this, identifiers_0);
      track(this, terminology, ensureNotNull(ensureNotNull(ctx.k4a()).w47()));
    } else {
      terminology = parseExpression(this, ensureNotNull(ctx.k4a()).j3w());
    }
    var tmp_1;
    if (!(ctx.m4a() == null)) {
      var tmp_2 = this.d32(ensureNotNull(ctx.m4a()));
      tmp_1 = (tmp_2 == null ? true : typeof tmp_2 === 'string') ? tmp_2 : THROW_CCE();
    } else {
      tmp_1 = null;
    }
    codeComparator = tmp_1;
  }
  var result = null;
  var hasFHIRHelpers = !(this.d8u_1.o91('FHIRHelpers') == null);
  var tmp_3;
  var tmp_4;
  if (!(property == null)) {
    var tmp_5 = Trackable_getInstance().n8v(property);
    tmp_4 = tmp_5 instanceof ChoiceType;
  } else {
    tmp_4 = false;
  }
  if (tmp_4) {
    tmp_3 = codeComparator == null;
  } else {
    tmp_3 = false;
  }
  if (tmp_3) {
    var tmp_6 = Trackable_getInstance().n8v(property);
    var _iterator__ex2g4s = (tmp_6 instanceof ChoiceType ? tmp_6 : THROW_CCE()).b60_1.g();
    while (_iterator__ex2g4s.h()) {
      var propertyType = _iterator__ex2g4s.i();
      var tmp_7;
      var tmp_8;
      var tmp_9;
      if (hasFHIRHelpers) {
        tmp_9 = !(propertyType == null) ? isInterface(propertyType, NamedType) : false;
      } else {
        tmp_9 = false;
      }
      if (tmp_9) {
        tmp_8 = ((!(propertyType == null) ? isInterface(propertyType, NamedType) : false) ? propertyType : THROW_CCE()).lb() === 'Reference';
      } else {
        tmp_8 = false;
      }
      if (tmp_8) {
        tmp_7 = namedType.lb() === 'MedicationRequest' || namedType.lb() === 'MedicationAdministration' || namedType.lb() === 'MedicationDispense' || namedType.lb() === 'MedicationStatement';
      } else {
        tmp_7 = false;
      }
      if (tmp_7) {
        var mrRetrieve = buildRetrieve(this, ctx, useStrictRetrieveTyping, namedType, classType, null, null, null, null, null, null);
        this.h8v_1.e(mrRetrieve);
        var tmp_10 = Trackable_getInstance();
        tmp_10.o8v(mrRetrieve, new ListType(isInterface(namedType, DataType) ? namedType : THROW_CCE()));
        var mDataType = this.w8t_1.l8w(model, 'Medication');
        var mClassType = mDataType instanceof ClassType ? mDataType : THROW_CCE();
        var mNamedType = mClassType;
        var mRetrieve = buildRetrieve(this, ctx, useStrictRetrieveTyping, mNamedType, mClassType, null, null, null, null, null, null);
        this.h8v_1.e(mRetrieve);
        Trackable_getInstance().o8v(mRetrieve, new ListType(mDataType));
        var q = this.y8t_1.l7h();
        var aqs = this.y8t_1.f7q().r69(mrRetrieve).q69('MR');
        track(this, aqs, ctx);
        Trackable_getInstance().o8v(aqs, Trackable_getInstance().n8v(ensureNotNull(aqs.p69_1)));
        q.b1p().e(aqs);
        track(this, q, ctx);
        Trackable_getInstance().o8v(q, Trackable_getInstance().n8v(aqs));
        var w = this.y8t_1.g7l().r69(mRetrieve).q69('M');
        track(this, w, ctx);
        Trackable_getInstance().o8v(w, Trackable_getInstance().n8v(ensureNotNull(w.p69_1)));
        q.p7y().e(w);
        var idPath = 'id';
        var idType = this.w8t_1.resolvePath(mDataType, idPath);
        var idProperty = this.w8t_1.p91('M', idPath, false, idType);
        var refPath = 'medication.reference';
        var refType = this.w8t_1.resolvePath(dataType, refPath);
        var refProperty = this.w8t_1.p91('MR', refPath, false, refType);
        var split = this.y8t_1.v7i().r85(refProperty).s85(this.w8t_1.z90('/'));
        this.w8t_1.resolveCall('System', 'Split', new SplitInvocation(split));
        var last = this.y8t_1.g7k().a6k(split);
        this.w8t_1.resolveCall('System', 'Last', new LastInvocation(last));
        var e_0 = this.y8t_1.e7m().f67(listOf([idProperty, last]));
        this.w8t_1.o8w('System', 'Equal', e_0);
        if (DataTypes_instance.q8z(idType, this.w8t_1.l8w('System', 'String'))) {
          idProperty.m7x_1 = 'id.value';
        }
        if (DataTypes_instance.q8z(refType, this.w8t_1.l8w('System', 'String'))) {
          refProperty.m7x_1 = 'medication.reference.value';
        }
        var mCodeType = this.w8t_1.resolvePath(isInterface(mNamedType, DataType) ? mNamedType : THROW_CCE(), 'code');
        var mProperty = this.w8t_1.p91('M', 'code', false, mCodeType);
        var mCodeProperty = mProperty;
        if (DataTypes_instance.q8z(mCodeType, this.w8t_1.l8w('System', 'Concept'))) {
          var toConcept = this.y8t_1.w7h().t6i('FHIRHelpers').q65('ToConcept').f67(listOf_0(mCodeProperty));
          Trackable_getInstance().o8v(toConcept, mCodeType);
          mCodeProperty = toConcept;
        }
        var mCodeComparator = '~';
        var tmp_11 = Trackable_getInstance().n8v(ensureNotNull(terminology));
        if (tmp_11 instanceof ListType) {
          mCodeComparator = 'in';
        } else {
          if (this.w8t_1.isCompatibleWith('1.5')) {
            mCodeComparator = ensureNotNull(Trackable_getInstance().n8v(terminology)).x5z(ensureNotNull(this.w8t_1.l8w('System', 'Vocabulary'))) ? 'in' : '~';
          }
        }
        var tmp_12;
        if (mCodeComparator === 'in') {
          tmp_12 = this.w8t_1.m8w(mCodeProperty, terminology);
        } else {
          var equivalent = this.y8t_1.z7o().f67(listOf([mCodeProperty, terminology]));
          this.w8t_1.o8w('System', 'Equivalent', equivalent);
          tmp_12 = equivalent;
        }
        var terminologyComparison = tmp_12;
        var a = this.y8t_1.x7o().f67(listOf([e_0, terminologyComparison]));
        this.w8t_1.o8w('System', 'And', a);
        w.u7z(a);
        var tmp_13;
        if (result == null) {
          tmp_13 = q;
        } else {
          track(this, q, ctx);
          tmp_13 = this.w8t_1.resolveUnion(result, q);
        }
        result = tmp_13;
      } else {
        var retrieve = buildRetrieve(this, ctx, useStrictRetrieveTyping, namedType, classType, codePath, codeComparator, property, propertyType, propertyException, terminology);
        this.h8v_1.e(retrieve);
        var tmp_14 = Trackable_getInstance();
        tmp_14.o8v(retrieve, new ListType(isInterface(namedType, DataType) ? namedType : THROW_CCE()));
        var tmp_15;
        if (result == null) {
          tmp_15 = retrieve;
        } else {
          track(this, retrieve, ctx);
          tmp_15 = this.w8t_1.resolveUnion(result, retrieve);
        }
        result = tmp_15;
      }
    }
  } else {
    var tmp_16 = codePath;
    var tmp_17 = codeComparator;
    var tmp_18 = property;
    var tmp0_safe_receiver = property;
    var retrieve_0 = buildRetrieve(this, ctx, useStrictRetrieveTyping, namedType, classType, tmp_16, tmp_17, tmp_18, tmp0_safe_receiver == null ? null : Trackable_getInstance().n8v(tmp0_safe_receiver), propertyException, terminology);
    this.h8v_1.e(retrieve_0);
    var tmp_19 = Trackable_getInstance();
    tmp_19.o8v(retrieve_0, new ListType(isInterface(namedType, DataType) ? namedType : THROW_CCE()));
    result = retrieve_0;
  }
  return result;
};
protoOf(Cql2ElmVisitor).d35 = function (ctx) {
  var hasFrom = 'from' === ensureNotNull(ctx.o2f(0)).c24();
  // Inline function 'kotlin.require' call
  if (!(hasFrom || !this.k8u_1)) {
    var message = 'The from keyword is required for queries.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var sources = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.n49().g();
  while (_iterator__ex2g4s.h()) {
    var source = _iterator__ex2g4s.i();
    // Inline function 'kotlin.require' call
    if (!(sources.q() || hasFrom)) {
      var message_0 = 'The from keyword is required for multi-source queries.';
      throw IllegalArgumentException_init_$Create$(toString(message_0));
    }
    var tmp = this.d32(source);
    sources.e((tmp == null ? true : tmp instanceof AliasedQuerySource) ? tmp : THROW_CCE());
  }
  return sources;
};
protoOf(Cql2ElmVisitor).c35 = function (ctx) {
  var queryContext = new QueryContext();
  this.w8t_1.pushQueryContext(queryContext);
  var sources = null;
  var tmp;
  try {
    queryContext.y91();
    try {
      // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
      var this_0 = this.d32(ctx.v4c());
      sources = (this_0 == null ? true : isInterface(this_0, KtList)) ? this_0 : THROW_CCE();
    }finally {
      queryContext.z91();
    }
    queryContext.a92(ensureNotNull(sources));
    var _iterator__ex2g4s = sources.g();
    while (_iterator__ex2g4s.h()) {
      var source = _iterator__ex2g4s.i();
      var ir = this.y8t_1.p7k().q65(source.o69_1);
      track_0(this, ir, source);
      this.w8t_1.pushIdentifier(ir, source);
    }
    var expressionContextPushed = false;
    var dfcx = emptyList();
    var tmp_0;
    try {
      var tmp_1;
      if (!(ctx.w4c() == null)) {
        // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
        var this_1 = this.d32(ensureNotNull(ctx.w4c()));
        tmp_1 = (!(this_1 == null) ? isInterface(this_1, KtList) : false) ? this_1 : THROW_CCE();
      } else {
        tmp_1 = dfcx;
      }
      dfcx = tmp_1;
      var _iterator__ex2g4s_0 = dfcx.g();
      while (_iterator__ex2g4s_0.h()) {
        var letClause = _iterator__ex2g4s_0.i();
        var ir_0 = this.y8t_1.p7k().q65(letClause.w78_1);
        track_0(this, ir_0, letClause);
        this.w8t_1.pushIdentifier(ir_0, letClause);
      }
      var qicx = ArrayList_init_$Create$();
      var _iterator__ex2g4s_1 = ctx.x4c().g();
      while (_iterator__ex2g4s_1.h()) {
        var queryInclusionClauseContext = _iterator__ex2g4s_1.i();
        var tmp_2 = this.d32(queryInclusionClauseContext);
        qicx.e(tmp_2 instanceof RelationshipClause ? tmp_2 : THROW_CCE());
      }
      var tmp_3;
      if (!(ctx.y4c() == null)) {
        var tmp_4 = this.d32(ensureNotNull(ctx.y4c()));
        tmp_3 = (tmp_4 == null ? true : tmp_4 instanceof Expression) ? tmp_4 : THROW_CCE();
      } else {
        tmp_3 = null;
      }
      var where = tmp_3;
      if (this.i8u_1 && !(where == null)) {
        var _iterator__ex2g4s_2 = sources.g();
        while (_iterator__ex2g4s_2.h()) {
          var aqs = _iterator__ex2g4s_2.i();
          where = this.b92(where, aqs);
        }
      }
      var tmp_5;
      if (!(ctx.a4d() == null)) {
        var tmp_6 = this.d32(ensureNotNull(ctx.a4d()));
        tmp_5 = (tmp_6 == null ? true : tmp_6 instanceof ReturnClause) ? tmp_6 : THROW_CCE();
      } else {
        tmp_5 = null;
      }
      var ret = tmp_5;
      var tmp_7;
      if (!(ctx.z4c() == null)) {
        var tmp_8 = this.d32(ensureNotNull(ctx.z4c()));
        tmp_7 = (tmp_8 == null ? true : tmp_8 instanceof AggregateClause) ? tmp_8 : THROW_CCE();
      } else {
        tmp_7 = null;
      }
      var agg = tmp_7;
      if (agg == null && ret == null && sources.j() > 1) {
        ret = this.y8t_1.d7o().h82(true);
        var returnExpression = this.y8t_1.y7n();
        // Inline function 'kotlin.collections.mutableListOf' call
        var elements = ArrayList_init_$Create$();
        var _iterator__ex2g4s_3 = sources.g();
        while (_iterator__ex2g4s_3.h()) {
          var aqs_0 = _iterator__ex2g4s_3.i();
          var element = this.y8t_1.k7q().q65(aqs_0.o69_1).i74(this.y8t_1.g7j().q65(aqs_0.o69_1));
          var tmp_9;
          var tmp_10 = Trackable_getInstance().n8v(aqs_0);
          if (tmp_10 instanceof ListType) {
            var tmp_11 = Trackable_getInstance().n8v(aqs_0);
            tmp_9 = (tmp_11 instanceof ListType ? tmp_11 : THROW_CCE()).d61_1;
          } else {
            tmp_9 = Trackable_getInstance().n8v(aqs_0);
          }
          var sourceType = tmp_9;
          Trackable_getInstance().o8v(ensureNotNull(element.n8f_1), sourceType);
          elements.e(new TupleTypeElement(ensureNotNull(element.m8f_1), ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(element.n8f_1)))));
          returnExpression.g5v().e(element);
        }
        var returnType = TupleType_init_$Create$(elements);
        Trackable_getInstance().o8v(returnExpression, queryContext.s91_1 ? returnType : new ListType(returnType));
        ret.g82_1 = returnExpression;
        Trackable_getInstance().o8v(ret, Trackable_getInstance().n8v(returnExpression));
      }
      queryContext.c92(sources);
      queryContext.d92(dfcx);
      var tmp_12;
      if (!(agg == null)) {
        tmp_12 = Trackable_getInstance().n8v(agg);
      } else if (!(ret == null)) {
        tmp_12 = Trackable_getInstance().n8v(ret);
      } else {
        tmp_12 = Trackable_getInstance().n8v(sources.o(0));
      }
      var queryResultType = tmp_12;
      var sort = null;
      if (agg == null) {
        var tmp_13 = queryContext;
        var tmp_14;
        if (queryContext.s91_1) {
          tmp_14 = null;
        } else {
          tmp_14 = ensureNotNull((queryResultType == null ? true : queryResultType instanceof ListType) ? queryResultType : THROW_CCE()).d61_1;
        }
        tmp_13.w91_1 = tmp_14;
        if (!(ctx.b4d() == null)) {
          // Inline function 'kotlin.require' call
          if (!!queryContext.s91_1) {
            var message = 'Sort clause cannot be used in a singular query.';
            throw IllegalArgumentException_init_$Create$(toString(message));
          }
          queryContext.e92();
          try {
            var tmp_15 = this.d32(ensureNotNull(ctx.b4d()));
            sort = tmp_15 instanceof SortClause ? tmp_15 : THROW_CCE();
            var _iterator__ex2g4s_4 = sort.a85().g();
            while (_iterator__ex2g4s_4.h()) {
              var sortByItem = _iterator__ex2g4s_4.i();
              if (sortByItem instanceof ByDirection) {
                this.w8t_1.verifyComparable(ensureNotNull(queryContext.w91_1));
              } else {
                this.w8t_1.verifyComparable(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(sortByItem))));
              }
            }
          }finally {
            queryContext.f92();
          }
        }
      } else {
        // Inline function 'kotlin.require' call
        if (!(ctx.b4d() == null)) {
          var message_0 = 'Sort clause cannot be used in an aggregate query.';
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        }
      }
      var query = this.y8t_1.l7h().q7y(sources).r7y(dfcx).s7y(qicx).t7y(where).u7y(ret).v7y(agg).w7y(sort);
      Trackable_getInstance().o8v(query, queryResultType);
      tmp_0 = query;
    }finally {
      if (expressionContextPushed) {
        this.w8t_1.popExpressionContext();
      }
      var _iterator__ex2g4s_5 = dfcx.g();
      while (_iterator__ex2g4s_5.h()) {
        var letClause_0 = _iterator__ex2g4s_5.i();
        this.w8t_1.popIdentifier();
      }
    }
    tmp = tmp_0;
  }finally {
    this.w8t_1.popQueryContext();
    if (!(sources == null)) {
      var _iterator__ex2g4s_6 = sources.g();
      while (_iterator__ex2g4s_6.h()) {
        var source_0 = _iterator__ex2g4s_6.i();
        this.w8t_1.popIdentifier();
      }
    }
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).b92 = function (where, aqs) {
  var where_0 = where;
  var tmp = aqs.p69_1;
  if (tmp instanceof Retrieve) {
    var tmp_0 = aqs.p69_1;
    var retrieve = tmp_0 instanceof Retrieve ? tmp_0 : THROW_CCE();
    var alias = aqs.o69_1;
    var tmp_1;
    var tmp_2;
    if (where_0 instanceof IncludedIn) {
      tmp_2 = true;
    } else {
      tmp_2 = where_0 instanceof In;
    }
    if (tmp_2) {
      tmp_1 = attemptDateRangeOptimization(this, where_0 instanceof BinaryExpression ? where_0 : THROW_CCE(), retrieve, ensureNotNull(alias));
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      where_0 = null;
    } else {
      var tmp_3;
      if (where_0 instanceof And) {
        tmp_3 = attemptDateRangeOptimization_0(this, where_0, retrieve, ensureNotNull(alias));
      } else {
        tmp_3 = false;
      }
      if (tmp_3) {
        where_0 = consolidateAnd(this, where_0);
      }
    }
  }
  return where_0;
};
protoOf(Cql2ElmVisitor).e35 = function (ctx) {
  var letClauseItems = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.w4d().g();
  while (_iterator__ex2g4s.h()) {
    var letClauseItem = _iterator__ex2g4s.i();
    var tmp = this.d32(letClauseItem);
    letClauseItems.e((tmp == null ? true : tmp instanceof LetClause) ? tmp : THROW_CCE());
  }
  return letClauseItems;
};
protoOf(Cql2ElmVisitor).f35 = function (ctx) {
  var letClause = this.y8t_1.s7o().r69(parseExpression(this, ctx.j3w())).y78(this.k8v(ctx.g3w()));
  Trackable_getInstance().o8v(letClause, Trackable_getInstance().n8v(ensureNotNull(letClause.x78_1)));
  this.w8t_1.peekQueryContext().g92(letClause);
  return letClause;
};
protoOf(Cql2ElmVisitor).r34 = function (ctx) {
  var source = this.y8t_1.f7q().r69(parseExpression(this, ctx.h48())).q69(this.k8v(ctx.i48()));
  Trackable_getInstance().o8v(source, Trackable_getInstance().n8v(ensureNotNull(source.p69_1)));
  return source;
};
protoOf(Cql2ElmVisitor).u34 = function (ctx) {
  var tmp = this.d32(ctx.n49());
  var aqs = tmp instanceof AliasedQuerySource ? tmp : THROW_CCE();
  this.w8t_1.peekQueryContext().h92(aqs);
  var tmp_0;
  try {
    var tmp_1 = this.d32(ctx.j3w());
    var expression = tmp_1 instanceof Expression ? tmp_1 : THROW_CCE();
    DataTypes_instance.n91(Trackable_getInstance().n8v(expression), this.w8t_1.l8w('System', 'Boolean'));
    var result = this.y8t_1.g7l();
    result.r69(aqs.p69_1).q69(aqs.o69_1).u7z(expression);
    Trackable_getInstance().o8v(result, Trackable_getInstance().n8v(aqs));
    tmp_0 = result;
  }finally {
    this.w8t_1.peekQueryContext().i92(aqs);
  }
  return tmp_0;
};
protoOf(Cql2ElmVisitor).v34 = function (ctx) {
  var tmp = this.d32(ctx.n49());
  var aqs = tmp instanceof AliasedQuerySource ? tmp : THROW_CCE();
  this.w8t_1.peekQueryContext().h92(aqs);
  var tmp_0;
  try {
    var tmp_1 = this.d32(ctx.j3w());
    var expression = tmp_1 instanceof Expression ? tmp_1 : THROW_CCE();
    DataTypes_instance.n91(Trackable_getInstance().n8v(expression), this.w8t_1.l8w('System', 'Boolean'));
    var result = this.y8t_1.m7n();
    result.r69(aqs.p69_1).q69(aqs.o69_1).u7z(expression);
    Trackable_getInstance().o8v(result, Trackable_getInstance().n8v(aqs));
    tmp_0 = result;
  }finally {
    this.w8t_1.peekQueryContext().i92(aqs);
  }
  return tmp_0;
};
protoOf(Cql2ElmVisitor).g35 = function (ctx) {
  var tmp = this.d32(ctx.j3w());
  var result = tmp instanceof Expression ? tmp : THROW_CCE();
  DataTypes_instance.n91(Trackable_getInstance().n8v(result), this.w8t_1.l8w('System', 'Boolean'));
  return result;
};
protoOf(Cql2ElmVisitor).h35 = function (ctx) {
  var returnClause = this.y8t_1.d7o();
  var tmp = ctx.o2f(1);
  if (!(tmp == null) ? isInterface(tmp, TerminalNode) : false) {
    var tmp0_subject = ensureNotNull(ctx.o2f(1)).c24();
    if (tmp0_subject === 'all') {
      returnClause.b69(false);
    } else if (tmp0_subject === 'distinct') {
      returnClause.b69(true);
    }
  }
  returnClause.g82_1 = parseExpression(this, ctx.j3w());
  Trackable_getInstance().o8v(returnClause, this.w8t_1.peekQueryContext().s91_1 ? Trackable_getInstance().n8v(ensureNotNull(returnClause.g82_1)) : new ListType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(returnClause.g82_1)))));
  return returnClause;
};
protoOf(Cql2ElmVisitor).j35 = function (ctx) {
  if (!(ctx.w4f() == null)) {
    return this.d32(ensureNotNull(ctx.w4f()));
  }
  if (!(ctx.x4f() == null)) {
    return this.d32(ensureNotNull(ctx.x4f()));
  }
  var tmp;
  if (!(ctx.j3w() == null)) {
    tmp = this.d32(ensureNotNull(ctx.j3w()));
  } else {
    tmp = null;
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).i35 = function (ctx) {
  this.w8t_1.checkCompatibilityLevel('Aggregate query clause', '1.5');
  var aggregateClause = this.y8t_1.a7i();
  var tmp = ctx.o2f(1);
  if (!(tmp == null) ? isInterface(tmp, TerminalNode) : false) {
    var tmp0_subject = ensureNotNull(ctx.o2f(1)).c24();
    if (tmp0_subject === 'all') {
      aggregateClause.b69(false);
    } else if (tmp0_subject === 'distinct') {
      aggregateClause.b69(true);
    }
  }
  if (!(ctx.l4f() == null)) {
    aggregateClause.a69_1 = parseExpression(this, ctx.l4f());
  }
  aggregateClause.x68_1 = this.k8v(ctx.g3w());
  var tmp_0;
  if (!(aggregateClause.a69_1 == null)) {
    tmp_0 = this.w8t_1.buildNull(Trackable_getInstance().n8v(ensureNotNull(aggregateClause.a69_1)));
  } else {
    tmp_0 = this.w8t_1.buildNull(this.w8t_1.l8w('System', 'Any'));
  }
  var accumulator = tmp_0;
  var letClause = this.y8t_1.s7o().r69(accumulator).y78(aggregateClause.x68_1);
  Trackable_getInstance().o8v(letClause, Trackable_getInstance().n8v(ensureNotNull(letClause.x78_1)));
  this.w8t_1.peekQueryContext().g92(letClause);
  aggregateClause.z68_1 = parseExpression(this, ctx.j3w());
  Trackable_getInstance().o8v(aggregateClause, Trackable_getInstance().n8v(ensureNotNull(aggregateClause.z68_1)));
  if (aggregateClause.a69_1 == null) {
    Trackable_getInstance().o8v(accumulator, Trackable_getInstance().n8v(aggregateClause));
    aggregateClause.a69_1 = accumulator;
  }
  return aggregateClause;
};
protoOf(Cql2ElmVisitor).l35 = function (ctx) {
  return Companion_instance.u5t(ctx.c24());
};
protoOf(Cql2ElmVisitor).m35 = function (ctx) {
  var sortExpression = ensureNotNull(parseExpression(this, ctx.e4h()));
  var tmp;
  if (sortExpression instanceof IdentifierRef) {
    tmp = Trackable_getInstance().h90(this.y8t_1.s7m().y6c(sortExpression.f70_1).z6c(parseSortDirection(this, ctx.i4g())), Trackable_getInstance().n8v(sortExpression));
  } else {
    tmp = Trackable_getInstance().h90(this.y8t_1.y7p().r69(sortExpression).z6c(parseSortDirection(this, ctx.i4g())), Trackable_getInstance().n8v(sortExpression));
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).k35 = function (ctx) {
  if (!(ctx.i4g() == null)) {
    return this.y8t_1.e7j().i85(listOf_0(this.y8t_1.v7n().z6c(parseSortDirection(this, ctx.i4g()))));
  }
  var sortItems = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.j4g().g();
  while (_iterator__ex2g4s.h()) {
    var sortByItemContext = _iterator__ex2g4s.i();
    var tmp = this.d32(sortByItemContext);
    sortItems.e(tmp instanceof SortByItem ? tmp : THROW_CCE());
  }
  return this.y8t_1.e7j().i85(sortItems);
};
protoOf(Cql2ElmVisitor).q34 = function (ctx) {
  var tmp;
  if (!(ctx.j3w() == null)) {
    tmp = this.d32(ensureNotNull(ctx.j3w()));
  } else if (!(ctx.v47() == null)) {
    tmp = this.d32(ensureNotNull(ctx.v47()));
  } else {
    // Inline function 'org.cqframework.cql.cql2elm.Cql2ElmVisitor.cast' call
    var this_0 = this.d32(ensureNotNull(ctx.w47()));
    var identifiers = (!(this_0 == null) ? isInterface(this_0, KtList) : false) ? this_0 : THROW_CCE();
    tmp = resolveQualifiedIdentifier(this, identifiers);
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).s36 = function (ctx) {
  var indexer = this.y8t_1.w7p().f67(listOf([ensureNotNull(parseExpression(this, ctx.e4h())), ensureNotNull(parseExpression(this, ctx.j3w()))]));
  this.w8t_1.o8w('System', 'Indexer', indexer);
  return indexer;
};
protoOf(Cql2ElmVisitor).m37 = function (ctx) {
  var left = ensureNotNull(parseExpression(this, ctx.e4h()));
  this.w8t_1.pushExpressionTarget(left);
  var tmp;
  try {
    var tmp_0 = this.d32(ctx.l52());
    tmp = (tmp_0 == null ? true : tmp_0 instanceof Expression) ? tmp_0 : THROW_CCE();
  }finally {
    this.w8t_1.popExpressionTarget();
  }
  return tmp;
};
protoOf(Cql2ElmVisitor).h39 = function (ctx) {
  return this.w8t_1.resolveIdentifier(ctx.c24(), true);
};
protoOf(Cql2ElmVisitor).s38 = function (ctx) {
  return this.w8t_1.resolveIdentifier(ctx.c24(), true);
};
protoOf(Cql2ElmVisitor).q38 = function (ctx) {
  var identifier = ensureNotNull(this.k8v(ctx.d44()));
  return resolveMemberIdentifier(this, identifier);
};
protoOf(Cql2ElmVisitor).n38 = function (ctx) {
  var identifier = ensureNotNull(this.k8v(ctx.d44()));
  return resolveMemberIdentifier(this, identifier);
};
protoOf(Cql2ElmVisitor).p8y = function (libraryName, functionName, expressions, mustResolve, allowPromotionAndDemotion, allowFluent) {
  var name = functionName;
  if (allowFluent) {
    this.w8t_1.checkCompatibilityLevel('Fluent functions', '1.5');
  }
  name = ensureSystemFunctionName(this, libraryName, name);
  if (libraryName == null || libraryName === '' || libraryName == this.d8u_1.k8x_1) {
    var fdis = this.d8u_1.j92(name);
    if (!(fdis == null)) {
      var _iterator__ex2g4s = fdis.g();
      while (_iterator__ex2g4s.h()) {
        var _destruct__k2r9zo = _iterator__ex2g4s.i();
        var context = _destruct__k2r9zo.ug();
        var definition = _destruct__k2r9zo.dm();
        var saveContext = this.g8y(context);
        try {
          registerFunctionDefinition(this, definition);
        }finally {
          this.b8u_1 = saveContext;
        }
      }
    }
  }
  var result = this.w8t_1.p8y(libraryName, name, expressions, mustResolve, allowPromotionAndDemotion, allowFluent);
  var tmp;
  var tmp_0;
  if (result instanceof FunctionRefInvocation) {
    tmp_0 = !(result.s92() == null);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = ensureNotNull(result.s92()).t92_1.e8x_1 == null || ensureNotNull(result.s92()).t92_1.e8x_1 == ensureNotNull(this.w8t_1.compiledLibrary.j8z_1).b8i_1;
  } else {
    tmp = false;
  }
  if (tmp) {
    var op = ensureNotNull(result.s92()).t92_1;
    var fh = getFunctionHeader_0(this, op);
    if (!fh.f8z_1) {
      var ctx = getFunctionDefinitionContext(this, fh);
      var saveContext_0 = this.g8y(ensureNotNull(fh.d8z_1.d6w_1));
      var saveChunks = this.c8u_1;
      this.c8u_1 = new Stack();
      try {
        var fd = compileFunctionDefinition(this, ctx);
        op.z8w_1 = Trackable_getInstance().n8v(fd);
        result.c93(op.z8w_1);
      }finally {
        this.b8u_1 = saveContext_0;
        this.c8u_1 = saveChunks;
      }
    }
  }
  if (mustResolve) {
    $l$block: {
      // Inline function 'kotlin.requireNotNull' call
      if (result == null) {
        var message = 'Internal error: could not resolve function';
        throw IllegalArgumentException_init_$Create$(toString(message));
      } else {
        break $l$block;
      }
    }
    var tmp0 = Trackable_getInstance().n8v(result.l5w());
    $l$block_0: {
      // Inline function 'kotlin.requireNotNull' call
      if (tmp0 == null) {
        var message_0 = 'Internal error: could not determine result type';
        throw IllegalArgumentException_init_$Create$(toString(message_0));
      } else {
        break $l$block_0;
      }
    }
  }
  return result == null ? null : result.l5w();
};
protoOf(Cql2ElmVisitor).v38 = function (ctx) {
  return resolveFunctionOrQualifiedFunction(this, ensureNotNull(this.k8v(ctx.d44())), ctx.x5d());
};
protoOf(Cql2ElmVisitor).p38 = function (ctx) {
  return resolveFunctionOrQualifiedFunction(this, ensureNotNull(this.k8v(ctx.n46())), ctx.x5d());
};
protoOf(Cql2ElmVisitor).p34 = function (ctx) {
  return this.d32(ctx.j3w());
};
protoOf(Cql2ElmVisitor).n34 = function (ctx) {
  this.w8t_1.pushIdentifierScope();
  var tmp;
  try {
    registerFunctionDefinition(this, ctx);
    tmp = compileFunctionDefinition(this, ctx);
  }finally {
    this.w8t_1.popIdentifierScope();
  }
  return tmp;
};
function extractLibraryIdentifier($this, parser) {
  var context = parser.p26_1;
  $l$loop: while (true) {
    var tmp;
    if (!(context == null)) {
      tmp = !(context instanceof LibraryContext);
    } else {
      tmp = false;
    }
    if (!tmp) {
      break $l$loop;
    }
    context = context.x29();
  }
  if (context instanceof LibraryContext) {
    var ldc = context.u3t();
    if (!((ldc == null ? null : ldc.f3u()) == null)) {
      var identifierText = ldc.f3u().g3w().c24();
      if (startsWith(identifierText, '"')) {
        var unescaped = StringEscapeUtils_getInstance().p93(identifierText);
        // Inline function 'kotlin.require' call
        if (!startsWith(unescaped, '"')) {
          var message = 'Expected string to start with double quotes';
          throw IllegalArgumentException_init_$Create$(toString(message));
        }
        // Inline function 'kotlin.require' call
        if (!endsWith(unescaped, '"')) {
          var message_0 = 'Expected string to end with double quotes';
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        }
        identifierText = substring_0(unescaped, 1, unescaped.length - 1 | 0);
      }
      var vi = (new VersionedIdentifier()).a6i(identifierText);
      if (!(ldc.g3u() == null)) {
        var version = StringEscapeUtils_getInstance().p93(ensureNotNull(ldc.g3u()).c24());
        version = substring_0(version, 1, version.length - 1 | 0);
        vi.d8i_1 = version;
      }
      return vi;
    }
  }
  return null;
}
function CqlErrorListener($outer, builder, detailedErrors) {
  this.s93_1 = $outer;
  BaseErrorListener.call(this);
  this.q93_1 = builder;
  this.r93_1 = detailedErrors;
}
protoOf(CqlErrorListener).w22 = function (recognizer, offendingSymbol, line, charPositionInLine, msg, e) {
  var libraryIdentifier = this.q93_1.libraryIdentifier;
  if (libraryIdentifier == null) {
    if (recognizer instanceof cqlParser) {
      libraryIdentifier = extractLibraryIdentifier(this, recognizer);
    }
    if (libraryIdentifier == null) {
      libraryIdentifier = this.s93_1.d94_1;
    }
  }
  var trackback = new TrackBack(libraryIdentifier, line, charPositionInLine, line, charPositionInLine);
  if (this.r93_1) {
    this.q93_1.recordParsingException(new CqlSyntaxException(msg, trackback, e));
    this.q93_1.recordParsingException(CqlCompilerException_init_$Create$_0(msg, trackback, e));
  } else {
    if (offendingSymbol instanceof CommonToken) {
      this.q93_1.recordParsingException(new CqlSyntaxException('Syntax error at ' + offendingSymbol.c24(), trackback, e));
    } else {
      this.q93_1.recordParsingException(new CqlSyntaxException('Syntax error', trackback, e));
    }
  }
};
function allNonNull($this, ts) {
  return filterNotNull(ts);
}
function CqlCompiler(namespaceInfo, sourceInfo, libraryManager) {
  this.t93_1 = namespaceInfo;
  this.u93_1 = libraryManager;
  this.v93_1 = null;
  this.w93_1 = null;
  this.x93_1 = null;
  this.y93_1 = null;
  this.z93_1 = null;
  this.a94_1 = null;
  this.b94_1 = null;
  this.c94_1 = null;
  var tmp = this;
  tmp.d94_1 = sourceInfo == null ? (new VersionedIdentifier()).a6i('Anonymous').e8i('text/cql') : sourceInfo;
  if (!(this.t93_1 == null)) {
    this.u93_1.namespaceManager.ensureNamespaceRegistered(this.t93_1);
  }
  var tmp_0;
  if (this.u93_1.namespaceManager.hasNamespaces()) {
    var tmp_1 = this.u93_1.librarySourceLoader;
    tmp_0 = isInterface(tmp_1, NamespaceAware);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    this.u93_1.librarySourceLoader.x62(this.u93_1.namespaceManager);
  }
}
protoOf(CqlCompiler).f94 = function () {
  return this.x93_1;
};
protoOf(CqlCompiler).g94 = function () {
  return this.y93_1;
};
protoOf(CqlCompiler).h94 = function () {
  var result = HashMap_init_$Create$();
  // Inline function 'kotlin.collections.forEach' call
  // Inline function 'kotlin.collections.iterator' call
  var _iterator__ex2g4s = this.u93_1.compiledLibraries.t2().g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    // Inline function 'kotlin.collections.component1' call
    var id = element.m2();
    // Inline function 'kotlin.collections.component2' call
    var compiledLibrary = element.n2();
    // Inline function 'kotlin.collections.set' call
    var value = ensureNotNull(compiledLibrary.k8z_1);
    result.u2(id, value);
  }
  return result;
};
protoOf(CqlCompiler).i94 = function (cqlText) {
  return this.j94(CharStreams_getInstance().v22(cqlText));
};
protoOf(CqlCompiler).k94 = function (source) {
  return this.i94(readString(source));
};
protoOf(CqlCompiler).j94 = function (charStream) {
  this.z93_1 = ArrayList_init_$Create$();
  this.a94_1 = ArrayList_init_$Create$();
  this.b94_1 = ArrayList_init_$Create$();
  this.c94_1 = ArrayList_init_$Create$();
  var options = this.u93_1.cqlCompilerOptions.options;
  var builder = new LibraryBuilder(this.t93_1, this.u93_1, new IdObjectFactory());
  var errorListener = new CqlErrorListener(this, builder, options.p(Options_EnableDetailedErrors_getInstance()));
  var lexer = new cqlLexer(charStream);
  lexer.z2c();
  lexer.y2c(errorListener);
  var tokens = new CommonTokenStream(lexer);
  var parser = new cqlParser(tokens);
  parser.q26_1 = true;
  parser.z2c();
  parser.y2c(errorListener);
  var tree = parser.r5s();
  var preprocessor = new CqlPreprocessor(builder, tokens);
  preprocessor.d32(tree);
  var visitor = new Cql2ElmVisitor(builder, tokens, preprocessor.d8u_1);
  this.x93_1 = visitor.d32(tree);
  this.v93_1 = builder.library;
  var edits = allNonNull(this, [!options.p(Options_EnableAnnotations_getInstance()) ? ElmEdit_REMOVE_ANNOTATION_getInstance() : null, !options.p(Options_EnableResultTypes_getInstance()) ? ElmEdit_REMOVE_RESULT_TYPE_getInstance() : null, !options.p(Options_EnableLocators_getInstance()) ? ElmEdit_REMOVE_LOCATOR_getInstance() : null]);
  (new ElmEditor(edits)).n94(ensureNotNull(this.v93_1));
  this.w93_1 = builder.compiledLibrary;
  this.y93_1 = visitor.h8v_1;
  var tmp0_safe_receiver = this.z93_1;
  if (tmp0_safe_receiver == null)
    null;
  else
    tmp0_safe_receiver.n(builder.exceptions);
  var tmp1_safe_receiver = this.a94_1;
  if (tmp1_safe_receiver == null)
    null;
  else
    tmp1_safe_receiver.n(builder.errors);
  var tmp2_safe_receiver = this.b94_1;
  if (tmp2_safe_receiver == null)
    null;
  else
    tmp2_safe_receiver.n(builder.warnings);
  var tmp3_safe_receiver = this.c94_1;
  if (tmp3_safe_receiver == null)
    null;
  else
    tmp3_safe_receiver.n(builder.messages);
  return ensureNotNull(this.v93_1);
};
var ErrorSeverity_Info_instance;
var ErrorSeverity_Warning_instance;
var ErrorSeverity_Error_instance;
function values() {
  return [ErrorSeverity_Info_getInstance(), ErrorSeverity_Warning_getInstance(), ErrorSeverity_Error_getInstance()];
}
function valueOf(value) {
  switch (value) {
    case 'Info':
      return ErrorSeverity_Info_getInstance();
    case 'Warning':
      return ErrorSeverity_Warning_getInstance();
    case 'Error':
      return ErrorSeverity_Error_getInstance();
    default:
      ErrorSeverity_initEntries();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var ErrorSeverity_entriesInitialized;
function ErrorSeverity_initEntries() {
  if (ErrorSeverity_entriesInitialized)
    return Unit_instance;
  ErrorSeverity_entriesInitialized = true;
  ErrorSeverity_Info_instance = new ErrorSeverity('Info', 0);
  ErrorSeverity_Warning_instance = new ErrorSeverity('Warning', 1);
  ErrorSeverity_Error_instance = new ErrorSeverity('Error', 2);
}
function ErrorSeverity(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function CqlCompilerException_init_$Init$(message, locator, $this) {
  CqlCompilerException.call($this, message, ErrorSeverity_Error_getInstance(), locator, null);
  return $this;
}
function CqlCompilerException_init_$Create$(message, locator) {
  var tmp = CqlCompilerException_init_$Init$(message, locator, objectCreate(protoOf(CqlCompilerException)));
  captureStack(tmp, CqlCompilerException_init_$Create$);
  return tmp;
}
function CqlCompilerException_init_$Init$_0(message, locator, cause, $this) {
  CqlCompilerException.call($this, message, ErrorSeverity_Error_getInstance(), locator, cause);
  return $this;
}
function CqlCompilerException_init_$Create$_0(message, locator, cause) {
  var tmp = CqlCompilerException_init_$Init$_0(message, locator, cause, objectCreate(protoOf(CqlCompilerException)));
  captureStack(tmp, CqlCompilerException_init_$Create$_0);
  return tmp;
}
function Companion_0() {
}
protoOf(Companion_0).hasErrors = function (exceptions) {
  var _iterator__ex2g4s = exceptions.g();
  while (_iterator__ex2g4s.h()) {
    var exception = _iterator__ex2g4s.i();
    if (exception.severity.equals(ErrorSeverity_Error_getInstance())) {
      return true;
    }
  }
  return false;
};
var Companion_instance_3;
function Companion_getInstance_3() {
  return Companion_instance_3;
}
function ErrorSeverity_Info_getInstance() {
  ErrorSeverity_initEntries();
  return ErrorSeverity_Info_instance;
}
function ErrorSeverity_Warning_getInstance() {
  ErrorSeverity_initEntries();
  return ErrorSeverity_Warning_instance;
}
function ErrorSeverity_Error_getInstance() {
  ErrorSeverity_initEntries();
  return ErrorSeverity_Error_instance;
}
function CqlCompilerException(message, severity, locator, cause) {
  severity = severity === VOID ? ErrorSeverity_Error_getInstance() : severity;
  locator = locator === VOID ? null : locator;
  cause = cause === VOID ? null : cause;
  RuntimeException_init_$Init$(message, cause, this);
  captureStack(this, CqlCompilerException);
  this.severity = severity;
  this.locator = locator;
}
protoOf(CqlCompilerException).q94 = function () {
  return this.severity;
};
protoOf(CqlCompilerException).r94 = function () {
  return this.locator;
};
var Options_EnableDateRangeOptimization_instance;
var Options_EnableAnnotations_instance;
var Options_EnableLocators_instance;
var Options_EnableResultTypes_instance;
var Options_EnableDetailedErrors_instance;
var Options_DisableListTraversal_instance;
var Options_DisableListDemotion_instance;
var Options_DisableListPromotion_instance;
var Options_EnableIntervalDemotion_instance;
var Options_EnableIntervalPromotion_instance;
var Options_DisableMethodInvocation_instance;
var Options_RequireFromKeyword_instance;
var Options_DisableDefaultModelInfoLoad_instance;
function values_0() {
  return [Options_EnableDateRangeOptimization_getInstance(), Options_EnableAnnotations_getInstance(), Options_EnableLocators_getInstance(), Options_EnableResultTypes_getInstance(), Options_EnableDetailedErrors_getInstance(), Options_DisableListTraversal_getInstance(), Options_DisableListDemotion_getInstance(), Options_DisableListPromotion_getInstance(), Options_EnableIntervalDemotion_getInstance(), Options_EnableIntervalPromotion_getInstance(), Options_DisableMethodInvocation_getInstance(), Options_RequireFromKeyword_getInstance(), Options_DisableDefaultModelInfoLoad_getInstance()];
}
function valueOf_0(value) {
  switch (value) {
    case 'EnableDateRangeOptimization':
      return Options_EnableDateRangeOptimization_getInstance();
    case 'EnableAnnotations':
      return Options_EnableAnnotations_getInstance();
    case 'EnableLocators':
      return Options_EnableLocators_getInstance();
    case 'EnableResultTypes':
      return Options_EnableResultTypes_getInstance();
    case 'EnableDetailedErrors':
      return Options_EnableDetailedErrors_getInstance();
    case 'DisableListTraversal':
      return Options_DisableListTraversal_getInstance();
    case 'DisableListDemotion':
      return Options_DisableListDemotion_getInstance();
    case 'DisableListPromotion':
      return Options_DisableListPromotion_getInstance();
    case 'EnableIntervalDemotion':
      return Options_EnableIntervalDemotion_getInstance();
    case 'EnableIntervalPromotion':
      return Options_EnableIntervalPromotion_getInstance();
    case 'DisableMethodInvocation':
      return Options_DisableMethodInvocation_getInstance();
    case 'RequireFromKeyword':
      return Options_RequireFromKeyword_getInstance();
    case 'DisableDefaultModelInfoLoad':
      return Options_DisableDefaultModelInfoLoad_getInstance();
    default:
      Options_initEntries();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var Options_entriesInitialized;
function Options_initEntries() {
  if (Options_entriesInitialized)
    return Unit_instance;
  Options_entriesInitialized = true;
  Options_EnableDateRangeOptimization_instance = new Options('EnableDateRangeOptimization', 0);
  Options_EnableAnnotations_instance = new Options('EnableAnnotations', 1);
  Options_EnableLocators_instance = new Options('EnableLocators', 2);
  Options_EnableResultTypes_instance = new Options('EnableResultTypes', 3);
  Options_EnableDetailedErrors_instance = new Options('EnableDetailedErrors', 4);
  Options_DisableListTraversal_instance = new Options('DisableListTraversal', 5);
  Options_DisableListDemotion_instance = new Options('DisableListDemotion', 6);
  Options_DisableListPromotion_instance = new Options('DisableListPromotion', 7);
  Options_EnableIntervalDemotion_instance = new Options('EnableIntervalDemotion', 8);
  Options_EnableIntervalPromotion_instance = new Options('EnableIntervalPromotion', 9);
  Options_DisableMethodInvocation_instance = new Options('DisableMethodInvocation', 10);
  Options_RequireFromKeyword_instance = new Options('RequireFromKeyword', 11);
  Options_DisableDefaultModelInfoLoad_instance = new Options('DisableDefaultModelInfoLoad', 12);
}
function CqlCompilerOptions$Companion$$childSerializers$_anonymous__o2748n() {
  return new LinkedHashSetSerializer(createSimpleEnumSerializer('org.cqframework.cql.cql2elm.CqlCompilerOptions.Options', values_0()));
}
function CqlCompilerOptions$Companion$$childSerializers$_anonymous__o2748n_0() {
  return createSimpleEnumSerializer('org.cqframework.cql.cql2elm.CqlCompilerException.ErrorSeverity', values());
}
function CqlCompilerOptions$Companion$$childSerializers$_anonymous__o2748n_1() {
  return createSimpleEnumSerializer('org.cqframework.cql.cql2elm.LibraryBuilder.SignatureLevel', values_3());
}
function Options(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function Companion_1() {
  Companion_instance_4 = this;
  var tmp = this;
  var tmp_0 = LazyThreadSafetyMode_PUBLICATION_getInstance();
  var tmp_1 = lazy(tmp_0, CqlCompilerOptions$Companion$$childSerializers$_anonymous__o2748n);
  var tmp_2 = LazyThreadSafetyMode_PUBLICATION_getInstance();
  var tmp_3 = lazy(tmp_2, CqlCompilerOptions$Companion$$childSerializers$_anonymous__o2748n_0);
  var tmp_4 = LazyThreadSafetyMode_PUBLICATION_getInstance();
  // Inline function 'kotlin.arrayOf' call
  // Inline function 'kotlin.js.unsafeCast' call
  // Inline function 'kotlin.js.asDynamic' call
  tmp.u94_1 = [tmp_1, null, null, null, null, tmp_3, lazy(tmp_4, CqlCompilerOptions$Companion$$childSerializers$_anonymous__o2748n_1), null, null];
}
protoOf(Companion_1).v94 = function () {
  var result = new CqlCompilerOptions();
  result.options.e(Options_EnableAnnotations_getInstance());
  result.options.e(Options_EnableLocators_getInstance());
  result.options.e(Options_DisableListDemotion_getInstance());
  result.options.e(Options_DisableListPromotion_getInstance());
  return result;
};
protoOf(Companion_1).m1e = function () {
  return $serializer_getInstance();
};
var Companion_instance_4;
function Companion_getInstance_4() {
  if (Companion_instance_4 == null)
    new Companion_1();
  return Companion_instance_4;
}
function $serializer() {
  $serializer_instance = this;
  var tmp0_serialDesc = new PluginGeneratedSerialDescriptor('org.cqframework.cql.cql2elm.CqlCompilerOptions', this, 9);
  tmp0_serialDesc.w11('options', true);
  tmp0_serialDesc.w11('validateUnits', true);
  tmp0_serialDesc.w11('verifyOnly', true);
  tmp0_serialDesc.w11('enableCqlOnly', true);
  tmp0_serialDesc.w11('compatibilityLevel', true);
  tmp0_serialDesc.w11('errorLevel', true);
  tmp0_serialDesc.w11('signatureLevel', true);
  tmp0_serialDesc.w11('analyzeDataRequirements', true);
  tmp0_serialDesc.w11('collapseDataRequirements', true);
  this.w94_1 = tmp0_serialDesc;
}
protoOf($serializer).x94 = function (encoder, value) {
  var tmp0_desc = this.w94_1;
  var tmp1_output = encoder.gu(tmp0_desc);
  var tmp2_cached = Companion_getInstance_4().u94_1;
  var tmp;
  if (tmp1_output.dw(tmp0_desc, 0)) {
    tmp = true;
  } else {
    // Inline function 'kotlin.collections.mutableSetOf' call
    var tmp$ret$0 = LinkedHashSet_init_$Create$();
    tmp = !equals(value.options, tmp$ret$0);
  }
  if (tmp) {
    tmp1_output.xv(tmp0_desc, 0, tmp2_cached[0].n2(), value.options);
  }
  if (tmp1_output.dw(tmp0_desc, 1) ? true : !(value.validateUnits === true)) {
    tmp1_output.nv(tmp0_desc, 1, value.validateUnits);
  }
  if (tmp1_output.dw(tmp0_desc, 2) ? true : !(value.verifyOnly === false)) {
    tmp1_output.nv(tmp0_desc, 2, value.verifyOnly);
  }
  if (tmp1_output.dw(tmp0_desc, 3) ? true : !(value.enableCqlOnly === false)) {
    tmp1_output.nv(tmp0_desc, 3, value.enableCqlOnly);
  }
  if (tmp1_output.dw(tmp0_desc, 4) ? true : !(value.compatibilityLevel === '1.5')) {
    tmp1_output.vv(tmp0_desc, 4, value.compatibilityLevel);
  }
  if (tmp1_output.dw(tmp0_desc, 5) ? true : !equals(value.errorLevel, ErrorSeverity_Info_getInstance())) {
    tmp1_output.zv(tmp0_desc, 5, tmp2_cached[5].n2(), value.errorLevel);
  }
  if (tmp1_output.dw(tmp0_desc, 6) ? true : !value.signatureLevel.equals(SignatureLevel_Overloads_getInstance())) {
    tmp1_output.xv(tmp0_desc, 6, tmp2_cached[6].n2(), value.signatureLevel);
  }
  if (tmp1_output.dw(tmp0_desc, 7) ? true : !(value.analyzeDataRequirements === false)) {
    tmp1_output.nv(tmp0_desc, 7, value.analyzeDataRequirements);
  }
  if (tmp1_output.dw(tmp0_desc, 8) ? true : !(value.collapseDataRequirements === false)) {
    tmp1_output.nv(tmp0_desc, 8, value.collapseDataRequirements);
  }
  tmp1_output.hu(tmp0_desc);
};
protoOf($serializer).gr = function (encoder, value) {
  return this.x94(encoder, value instanceof CqlCompilerOptions ? value : THROW_CCE());
};
protoOf($serializer).hr = function (decoder) {
  var tmp0_desc = this.w94_1;
  var tmp1_flag = true;
  var tmp2_index = 0;
  var tmp3_bitMask0 = 0;
  var tmp4_local0 = null;
  var tmp5_local1 = false;
  var tmp6_local2 = false;
  var tmp7_local3 = false;
  var tmp8_local4 = null;
  var tmp9_local5 = null;
  var tmp10_local6 = null;
  var tmp11_local7 = false;
  var tmp12_local8 = false;
  var tmp13_input = decoder.gu(tmp0_desc);
  var tmp14_cached = Companion_getInstance_4().u94_1;
  if (tmp13_input.wu()) {
    tmp4_local0 = tmp13_input.su(tmp0_desc, 0, tmp14_cached[0].n2(), tmp4_local0);
    tmp3_bitMask0 = tmp3_bitMask0 | 1;
    tmp5_local1 = tmp13_input.iu(tmp0_desc, 1);
    tmp3_bitMask0 = tmp3_bitMask0 | 2;
    tmp6_local2 = tmp13_input.iu(tmp0_desc, 2);
    tmp3_bitMask0 = tmp3_bitMask0 | 4;
    tmp7_local3 = tmp13_input.iu(tmp0_desc, 3);
    tmp3_bitMask0 = tmp3_bitMask0 | 8;
    tmp8_local4 = tmp13_input.qu(tmp0_desc, 4);
    tmp3_bitMask0 = tmp3_bitMask0 | 16;
    tmp9_local5 = tmp13_input.uu(tmp0_desc, 5, tmp14_cached[5].n2(), tmp9_local5);
    tmp3_bitMask0 = tmp3_bitMask0 | 32;
    tmp10_local6 = tmp13_input.su(tmp0_desc, 6, tmp14_cached[6].n2(), tmp10_local6);
    tmp3_bitMask0 = tmp3_bitMask0 | 64;
    tmp11_local7 = tmp13_input.iu(tmp0_desc, 7);
    tmp3_bitMask0 = tmp3_bitMask0 | 128;
    tmp12_local8 = tmp13_input.iu(tmp0_desc, 8);
    tmp3_bitMask0 = tmp3_bitMask0 | 256;
  } else
    while (tmp1_flag) {
      tmp2_index = tmp13_input.xu(tmp0_desc);
      switch (tmp2_index) {
        case -1:
          tmp1_flag = false;
          break;
        case 0:
          tmp4_local0 = tmp13_input.su(tmp0_desc, 0, tmp14_cached[0].n2(), tmp4_local0);
          tmp3_bitMask0 = tmp3_bitMask0 | 1;
          break;
        case 1:
          tmp5_local1 = tmp13_input.iu(tmp0_desc, 1);
          tmp3_bitMask0 = tmp3_bitMask0 | 2;
          break;
        case 2:
          tmp6_local2 = tmp13_input.iu(tmp0_desc, 2);
          tmp3_bitMask0 = tmp3_bitMask0 | 4;
          break;
        case 3:
          tmp7_local3 = tmp13_input.iu(tmp0_desc, 3);
          tmp3_bitMask0 = tmp3_bitMask0 | 8;
          break;
        case 4:
          tmp8_local4 = tmp13_input.qu(tmp0_desc, 4);
          tmp3_bitMask0 = tmp3_bitMask0 | 16;
          break;
        case 5:
          tmp9_local5 = tmp13_input.uu(tmp0_desc, 5, tmp14_cached[5].n2(), tmp9_local5);
          tmp3_bitMask0 = tmp3_bitMask0 | 32;
          break;
        case 6:
          tmp10_local6 = tmp13_input.su(tmp0_desc, 6, tmp14_cached[6].n2(), tmp10_local6);
          tmp3_bitMask0 = tmp3_bitMask0 | 64;
          break;
        case 7:
          tmp11_local7 = tmp13_input.iu(tmp0_desc, 7);
          tmp3_bitMask0 = tmp3_bitMask0 | 128;
          break;
        case 8:
          tmp12_local8 = tmp13_input.iu(tmp0_desc, 8);
          tmp3_bitMask0 = tmp3_bitMask0 | 256;
          break;
        default:
          throw UnknownFieldException_init_$Create$(tmp2_index);
      }
    }
  tmp13_input.hu(tmp0_desc);
  return CqlCompilerOptions_init_$Create$(tmp3_bitMask0, tmp4_local0, tmp5_local1, tmp6_local2, tmp7_local3, tmp8_local4, tmp9_local5, tmp10_local6, tmp11_local7, tmp12_local8, null);
};
protoOf($serializer).fr = function () {
  return this.w94_1;
};
protoOf($serializer).l12 = function () {
  var tmp0_cached = Companion_getInstance_4().u94_1;
  // Inline function 'kotlin.arrayOf' call
  // Inline function 'kotlin.js.unsafeCast' call
  // Inline function 'kotlin.js.asDynamic' call
  return [tmp0_cached[0].n2(), BooleanSerializer_getInstance(), BooleanSerializer_getInstance(), BooleanSerializer_getInstance(), StringSerializer_getInstance(), get_nullable(tmp0_cached[5].n2()), tmp0_cached[6].n2(), BooleanSerializer_getInstance(), BooleanSerializer_getInstance()];
};
var $serializer_instance;
function $serializer_getInstance() {
  if ($serializer_instance == null)
    new $serializer();
  return $serializer_instance;
}
function CqlCompilerOptions_init_$Init$(seen0, options, validateUnits, verifyOnly, enableCqlOnly, compatibilityLevel, errorLevel, signatureLevel, analyzeDataRequirements, collapseDataRequirements, serializationConstructorMarker, $this) {
  if (!(0 === (0 & seen0))) {
    throwMissingFieldException(seen0, 0, $serializer_getInstance().w94_1);
  }
  if (0 === (seen0 & 1)) {
    var tmp = $this;
    // Inline function 'kotlin.collections.mutableSetOf' call
    tmp.options = LinkedHashSet_init_$Create$();
  } else
    $this.options = options;
  if (0 === (seen0 & 2))
    $this.validateUnits = true;
  else
    $this.validateUnits = validateUnits;
  if (0 === (seen0 & 4))
    $this.verifyOnly = false;
  else
    $this.verifyOnly = verifyOnly;
  if (0 === (seen0 & 8))
    $this.enableCqlOnly = false;
  else
    $this.enableCqlOnly = enableCqlOnly;
  if (0 === (seen0 & 16))
    $this.compatibilityLevel = '1.5';
  else
    $this.compatibilityLevel = compatibilityLevel;
  if (0 === (seen0 & 32))
    $this.errorLevel = ErrorSeverity_Info_getInstance();
  else
    $this.errorLevel = errorLevel;
  if (0 === (seen0 & 64))
    $this.signatureLevel = SignatureLevel_Overloads_getInstance();
  else
    $this.signatureLevel = signatureLevel;
  if (0 === (seen0 & 128))
    $this.analyzeDataRequirements = false;
  else
    $this.analyzeDataRequirements = analyzeDataRequirements;
  if (0 === (seen0 & 256))
    $this.collapseDataRequirements = false;
  else
    $this.collapseDataRequirements = collapseDataRequirements;
  return $this;
}
function CqlCompilerOptions_init_$Create$(seen0, options, validateUnits, verifyOnly, enableCqlOnly, compatibilityLevel, errorLevel, signatureLevel, analyzeDataRequirements, collapseDataRequirements, serializationConstructorMarker) {
  return CqlCompilerOptions_init_$Init$(seen0, options, validateUnits, verifyOnly, enableCqlOnly, compatibilityLevel, errorLevel, signatureLevel, analyzeDataRequirements, collapseDataRequirements, serializationConstructorMarker, objectCreate(protoOf(CqlCompilerOptions)));
}
function defaultOptions() {
  return Companion_getInstance_4().v94();
}
function Options_EnableDateRangeOptimization_getInstance() {
  Options_initEntries();
  return Options_EnableDateRangeOptimization_instance;
}
function Options_EnableAnnotations_getInstance() {
  Options_initEntries();
  return Options_EnableAnnotations_instance;
}
function Options_EnableLocators_getInstance() {
  Options_initEntries();
  return Options_EnableLocators_instance;
}
function Options_EnableResultTypes_getInstance() {
  Options_initEntries();
  return Options_EnableResultTypes_instance;
}
function Options_EnableDetailedErrors_getInstance() {
  Options_initEntries();
  return Options_EnableDetailedErrors_instance;
}
function Options_DisableListTraversal_getInstance() {
  Options_initEntries();
  return Options_DisableListTraversal_instance;
}
function Options_DisableListDemotion_getInstance() {
  Options_initEntries();
  return Options_DisableListDemotion_instance;
}
function Options_DisableListPromotion_getInstance() {
  Options_initEntries();
  return Options_DisableListPromotion_instance;
}
function Options_EnableIntervalDemotion_getInstance() {
  Options_initEntries();
  return Options_EnableIntervalDemotion_instance;
}
function Options_EnableIntervalPromotion_getInstance() {
  Options_initEntries();
  return Options_EnableIntervalPromotion_instance;
}
function Options_DisableMethodInvocation_getInstance() {
  Options_initEntries();
  return Options_DisableMethodInvocation_instance;
}
function Options_RequireFromKeyword_getInstance() {
  Options_initEntries();
  return Options_RequireFromKeyword_instance;
}
function Options_DisableDefaultModelInfoLoad_getInstance() {
  Options_initEntries();
  return Options_DisableDefaultModelInfoLoad_instance;
}
function CqlCompilerOptions() {
  Companion_getInstance_4();
  var tmp = this;
  // Inline function 'kotlin.collections.mutableSetOf' call
  tmp.options = LinkedHashSet_init_$Create$();
  this.validateUnits = true;
  this.verifyOnly = false;
  this.enableCqlOnly = false;
  this.compatibilityLevel = '1.5';
  this.errorLevel = ErrorSeverity_Info_getInstance();
  this.signatureLevel = SignatureLevel_Overloads_getInstance();
  this.analyzeDataRequirements = false;
  this.collapseDataRequirements = false;
}
protoOf(CqlCompilerOptions).y94 = function () {
  return this.options;
};
protoOf(CqlCompilerOptions).z94 = function (_set____db54di) {
  this.validateUnits = _set____db54di;
};
protoOf(CqlCompilerOptions).a95 = function () {
  return this.validateUnits;
};
protoOf(CqlCompilerOptions).b95 = function (_set____db54di) {
  this.verifyOnly = _set____db54di;
};
protoOf(CqlCompilerOptions).c95 = function () {
  return this.verifyOnly;
};
protoOf(CqlCompilerOptions).d95 = function (_set____db54di) {
  this.enableCqlOnly = _set____db54di;
};
protoOf(CqlCompilerOptions).e95 = function () {
  return this.enableCqlOnly;
};
protoOf(CqlCompilerOptions).f95 = function (_set____db54di) {
  this.compatibilityLevel = _set____db54di;
};
protoOf(CqlCompilerOptions).g95 = function () {
  return this.compatibilityLevel;
};
protoOf(CqlCompilerOptions).h95 = function (_set____db54di) {
  this.errorLevel = _set____db54di;
};
protoOf(CqlCompilerOptions).i95 = function () {
  return this.errorLevel;
};
protoOf(CqlCompilerOptions).j95 = function (_set____db54di) {
  this.signatureLevel = _set____db54di;
};
protoOf(CqlCompilerOptions).k95 = function () {
  return this.signatureLevel;
};
protoOf(CqlCompilerOptions).l95 = function (_set____db54di) {
  this.analyzeDataRequirements = _set____db54di;
};
protoOf(CqlCompilerOptions).m95 = function () {
  return this.analyzeDataRequirements;
};
protoOf(CqlCompilerOptions).n95 = function (_set____db54di) {
  this.collapseDataRequirements = _set____db54di;
};
protoOf(CqlCompilerOptions).o95 = function () {
  return this.collapseDataRequirements;
};
protoOf(CqlCompilerOptions).setOptions = function (options) {
  var inductionVariable = 0;
  var last = options.length;
  while (inductionVariable < last) {
    var option = options[inductionVariable];
    inductionVariable = inductionVariable + 1 | 0;
    this.options.e(option);
  }
};
protoOf(CqlCompilerOptions).withOptions = function (options) {
  this.setOptions(options.slice());
  return this;
};
protoOf(CqlCompilerOptions).withCompatibilityLevel = function (compatibilityLevel) {
  this.compatibilityLevel = compatibilityLevel;
  return this;
};
protoOf(CqlCompilerOptions).withVerifyOnly = function (verifyOnly) {
  this.verifyOnly = verifyOnly;
  return this;
};
protoOf(CqlCompilerOptions).withValidateUnits = function (validateUnits) {
  this.validateUnits = validateUnits;
  return this;
};
protoOf(CqlCompilerOptions).withErrorLevel = function (errorLevel) {
  this.errorLevel = errorLevel;
  return this;
};
protoOf(CqlCompilerOptions).withSignatureLevel = function (signatureLevel) {
  this.signatureLevel = signatureLevel;
  return this;
};
protoOf(CqlCompilerOptions).withCollapseDataRequirements = function (collapseDataRequirements) {
  this.collapseDataRequirements = collapseDataRequirements;
  return this;
};
protoOf(CqlCompilerOptions).withAnalyzeDataRequirements = function (analyzeDataRequirements) {
  this.analyzeDataRequirements = analyzeDataRequirements;
  return this;
};
protoOf(CqlCompilerOptions).toString = function () {
  var translatorOptions = StringBuilder_init_$Create$();
  var _iterator__ex2g4s = this.options.g();
  while (_iterator__ex2g4s.h()) {
    var option = _iterator__ex2g4s.i();
    // Inline function 'kotlin.text.isNotEmpty' call
    if (charSequenceLength(translatorOptions) > 0) {
      translatorOptions.j9(',');
    }
    translatorOptions.j9(option.x2_1);
  }
  return translatorOptions.toString();
};
function CqlIncludeException_init_$Init$(message, librarySystem, libraryId, versionId, $this) {
  RuntimeException_init_$Init$_0(message, $this);
  CqlIncludeException.call($this);
  $this.p95_1 = librarySystem;
  $this.q95_1 = libraryId;
  $this.r95_1 = versionId;
  return $this;
}
function CqlIncludeException_init_$Create$(message, librarySystem, libraryId, versionId) {
  var tmp = CqlIncludeException_init_$Init$(message, librarySystem, libraryId, versionId, objectCreate(protoOf(CqlIncludeException)));
  captureStack(tmp, CqlIncludeException_init_$Create$);
  return tmp;
}
function CqlIncludeException() {
  captureStack(this, CqlIncludeException);
}
function CqlInternalException(message, locator, cause) {
  locator = locator === VOID ? null : locator;
  cause = cause === VOID ? null : cause;
  CqlCompilerException.call(this, message, ErrorSeverity_Error_getInstance(), locator, cause);
  captureStack(this, CqlInternalException);
}
function CqlSemanticException_init_$Init$(message, $this) {
  CqlCompilerException.call($this, message);
  CqlSemanticException.call($this);
  return $this;
}
function CqlSemanticException_init_$Create$(message) {
  var tmp = CqlSemanticException_init_$Init$(message, objectCreate(protoOf(CqlSemanticException)));
  captureStack(tmp, CqlSemanticException_init_$Create$);
  return tmp;
}
function CqlSemanticException_init_$Init$_0(message, severity, locator, $this) {
  CqlCompilerException.call($this, message, severity, locator);
  CqlSemanticException.call($this);
  return $this;
}
function CqlSemanticException_init_$Create$_0(message, severity, locator) {
  var tmp = CqlSemanticException_init_$Init$_0(message, severity, locator, objectCreate(protoOf(CqlSemanticException)));
  captureStack(tmp, CqlSemanticException_init_$Create$_0);
  return tmp;
}
function CqlSemanticException_init_$Init$_1(message, locator, cause, $this) {
  CqlCompilerException_init_$Init$_0(message, locator, cause, $this);
  CqlSemanticException.call($this);
  return $this;
}
function CqlSemanticException_init_$Create$_1(message, locator, cause) {
  var tmp = CqlSemanticException_init_$Init$_1(message, locator, cause, objectCreate(protoOf(CqlSemanticException)));
  captureStack(tmp, CqlSemanticException_init_$Create$_1);
  return tmp;
}
function CqlSemanticException_init_$Init$_2(message, severity, locator, cause, $this) {
  CqlCompilerException.call($this, message, severity, locator, cause);
  CqlSemanticException.call($this);
  return $this;
}
function CqlSemanticException_init_$Create$_2(message, severity, locator, cause) {
  var tmp = CqlSemanticException_init_$Init$_2(message, severity, locator, cause, objectCreate(protoOf(CqlSemanticException)));
  captureStack(tmp, CqlSemanticException_init_$Create$_2);
  return tmp;
}
function CqlSemanticException() {
  captureStack(this, CqlSemanticException);
}
function CqlSyntaxException(message, locator, cause) {
  CqlCompilerException_init_$Init$_0(message, locator, cause, this);
  captureStack(this, CqlSyntaxException);
}
var Format_XML_instance;
var Format_JSON_instance;
var Format_COFFEE_instance;
function values_1() {
  return [Format_XML_getInstance(), Format_JSON_getInstance(), Format_COFFEE_getInstance()];
}
function valueOf_1(value) {
  switch (value) {
    case 'XML':
      return Format_XML_getInstance();
    case 'JSON':
      return Format_JSON_getInstance();
    case 'COFFEE':
      return Format_COFFEE_getInstance();
    default:
      Format_initEntries();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var Format_entriesInitialized;
function Format_initEntries() {
  if (Format_entriesInitialized)
    return Unit_instance;
  Format_entriesInitialized = true;
  Format_XML_instance = new Format('XML', 0);
  Format_JSON_instance = new Format('JSON', 1);
  Format_COFFEE_instance = new Format('COFFEE', 2);
}
function getSourceInfo($this, cqlFileName) {
  return getSourceInfo_0($this, Path(cqlFileName));
}
function getSourceInfo_0($this, cqlFile) {
  var name = cqlFile.z2();
  var extensionIndex = lastIndexOf(name, _Char___init__impl__6a9atx(46));
  if (extensionIndex > 0) {
    name = substring_0(name, 0, extensionIndex);
  }
  var tmp;
  try {
    tmp = get_SystemFileSystem().sq(cqlFile).toString();
  } catch ($p) {
    var tmp_0;
    if ($p instanceof IOException) {
      var e = $p;
      tmp_0 = null;
    } else {
      throw $p;
    }
    tmp = tmp_0;
  }
  var system = tmp;
  return (new VersionedIdentifier()).a6i(name).e8i(system);
}
function Format(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function toXml($this, library, elmLibraryWriterProvider) {
  return Companion_instance_5.u95(library, elmLibraryWriterProvider);
}
function toJson($this, library, elmLibraryWriterProvider) {
  return Companion_instance_5.v95(library, elmLibraryWriterProvider);
}
function Companion_2() {
}
protoOf(Companion_2).w95 = function (cqlText, libraryManager) {
  return new CqlTranslator(null, null, CharStreams_getInstance().v22(cqlText), libraryManager);
};
protoOf(Companion_2).x95 = function (namespaceInfo, source, libraryManager) {
  return new CqlTranslator(namespaceInfo, null, CharStreams_getInstance().v22(readString(source)), libraryManager);
};
protoOf(Companion_2).y95 = function (source, libraryManager) {
  return new CqlTranslator(null, null, CharStreams_getInstance().v22(readString(source)), libraryManager);
};
protoOf(Companion_2).z95 = function (namespaceInfo, sourceInfo, source, libraryManager) {
  return new CqlTranslator(namespaceInfo, sourceInfo, CharStreams_getInstance().v22(readString(source)), libraryManager);
};
protoOf(Companion_2).a96 = function (cqlFileName, libraryManager) {
  var tmp0 = buffered(get_SystemFileSystem().oq(Path(cqlFileName)));
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      tmp$ret$1 = Companion_instance_5.z95(null, getSourceInfo(Companion_instance_5, cqlFileName), tmp0, libraryManager);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
  return tmp$ret$1;
};
protoOf(Companion_2).b96 = function (namespaceInfo, cqlFileName, libraryManager) {
  var tmp0 = buffered(get_SystemFileSystem().oq(Path(cqlFileName)));
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      tmp$ret$1 = Companion_instance_5.z95(namespaceInfo, getSourceInfo(Companion_instance_5, cqlFileName), tmp0, libraryManager);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
  return tmp$ret$1;
};
protoOf(Companion_2).c96 = function (cqlFile, libraryManager) {
  var tmp0 = buffered(get_SystemFileSystem().oq(cqlFile));
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      tmp$ret$1 = Companion_instance_5.z95(null, getSourceInfo_0(Companion_instance_5, cqlFile), tmp0, libraryManager);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
  return tmp$ret$1;
};
protoOf(Companion_2).d96 = function (namespaceInfo, cqlFile, libraryManager) {
  var tmp0 = buffered(get_SystemFileSystem().oq(cqlFile));
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      tmp$ret$1 = Companion_instance_5.z95(namespaceInfo, getSourceInfo_0(Companion_instance_5, cqlFile), tmp0, libraryManager);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
  return tmp$ret$1;
};
protoOf(Companion_2).e96 = function (namespaceInfo, sourceInfo, cqlFile, libraryManager) {
  var tmp0 = buffered(get_SystemFileSystem().oq(cqlFile));
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      tmp$ret$1 = Companion_instance_5.z95(namespaceInfo, sourceInfo, tmp0, libraryManager);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
  return tmp$ret$1;
};
protoOf(Companion_2).u95 = function (library, elmLibraryWriterProvider) {
  return elmLibraryWriterProvider.l8j(LibraryContentType_XML_getInstance().i96()).o8j(library);
};
protoOf(Companion_2).convertToXml$default = function (library, elmLibraryWriterProvider, $super) {
  elmLibraryWriterProvider = elmLibraryWriterProvider === VOID ? DefaultElmLibraryWriterProvider_instance : elmLibraryWriterProvider;
  return $super === VOID ? this.u95(library, elmLibraryWriterProvider) : $super.u95.call(this, library, elmLibraryWriterProvider);
};
protoOf(Companion_2).v95 = function (library, elmLibraryWriterProvider) {
  return elmLibraryWriterProvider.l8j(LibraryContentType_JSON_getInstance().i96()).o8j(library);
};
protoOf(Companion_2).convertToJson$default = function (library, elmLibraryWriterProvider, $super) {
  elmLibraryWriterProvider = elmLibraryWriterProvider === VOID ? DefaultElmLibraryWriterProvider_instance : elmLibraryWriterProvider;
  return $super === VOID ? this.v95(library, elmLibraryWriterProvider) : $super.v95.call(this, library, elmLibraryWriterProvider);
};
var Companion_instance_5;
function Companion_getInstance_5() {
  return Companion_instance_5;
}
function fromText(cqlText, libraryManager) {
  return Companion_instance_5.w95(cqlText, libraryManager);
}
function fromSource(namespaceInfo, sourceInfo, source, libraryManager) {
  return Companion_instance_5.z95(namespaceInfo, sourceInfo, source, libraryManager);
}
function fromFile(namespaceInfo, sourceInfo, cqlFile, libraryManager) {
  return Companion_instance_5.e96(namespaceInfo, sourceInfo, cqlFile, libraryManager);
}
function convertToXml(library, elmLibraryWriterProvider) {
  return Companion_instance_5.u95(library, elmLibraryWriterProvider);
}
function convertToXml_0(library, elmLibraryWriterProvider, $super) {
  elmLibraryWriterProvider = elmLibraryWriterProvider === VOID ? DefaultElmLibraryWriterProvider_instance : elmLibraryWriterProvider;
  return convertToXml(library, elmLibraryWriterProvider);
}
function convertToJson(library, elmLibraryWriterProvider) {
  return Companion_instance_5.v95(library, elmLibraryWriterProvider);
}
function convertToJson_0(library, elmLibraryWriterProvider, $super) {
  elmLibraryWriterProvider = elmLibraryWriterProvider === VOID ? DefaultElmLibraryWriterProvider_instance : elmLibraryWriterProvider;
  return convertToJson(library, elmLibraryWriterProvider);
}
function Format_XML_getInstance() {
  Format_initEntries();
  return Format_XML_instance;
}
function Format_JSON_getInstance() {
  Format_initEntries();
  return Format_JSON_instance;
}
function Format_COFFEE_getInstance() {
  Format_initEntries();
  return Format_COFFEE_instance;
}
function CqlTranslator(namespaceInfo, sourceInfo, is, libraryManager) {
  this.j96_1 = new CqlCompiler(namespaceInfo, sourceInfo, libraryManager);
  this.j96_1.j94(is);
}
protoOf(CqlTranslator).k96 = function (elmLibraryWriterProvider) {
  return toXml(this, ensureNotNull(this.j96_1.v93_1), elmLibraryWriterProvider);
};
protoOf(CqlTranslator).toXml = function (elmLibraryWriterProvider, $super) {
  elmLibraryWriterProvider = elmLibraryWriterProvider === VOID ? DefaultElmLibraryWriterProvider_instance : elmLibraryWriterProvider;
  return $super === VOID ? this.k96(elmLibraryWriterProvider) : $super.k96.call(this, elmLibraryWriterProvider);
};
protoOf(CqlTranslator).l96 = function (elmLibraryWriterProvider) {
  return toJson(this, ensureNotNull(this.j96_1.v93_1), elmLibraryWriterProvider);
};
protoOf(CqlTranslator).toJson = function (elmLibraryWriterProvider, $super) {
  elmLibraryWriterProvider = elmLibraryWriterProvider === VOID ? DefaultElmLibraryWriterProvider_instance : elmLibraryWriterProvider;
  return $super === VOID ? this.l96(elmLibraryWriterProvider) : $super.l96.call(this, elmLibraryWriterProvider);
};
protoOf(CqlTranslator).toELM = function () {
  return this.j96_1.v93_1;
};
protoOf(CqlTranslator).m96 = function () {
  return this.j96_1.w93_1;
};
protoOf(CqlTranslator).toObject = function () {
  return this.j96_1.f94();
};
protoOf(CqlTranslator).toRetrieves = function () {
  return this.j96_1.g94();
};
protoOf(CqlTranslator).h94 = function () {
  return this.j96_1.h94();
};
protoOf(CqlTranslator).n96 = function () {
  return this.j96_1.z93_1;
};
protoOf(CqlTranslator).o96 = function () {
  return this.j96_1.a94_1;
};
protoOf(CqlTranslator).p96 = function () {
  return this.j96_1.b94_1;
};
protoOf(CqlTranslator).q96 = function () {
  return this.j96_1.c94_1;
};
var Format_XML_instance_0;
var Format_JSON_instance_0;
var Format_COFFEE_instance_0;
function values_2() {
  return [Format_XML_getInstance_0(), Format_JSON_getInstance_0(), Format_COFFEE_getInstance_0()];
}
function valueOf_2(value) {
  switch (value) {
    case 'XML':
      return Format_XML_getInstance_0();
    case 'JSON':
      return Format_JSON_getInstance_0();
    case 'COFFEE':
      return Format_COFFEE_getInstance_0();
    default:
      Format_initEntries_0();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var Format_entriesInitialized_0;
function Format_initEntries_0() {
  if (Format_entriesInitialized_0)
    return Unit_instance;
  Format_entriesInitialized_0 = true;
  Format_XML_instance_0 = new Format_0('XML', 0);
  Format_JSON_instance_0 = new Format_0('JSON', 1);
  Format_COFFEE_instance_0 = new Format_0('COFFEE', 2);
}
function CqlTranslatorOptions$Companion$$childSerializers$_anonymous__rm62fw() {
  return new LinkedHashSetSerializer(createSimpleEnumSerializer('org.cqframework.cql.cql2elm.CqlTranslatorOptions.Format', values_2()));
}
function Format_0(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function Companion_3() {
  Companion_instance_6 = this;
  var tmp = this;
  var tmp_0 = LazyThreadSafetyMode_PUBLICATION_getInstance();
  // Inline function 'kotlin.arrayOf' call
  // Inline function 'kotlin.js.unsafeCast' call
  // Inline function 'kotlin.js.asDynamic' call
  tmp.t96_1 = [null, lazy(tmp_0, CqlTranslatorOptions$Companion$$childSerializers$_anonymous__rm62fw)];
}
protoOf(Companion_3).v94 = function () {
  return (new CqlTranslatorOptions()).withCqlCompilerOptions(Companion_getInstance_4().v94()).withFormats(setOf(Format_XML_getInstance_0()));
};
protoOf(Companion_3).u96 = function (path) {
  var tmp0 = buffered(get_SystemFileSystem().oq(path));
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      tmp$ret$1 = Companion_getInstance_6().v96(tmp0);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
  return tmp$ret$1;
};
protoOf(Companion_3).v96 = function (source) {
  return readTranslatorOptionsFromJson(source);
};
protoOf(Companion_3).m1e = function () {
  return $serializer_getInstance_0();
};
var Companion_instance_6;
function Companion_getInstance_6() {
  if (Companion_instance_6 == null)
    new Companion_3();
  return Companion_instance_6;
}
function $serializer_0() {
  $serializer_instance_0 = this;
  var tmp0_serialDesc = new PluginGeneratedSerialDescriptor('org.cqframework.cql.cql2elm.CqlTranslatorOptions', this, 2);
  tmp0_serialDesc.w11('cqlCompilerOptions', true);
  tmp0_serialDesc.w11('formats', true);
  this.w96_1 = tmp0_serialDesc;
}
protoOf($serializer_0).x96 = function (encoder, value) {
  var tmp0_desc = this.w96_1;
  var tmp1_output = encoder.gu(tmp0_desc);
  var tmp2_cached = Companion_getInstance_6().t96_1;
  if (tmp1_output.dw(tmp0_desc, 0) ? true : !(value.cqlCompilerOptions == null)) {
    tmp1_output.zv(tmp0_desc, 0, $serializer_getInstance(), value.cqlCompilerOptions);
  }
  if (tmp1_output.dw(tmp0_desc, 1) ? true : !(value.formats == null)) {
    tmp1_output.zv(tmp0_desc, 1, tmp2_cached[1].n2(), value.formats);
  }
  tmp1_output.hu(tmp0_desc);
};
protoOf($serializer_0).gr = function (encoder, value) {
  return this.x96(encoder, value instanceof CqlTranslatorOptions ? value : THROW_CCE());
};
protoOf($serializer_0).hr = function (decoder) {
  var tmp0_desc = this.w96_1;
  var tmp1_flag = true;
  var tmp2_index = 0;
  var tmp3_bitMask0 = 0;
  var tmp4_local0 = null;
  var tmp5_local1 = null;
  var tmp6_input = decoder.gu(tmp0_desc);
  var tmp7_cached = Companion_getInstance_6().t96_1;
  if (tmp6_input.wu()) {
    tmp4_local0 = tmp6_input.uu(tmp0_desc, 0, $serializer_getInstance(), tmp4_local0);
    tmp3_bitMask0 = tmp3_bitMask0 | 1;
    tmp5_local1 = tmp6_input.uu(tmp0_desc, 1, tmp7_cached[1].n2(), tmp5_local1);
    tmp3_bitMask0 = tmp3_bitMask0 | 2;
  } else
    while (tmp1_flag) {
      tmp2_index = tmp6_input.xu(tmp0_desc);
      switch (tmp2_index) {
        case -1:
          tmp1_flag = false;
          break;
        case 0:
          tmp4_local0 = tmp6_input.uu(tmp0_desc, 0, $serializer_getInstance(), tmp4_local0);
          tmp3_bitMask0 = tmp3_bitMask0 | 1;
          break;
        case 1:
          tmp5_local1 = tmp6_input.uu(tmp0_desc, 1, tmp7_cached[1].n2(), tmp5_local1);
          tmp3_bitMask0 = tmp3_bitMask0 | 2;
          break;
        default:
          throw UnknownFieldException_init_$Create$(tmp2_index);
      }
    }
  tmp6_input.hu(tmp0_desc);
  return CqlTranslatorOptions_init_$Create$(tmp3_bitMask0, tmp4_local0, tmp5_local1, null);
};
protoOf($serializer_0).fr = function () {
  return this.w96_1;
};
protoOf($serializer_0).l12 = function () {
  var tmp0_cached = Companion_getInstance_6().t96_1;
  // Inline function 'kotlin.arrayOf' call
  // Inline function 'kotlin.js.unsafeCast' call
  // Inline function 'kotlin.js.asDynamic' call
  return [get_nullable($serializer_getInstance()), get_nullable(tmp0_cached[1].n2())];
};
var $serializer_instance_0;
function $serializer_getInstance_0() {
  if ($serializer_instance_0 == null)
    new $serializer_0();
  return $serializer_instance_0;
}
function CqlTranslatorOptions_init_$Init$(seen0, cqlCompilerOptions, formats, serializationConstructorMarker, $this) {
  if (!(0 === (0 & seen0))) {
    throwMissingFieldException(seen0, 0, $serializer_getInstance_0().w96_1);
  }
  if (0 === (seen0 & 1))
    $this.cqlCompilerOptions = null;
  else
    $this.cqlCompilerOptions = cqlCompilerOptions;
  if (0 === (seen0 & 2))
    $this.formats = null;
  else
    $this.formats = formats;
  return $this;
}
function CqlTranslatorOptions_init_$Create$(seen0, cqlCompilerOptions, formats, serializationConstructorMarker) {
  return CqlTranslatorOptions_init_$Init$(seen0, cqlCompilerOptions, formats, serializationConstructorMarker, objectCreate(protoOf(CqlTranslatorOptions)));
}
function defaultOptions_0() {
  return Companion_getInstance_6().v94();
}
function fromFile_0(path) {
  return Companion_getInstance_6().u96(path);
}
function fromSource_0(source) {
  return Companion_getInstance_6().v96(source);
}
function Format_XML_getInstance_0() {
  Format_initEntries_0();
  return Format_XML_instance_0;
}
function Format_JSON_getInstance_0() {
  Format_initEntries_0();
  return Format_JSON_instance_0;
}
function Format_COFFEE_getInstance_0() {
  Format_initEntries_0();
  return Format_COFFEE_instance_0;
}
function CqlTranslatorOptions() {
  Companion_getInstance_6();
  this.cqlCompilerOptions = null;
  this.formats = null;
}
protoOf(CqlTranslatorOptions).y96 = function (_set____db54di) {
  this.cqlCompilerOptions = _set____db54di;
};
protoOf(CqlTranslatorOptions).z96 = function () {
  return this.cqlCompilerOptions;
};
protoOf(CqlTranslatorOptions).a97 = function (_set____db54di) {
  this.formats = _set____db54di;
};
protoOf(CqlTranslatorOptions).b97 = function () {
  return this.formats;
};
protoOf(CqlTranslatorOptions).withCqlCompilerOptions = function (cqlCompilerOptions) {
  this.cqlCompilerOptions = cqlCompilerOptions;
  return this;
};
protoOf(CqlTranslatorOptions).withFormats = function (formats) {
  this.formats = formats;
  return this;
};
protoOf(CqlTranslatorOptions).toSink = function (sink) {
  writeTranslatorOptionsToJson(this, sink);
};
protoOf(CqlTranslatorOptions).toFile = function (path) {
  var tmp0 = buffered_0(get_SystemFileSystem().qq(path));
  $l$block: {
    // Inline function 'kotlin.use' call
    var exception = null;
    try {
      this.toSink(tmp0);
      break $l$block;
    } catch ($p) {
      if ($p instanceof Error) {
        var e = $p;
        exception = e;
        throw e;
      } else {
        throw $p;
      }
    }
    finally {
      closeFinally(tmp0, exception);
    }
  }
};
function get_cqlTranslatorOptionsJson() {
  _init_properties_CqlTranslatorOptionsMapper_kt__z0xhh5();
  return cqlTranslatorOptionsJson;
}
var cqlTranslatorOptionsJson;
function readTranslatorOptionsFromJson(source) {
  _init_properties_CqlTranslatorOptionsMapper_kt__z0xhh5();
  var string = readString(source);
  // Inline function 'kotlinx.serialization.json.Json.decodeFromString' call
  var this_0 = get_cqlTranslatorOptionsJson();
  // Inline function 'kotlinx.serialization.serializer' call
  var this_1 = this_0.vu();
  // Inline function 'kotlinx.serialization.internal.cast' call
  var this_2 = serializer(this_1, createKType(getKClass(CqlCompilerOptions), arrayOf([]), false));
  var tmp$ret$1 = isInterface(this_2, KSerializer) ? this_2 : THROW_CCE();
  var compilerOptions = this_0.e1c(tmp$ret$1, string);
  // Inline function 'kotlinx.serialization.json.Json.decodeFromString' call
  var this_3 = get_cqlTranslatorOptionsJson();
  // Inline function 'kotlinx.serialization.serializer' call
  var this_4 = this_3.vu();
  // Inline function 'kotlinx.serialization.internal.cast' call
  var this_5 = serializer(this_4, createKType(getKClass(CqlTranslatorOptions), arrayOf([]), false));
  var tmp$ret$4 = isInterface(this_5, KSerializer) ? this_5 : THROW_CCE();
  var translatorOptions = this_3.e1c(tmp$ret$4, string);
  return translatorOptions.withCqlCompilerOptions(compilerOptions);
}
function writeTranslatorOptionsToJson(options, sink) {
  _init_properties_CqlTranslatorOptionsMapper_kt__z0xhh5();
  var jsonElement = get_cqlTranslatorOptionsJson().f1c(Companion_getInstance_6().m1e(), options);
  // Inline function 'kotlin.require' call
  // Inline function 'kotlin.require' call
  if (!(jsonElement instanceof JsonObject)) {
    var message = 'Failed requirement.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.collections.flatMap' call
  var tmp0 = jsonElement.t2();
  // Inline function 'kotlin.collections.flatMapTo' call
  var destination = ArrayList_init_$Create$();
  var _iterator__ex2g4s = tmp0.g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    // Inline function 'kotlin.collections.component1' call
    var key = element.m2();
    // Inline function 'kotlin.collections.component2' call
    var value = element.n2();
    var tmp;
    if (key === 'cqlCompilerOptions') {
      // Inline function 'kotlin.require' call
      // Inline function 'kotlin.require' call
      if (!(value instanceof JsonObject)) {
        var message_0 = 'Failed requirement.';
        throw IllegalArgumentException_init_$Create$(toString(message_0));
      }
      // Inline function 'kotlin.collections.map' call
      var this_0 = value.t2();
      // Inline function 'kotlin.collections.mapTo' call
      var destination_0 = ArrayList_init_$Create$_0(collectionSizeOrDefault(this_0, 10));
      var _iterator__ex2g4s_0 = this_0.g();
      while (_iterator__ex2g4s_0.h()) {
        var item = _iterator__ex2g4s_0.i();
        var tmp$ret$8 = to(item.m2(), item.n2());
        destination_0.e(tmp$ret$8);
      }
      tmp = destination_0;
    } else {
      tmp = listOf_0(to(key, value));
    }
    var list = tmp;
    addAll(destination, list);
  }
  // Inline function 'kotlin.collections.associate' call
  var capacity = coerceAtLeast(mapCapacity(collectionSizeOrDefault(destination, 10)), 16);
  // Inline function 'kotlin.collections.associateTo' call
  var destination_1 = LinkedHashMap_init_$Create$(capacity);
  var _iterator__ex2g4s_1 = destination.g();
  while (_iterator__ex2g4s_1.h()) {
    var element_0 = _iterator__ex2g4s_1.i();
    // Inline function 'kotlin.collections.plusAssign' call
    destination_1.u2(element_0.rg_1, element_0.sg_1);
  }
  var unwrapped = destination_1;
  var tmp0_0 = get_cqlTranslatorOptionsJson();
  // Inline function 'kotlinx.serialization.json.io.encodeToSink' call
  var value_0 = new JsonObject(unwrapped);
  // Inline function 'kotlinx.serialization.serializer' call
  var this_1 = tmp0_0.vu();
  // Inline function 'kotlinx.serialization.internal.cast' call
  var this_2 = serializer(this_1, createKType(getKClass(JsonObject), arrayOf([]), false));
  var tmp$ret$19 = isInterface(this_2, KSerializer) ? this_2 : THROW_CCE();
  encodeToSink(tmp0_0, tmp$ret$19, value_0, sink);
}
function cqlTranslatorOptionsJson$lambda($this$Json) {
  _init_properties_CqlTranslatorOptionsMapper_kt__z0xhh5();
  $this$Json.v1c_1 = false;
  $this$Json.w1c_1 = true;
  return Unit_instance;
}
var properties_initialized_CqlTranslatorOptionsMapper_kt_k3darb;
function _init_properties_CqlTranslatorOptionsMapper_kt__z0xhh5() {
  if (!properties_initialized_CqlTranslatorOptionsMapper_kt_k3darb) {
    properties_initialized_CqlTranslatorOptionsMapper_kt_k3darb = true;
    cqlTranslatorOptionsJson = Json(VOID, cqlTranslatorOptionsJson$lambda);
  }
}
function compatibleWith($this, a, b) {
  return !(a == null) && !(b == null) && a.z5z(b);
}
function superTypeOf($this, a, b) {
  return !(a == null) && !(b == null) && a.y5z(b);
}
function DataTypes() {
}
protoOf(DataTypes).n91 = function (actualType, expectedType) {
  // Inline function 'kotlin.require' call
  if (!this.u8z(actualType, expectedType)) {
    var tmp1_elvis_lhs = expectedType == null ? null : expectedType.w5z();
    var tmp = "Expected an expression of type '" + (tmp1_elvis_lhs == null ? '<unknown>' : tmp1_elvis_lhs) + "',";
    var tmp3_elvis_lhs = actualType == null ? null : actualType.w5z();
    var message = tmp + ("but found an expression of type '" + (tmp3_elvis_lhs == null ? '<unknown>' : tmp3_elvis_lhs) + "'.");
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
};
protoOf(DataTypes).g91 = function (targetType, sourceType) {
  // Inline function 'kotlin.require' call
  if (!(this.u8z(targetType, sourceType) || superTypeOf(this, targetType, sourceType) || compatibleWith(this, sourceType, targetType))) {
    var tmp1_elvis_lhs = sourceType == null ? null : sourceType.w5z();
    var tmp = "Expression of type '" + (tmp1_elvis_lhs == null ? '<unknown>' : tmp1_elvis_lhs) + "'";
    var tmp3_elvis_lhs = targetType == null ? null : targetType.w5z();
    var message = tmp + (" cannot be cast as a value of type '" + (tmp3_elvis_lhs == null ? '<unknown>' : tmp3_elvis_lhs) + "'.");
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
};
protoOf(DataTypes).q8z = function (a, b) {
  return !(a == null) && !(b == null) && equals(a, b);
};
protoOf(DataTypes).u8z = function (a, b) {
  return !(a == null) && !(b == null) && a.x5z(b);
};
var DataTypes_instance;
function DataTypes_getInstance() {
  return DataTypes_instance;
}
function IdentifierContext(identifierRef, trackableSubclass) {
  this.c97_1 = identifierRef;
  this.d97_1 = trackableSubclass;
}
protoOf(IdentifierContext).e97 = function () {
  return ensureNotNull(this.c97_1.f70_1);
};
protoOf(IdentifierContext).equals = function (other) {
  if (this === other) {
    return true;
  }
  if (other == null || !getKClassFromExpression(this).equals(getKClassFromExpression(other))) {
    return false;
  }
  var that = other instanceof IdentifierContext ? other : THROW_CCE();
  return this.e97() === that.e97() && equals(this.d97_1, that.d97_1);
};
protoOf(IdentifierContext).hashCode = function () {
  var tmp = imul(getStringHashCode(this.e97()), 31);
  // Inline function 'kotlin.hashCode' call
  var tmp0_safe_receiver = this.d97_1;
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : hashCode(tmp0_safe_receiver);
  return tmp + (tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs) | 0;
};
protoOf(IdentifierContext).toString = function () {
  return joinToString(listOf(["identifier='" + this.e97() + "'", 'elementSubclass=' + toString_0(this.d97_1)]), ', ', plus(getKClass(IdentifierContext).lb(), '['), ']');
};
var SignatureLevel_None_instance;
var SignatureLevel_Differing_instance;
var SignatureLevel_Overloads_instance;
var SignatureLevel_All_instance;
function values_3() {
  return [SignatureLevel_None_getInstance(), SignatureLevel_Differing_getInstance(), SignatureLevel_Overloads_getInstance(), SignatureLevel_All_getInstance()];
}
function valueOf_3(value) {
  switch (value) {
    case 'None':
      return SignatureLevel_None_getInstance();
    case 'Differing':
      return SignatureLevel_Differing_getInstance();
    case 'Overloads':
      return SignatureLevel_Overloads_getInstance();
    case 'All':
      return SignatureLevel_All_getInstance();
    default:
      SignatureLevel_initEntries();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var SignatureLevel_entriesInitialized;
function SignatureLevel_initEntries() {
  if (SignatureLevel_entriesInitialized)
    return Unit_instance;
  SignatureLevel_entriesInitialized = true;
  SignatureLevel_None_instance = new SignatureLevel('None', 0);
  SignatureLevel_Differing_instance = new SignatureLevel('Differing', 1);
  SignatureLevel_Overloads_instance = new SignatureLevel('Overloads', 2);
  SignatureLevel_All_instance = new SignatureLevel('All', 3);
}
var IdentifierScope_GLOBAL_instance;
var IdentifierScope_LOCAL_instance;
function values_4() {
  return [IdentifierScope_GLOBAL_getInstance(), IdentifierScope_LOCAL_getInstance()];
}
function valueOf_4(value) {
  switch (value) {
    case 'GLOBAL':
      return IdentifierScope_GLOBAL_getInstance();
    case 'LOCAL':
      return IdentifierScope_LOCAL_getInstance();
    default:
      IdentifierScope_initEntries();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var IdentifierScope_entriesInitialized;
function IdentifierScope_initEntries() {
  if (IdentifierScope_entriesInitialized)
    return Unit_instance;
  IdentifierScope_entriesInitialized = true;
  IdentifierScope_GLOBAL_instance = new IdentifierScope('GLOBAL', 0);
  IdentifierScope_LOCAL_instance = new IdentifierScope('LOCAL', 1);
}
function lookupElementWarning($this, element) {
  var tmp;
  if (element instanceof ExpressionDef) {
    tmp = 'An expression';
  } else {
    if (element instanceof ParameterDef) {
      tmp = 'A parameter';
    } else {
      if (element instanceof ValueSetDef) {
        tmp = 'A valueset';
      } else {
        if (element instanceof CodeSystemDef) {
          tmp = 'A codesystem';
        } else {
          if (element instanceof CodeDef) {
            tmp = 'A code';
          } else {
            if (element instanceof ConceptDef) {
              tmp = 'A concept';
            } else {
              if (element instanceof IncludeDef) {
                tmp = 'An include';
              } else {
                if (element instanceof AliasedQuerySource) {
                  tmp = 'An alias';
                } else {
                  if (element instanceof LetClause) {
                    tmp = 'A let';
                  } else {
                    if (element instanceof OperandDef) {
                      tmp = 'An operand';
                    } else {
                      if (element instanceof UsingDef) {
                        tmp = 'A using';
                      } else {
                        if (element instanceof Literal) {
                          tmp = 'A literal';
                        } else {
                          tmp = 'An [unknown structure]';
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return tmp;
}
function SignatureLevel(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function _set_defaultModel__6o4wsx($this, model) {
  var tmp;
  if ($this.b8w_1 == null) {
    var tmp1_safe_receiver = model == null ? null : model.q90_1;
    tmp = !((tmp1_safe_receiver == null ? null : tmp1_safe_receiver.j5x_1) === 'System');
  } else {
    tmp = false;
  }
  if (tmp) {
    $this.b8w_1 = model;
  }
}
function setCompilerOptions($this, options) {
  if (options.options.p(Options_DisableListTraversal_getInstance())) {
    $this.d8w_1 = false;
  }
  if (options.options.p(Options_DisableListDemotion_getInstance())) {
    $this.conversionMap.s8w_1 = false;
  }
  if (options.options.p(Options_DisableListPromotion_getInstance())) {
    $this.conversionMap.t8w_1 = false;
  }
  if (options.options.p(Options_EnableIntervalDemotion_getInstance())) {
    $this.conversionMap.u8w_1 = true;
  }
  if (options.options.p(Options_EnableIntervalPromotion_getInstance())) {
    $this.conversionMap.v8w_1 = true;
  }
  $this.h97(options.compatibilityLevel);
  $this.f8w_1.d65_1 = options.toString();
  $this.f8w_1.e65_1 = options.signatureLevel.x2_1;
}
function loadModel($this, modelIdentifier) {
  var model = $this.a8w_1.l97(modelIdentifier);
  loadConversionMap($this, model);
  return model;
}
function loadConversionMap($this, model) {
  var _iterator__ex2g4s = ensureNotNull(model).m97().g();
  while (_iterator__ex2g4s.h()) {
    var conversion = _iterator__ex2g4s.i();
    $this.conversionMap.n97(conversion);
  }
}
function buildUsingDef($this, modelIdentifier, model, localIdentifier) {
  var usingDef = $this.objectFactory.o7o().j72(localIdentifier).d6j(modelIdentifier.w62_1).z8g(ensureNotNull(model).q90_1.l5x_1);
  addUsing($this, usingDef);
  return usingDef;
}
function addUsing($this, usingDef) {
  if ($this.library.q79_1 == null) {
    $this.library.q79_1 = $this.objectFactory.c7p();
  }
  ensureNotNull($this.library.q79_1).a79().e(usingDef);
  $this.compiledLibrary.o97(usingDef);
}
function resolveLabel($this, modelName, label) {
  var result = null;
  switch (modelName) {
    case null:
    case '':
      var _iterator__ex2g4s = $this.p8v_1.s2().g();
      while (_iterator__ex2g4s.h()) {
        var model = _iterator__ex2g4s.i();
        var modelResult = ensureNotNull(model).p97(label);
        if (!(modelResult == null)) {
          // Inline function 'kotlin.require' call
          if (!(result == null)) {
            var message = 'Label ' + label + ' is ambiguous between ' + (result instanceof ClassType ? result : THROW_CCE()).n60_1 + ' and ' + modelResult.n60_1 + '.';
            throw IllegalArgumentException_init_$Create$(toString(message));
          }
          result = modelResult;
        }
      }

      break;
    default:
      result = $this.x90(modelName).p97(label);
      break;
  }
  return result;
}
function isFHIRHelpers($this, library) {
  return !(library == null) && !(library.j8z_1 == null) && !(ensureNotNull(library.j8z_1).b8i_1 == null) && ensureNotNull(library.j8z_1).b8i_1 === 'FHIRHelpers';
}
function getModel($this, usingDef) {
  return $this.q97(new ModelIdentifier(ensureNotNull(Companion_instance_1.getNamePart(usingDef.x8g_1)), Companion_instance_1.getUriPart(usingDef.x8g_1), usingDef.y8g_1), ensureNotNull(usingDef.w8g_1));
}
function loadSystemLibrary($this) {
  var systemLibrary = SystemLibraryHelper_instance.r97($this.systemModel, $this.g8w_1);
  var tmp0 = $this.r8v_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(ensureNotNull(systemLibrary.j8z_1).b8i_1);
  tmp0.u2(key, systemLibrary);
  loadConversionMap_0($this, systemLibrary);
}
function loadConversionMap_0($this, library) {
  var _iterator__ex2g4s = library.m97().g();
  while (_iterator__ex2g4s.h()) {
    var conversion = _iterator__ex2g4s.i();
    $this.conversionMap.n97(conversion);
  }
}
function _get_systemLibrary__2e3lff($this) {
  return $this.resolveLibrary('System');
}
function toErrorSeverity($this, severity) {
  var tmp;
  switch (severity.y2_1) {
    case 0:
      tmp = ErrorSeverity_INFO_getInstance();
      break;
    case 1:
      tmp = ErrorSeverity_WARNING_getInstance();
      break;
    case 2:
      tmp = ErrorSeverity_ERROR_getInstance();
      break;
    default:
      noWhenBranchMatchedException();
      break;
  }
  return tmp;
}
function addException($this, e) {
  $this.exceptions.e(e);
  switch (e.severity.y2_1) {
    case 2:
      $this.errors.e(e);
      break;
    case 1:
      $this.warnings.e(e);
      break;
    case 0:
      $this.messages.e(e);
      break;
    default:
      noWhenBranchMatchedException();
      break;
  }
}
function shouldReport($this, errorSeverity) {
  var tmp0_subject = $this.e8w_1.errorLevel;
  var tmp;
  switch (tmp0_subject == null ? -1 : tmp0_subject.y2_1) {
    case 0:
      tmp = errorSeverity.equals(ErrorSeverity_Info_getInstance()) || errorSeverity.equals(ErrorSeverity_Warning_getInstance()) || errorSeverity.equals(ErrorSeverity_Error_getInstance());
      break;
    case 1:
      tmp = errorSeverity.equals(ErrorSeverity_Warning_getInstance()) || errorSeverity.equals(ErrorSeverity_Error_getInstance());
      break;
    case 2:
      tmp = errorSeverity.equals(ErrorSeverity_Error_getInstance());
      break;
    default:
      throw IllegalArgumentException_init_$Create$('Unknown error severity ' + errorSeverity.toString());
  }
  return tmp;
}
function resolveIncludeAlias($this, libraryIdentifier) {
  return $this.compiledLibrary.s97(libraryIdentifier);
}
function BinaryWrapper($outer, left, right) {
  this.v97_1 = $outer;
  this.t97_1 = left;
  this.u97_1 = right;
}
function normalizeListTypes($this, left, right) {
  var left_0 = left;
  var right_0 = right;
  var tmp;
  var tmp_0 = Trackable_getInstance().n8v(left_0);
  if (tmp_0 instanceof ListType) {
    var tmp_1 = Trackable_getInstance().n8v(right_0);
    tmp = tmp_1 instanceof ListType;
  } else {
    tmp = false;
  }
  if (tmp) {
    var tmp_2 = Trackable_getInstance().n8v(left_0);
    var leftListType = tmp_2 instanceof ListType ? tmp_2 : THROW_CCE();
    var tmp_3 = Trackable_getInstance().n8v(right_0);
    var rightListType = tmp_3 instanceof ListType ? tmp_3 : THROW_CCE();
    if (!(leftListType.y5z(rightListType) || rightListType.y5z(leftListType)) && !(leftListType.z5z(rightListType) || rightListType.z5z(leftListType))) {
      var elementTypes = HashSet_init_$Create$();
      var tmp_4 = leftListType.d61_1;
      if (tmp_4 instanceof ChoiceType) {
        var tmp_5 = leftListType.d61_1;
        var _iterator__ex2g4s = (tmp_5 instanceof ChoiceType ? tmp_5 : THROW_CCE()).b60_1.g();
        while (_iterator__ex2g4s.h()) {
          var choice = _iterator__ex2g4s.i();
          elementTypes.e(choice);
        }
      } else {
        elementTypes.e(leftListType.d61_1);
      }
      var tmp_6 = rightListType.d61_1;
      if (tmp_6 instanceof ChoiceType) {
        var tmp_7 = rightListType.d61_1;
        var _iterator__ex2g4s_0 = (tmp_7 instanceof ChoiceType ? tmp_7 : THROW_CCE()).b60_1.g();
        while (_iterator__ex2g4s_0.h()) {
          var choice_0 = _iterator__ex2g4s_0.i();
          elementTypes.e(choice_0);
        }
      } else {
        elementTypes.e(rightListType.d61_1);
      }
      if (elementTypes.j() > 1) {
        var targetType = new ListType(ChoiceType_init_$Create$(elementTypes));
        left_0 = $this.objectFactory.j7j().a6c(left_0).z6b($this.dataTypeToTypeSpecifier(targetType));
        Trackable_getInstance().o8v(left_0, targetType);
        right_0 = $this.objectFactory.j7j().a6c(right_0).z6b($this.dataTypeToTypeSpecifier(targetType));
        Trackable_getInstance().o8v(right_0, targetType);
      }
    }
  }
  return new BinaryWrapper($this, left_0, right_0);
}
function resolveInInvocation($this, left, right, dateTimePrecision) {
  var inExpression = $this.objectFactory.e7n().f67(listOf([left, right])).e6e(dateTimePrecision);
  return $this.resolveBinaryInvocation('System', 'In', inExpression);
}
function resolveProperInInvocation($this, left, right, dateTimePrecision) {
  var properIn = $this.objectFactory.u7h().f67(listOf([left, right])).e6e(dateTimePrecision);
  return $this.resolveBinaryInvocation('System', 'ProperIn', properIn);
}
function resolveContainsInvocation($this, left, right, dateTimePrecision) {
  var contains = $this.objectFactory.q7i().f67(listOf([left, right])).e6e(dateTimePrecision);
  return $this.resolveBinaryInvocation('System', 'Contains', contains);
}
function resolveProperContainsInvocation($this, left, right, dateTimePrecision) {
  var properContains = $this.objectFactory.m7k().f67(listOf([left, right])).e6e(dateTimePrecision);
  return $this.resolveBinaryInvocation('System', 'ProperContains', properContains);
}
function getTypeScore($this, resolution) {
  var typeScore = ConversionScore_ExactMatch_getInstance().y97_1;
  var _iterator__ex2g4s = ensureNotNull(resolution).t92_1.y8w_1.h8z_1.g();
  while (_iterator__ex2g4s.h()) {
    var operand = _iterator__ex2g4s.i();
    typeScore = typeScore + Companion_instance_12.z97(operand) | 0;
  }
  return typeScore;
}
function lowestScoringInvocation($this, primary, secondary) {
  if (!(primary == null)) {
    if (!(secondary == null)) {
      if (ensureNotNull(secondary.s92()).v92_1 < ensureNotNull(primary.s92()).v92_1) {
        return secondary.l5w();
      } else if (ensureNotNull(primary.s92()).v92_1 < ensureNotNull(secondary.s92()).v92_1) {
        return primary.l5w();
      }
      if (ensureNotNull(primary.s92()).v92_1 === ensureNotNull(secondary.s92()).v92_1) {
        var primaryTypeScore = getTypeScore($this, primary.s92());
        var secondaryTypeScore = getTypeScore($this, secondary.s92());
        var tmp;
        if (secondaryTypeScore < primaryTypeScore) {
          tmp = secondary.l5w();
        } else if (primaryTypeScore < secondaryTypeScore) {
          tmp = primary.l5w();
        } else {
          var message = (new StringBuilder('Call to operator ')).j9(ensureNotNull(primary.s92()).t92_1.x8w_1).j9('/').j9(ensureNotNull(secondary.s92()).t92_1.x8w_1).j9(' is ambiguous with: ').j9('\n  - ').j9(ensureNotNull(primary.s92()).t92_1.x8w_1).i9(ensureNotNull(primary.s92()).t92_1.y8w_1).j9('\n  - ').j9(ensureNotNull(secondary.s92()).t92_1.x8w_1).i9(ensureNotNull(secondary.s92()).t92_1.y8w_1);
          throw IllegalArgumentException_init_$Create$(message.toString());
        }
        return tmp;
      }
    }
    return primary.l5w();
  }
  return secondary == null ? null : secondary.l5w();
}
function resolveCall($this, libraryName, operatorName, invocation, allowPromotionAndDemotion, allowFluent) {
  return resolveCall_0($this, libraryName, operatorName, invocation, true, allowPromotionAndDemotion, allowFluent);
}
function resolveCall_0($this, libraryName, operatorName, invocation, mustResolve, allowPromotionAndDemotion, allowFluent) {
  var result = $this.a98(libraryName, operatorName, invocation, mustResolve, allowPromotionAndDemotion, allowFluent);
  return result == null ? null : result.l5w();
}
function buildCallContext($this, libraryName, operatorName, operands, mustResolve, allowPromotionAndDemotion, allowFluent) {
  var dataTypes = ArrayList_init_$Create$();
  var _iterator__ex2g4s = operands.g();
  while (_iterator__ex2g4s.h()) {
    var operand = _iterator__ex2g4s.i();
    // Inline function 'kotlin.require' call
    if (!(!(operand == null) && !(Trackable_getInstance().n8v(operand) == null))) {
      var message = 'Could not determine signature for invocation of operator ' + (libraryName == null ? '' : '' + libraryName + '.') + operatorName + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    }
    dataTypes.e(ensureNotNull(Trackable_getInstance().n8v(operand)));
  }
  return new CallContext(libraryName, operatorName, allowPromotionAndDemotion, allowFluent, mustResolve, dataTypes);
}
function pruneChoices($this, expression, targetType) {
  return expression;
}
function resolveCall_1($this, callContext) {
  var result;
  // Inline function 'kotlin.text.isNullOrEmpty' call
  var this_0 = callContext.b98_1;
  if (this_0 == null || charSequenceLength(this_0) === 0) {
    result = $this.compiledLibrary.h98(callContext, $this.conversionMap);
    if (result == null) {
      result = _get_systemLibrary__2e3lff($this).h98(callContext, $this.conversionMap);
      if (result == null && callContext.e98_1) {
        var _iterator__ex2g4s = $this.r8v_1.s2().g();
        $l$loop: while (_iterator__ex2g4s.h()) {
          var lib = _iterator__ex2g4s.i();
          if (!equals(lib, _get_systemLibrary__2e3lff($this))) {
            result = lib.h98(callContext, $this.conversionMap);
            if (!(result == null)) {
              break $l$loop;
            }
          }
        }
      }
    }
  } else {
    result = $this.resolveLibrary(callContext.b98_1).h98(callContext, $this.conversionMap);
  }
  if (!(result == null)) {
    $this.checkAccessLevel(result.t92_1.e8x_1, result.t92_1.x8w_1, result.t92_1.b8x_1);
  }
  return result;
}
function isInterFunctionAccess($this, f1, f2) {
  var tmp;
  var tmp_0;
  // Inline function 'kotlin.text.isNotBlank' call
  if (!isBlank(f1)) {
    // Inline function 'kotlin.text.isNullOrBlank' call
    tmp_0 = !(f2 == null || isBlank(f2));
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = !equals_0(f1, f2, true);
  } else {
    tmp = false;
  }
  return tmp;
}
function checkOperator($this, callContext, resolution) {
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (resolution == null) {
      var message = 'Could not resolve call to operator ' + callContext.c98_1 + ' with signature ' + callContext.g98_1.toString() + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  // Inline function 'kotlin.require' call
  if (!(!resolution.t92_1.c8x_1 || callContext.e98_1)) {
    var message_0 = 'Operator ' + callContext.c98_1 + ' with signature ' + callContext.g98_1.toString() + ' is a fluent function and can only be invoked with fluent syntax.';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  // Inline function 'kotlin.require' call
  if (!(!callContext.e98_1 || resolution.t92_1.c8x_1 || resolution.w92_1)) {
    var message_1 = 'Invocation of operator ' + callContext.c98_1 + ' with signature ' + callContext.g98_1.toString() + ' uses fluent syntax, but the operator is not defined as a fluent function.';
    throw IllegalArgumentException_init_$Create$(toString(message_1));
  }
}
function buildFunctionRef($this, libraryName, functionName, paramList) {
  var functionRef = $this.objectFactory.w7h().t6i(libraryName).q65(functionName);
  var _iterator__ex2g4s = paramList.g();
  while (_iterator__ex2g4s.h()) {
    var param = _iterator__ex2g4s.i();
    functionRef.o67().e(param);
  }
  return functionRef;
}
function convertListExpression($this, expression, conversion) {
  var tmp = conversion.i98_1;
  var fromType = tmp instanceof ListType ? tmp : THROW_CCE();
  var tmp_0 = conversion.j98_1;
  var toType = tmp_0 instanceof ListType ? tmp_0 : THROW_CCE();
  return Trackable_getInstance().h90($this.objectFactory.l7h().q7y(listOf_0(Trackable_getInstance().h90($this.objectFactory.f7q().q69('X').r69(expression), fromType))).u7y(Trackable_getInstance().h90($this.objectFactory.d7o().h82(false).r69($this.e91(Trackable_getInstance().h90($this.objectFactory.g7j().q65('X'), fromType.d61_1), ensureNotNull(conversion.l98_1))), toType)), toType);
}
function reportWarning($this, message, expression) {
  var tmp;
  var tmp_0;
  if (!(expression == null)) {
    // Inline function 'kotlin.collections.isNotEmpty' call
    tmp_0 = !Trackable_getInstance().d90(expression).q();
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = Trackable_getInstance().d90(expression).o(0);
  } else {
    tmp = null;
  }
  var trackback = tmp;
  var warning = CqlSemanticException_init_$Create$_0(message, ErrorSeverity_Warning_getInstance(), trackback);
  $this.recordParsingException(warning);
}
function demoteListExpression($this, expression, conversion) {
  var tmp = conversion.i98_1;
  var fromType = tmp instanceof ListType ? tmp : THROW_CCE();
  var singletonFrom = $this.objectFactory.t7l().a6c(expression);
  Trackable_getInstance().o8v(singletonFrom, fromType.d61_1);
  $this.resolveUnaryCall('System', 'SingletonFrom', singletonFrom);
  reportWarning($this, 'List-valued expression was demoted to a singleton.', expression);
  var tmp_0;
  if (!(conversion.l98_1 == null)) {
    tmp_0 = $this.e91(singletonFrom, conversion.l98_1);
  } else {
    tmp_0 = singletonFrom;
  }
  return tmp_0;
}
function promoteListExpression($this, expression, conversion) {
  var expression_0 = expression;
  if (!(conversion.l98_1 == null)) {
    expression_0 = $this.e91(expression_0, conversion.l98_1);
  }
  if (equals(Trackable_getInstance().n8v(expression_0), $this.l8w('System', 'Boolean'))) {
    reportWarning($this, 'Boolean-valued expression was promoted to a list.', expression_0);
  }
  return $this.resolveToList(expression_0);
}
function demoteIntervalExpression($this, expression, conversion) {
  var tmp = conversion.i98_1;
  var fromType = tmp instanceof IntervalType ? tmp : THROW_CCE();
  var pointFrom = $this.objectFactory.j7o().a6c(expression);
  Trackable_getInstance().o8v(pointFrom, fromType.g61_1);
  $this.resolveUnaryCall('System', 'PointFrom', pointFrom);
  reportWarning($this, 'Interval-valued expression was demoted to a point.', expression);
  var tmp_0;
  if (!(conversion.l98_1 == null)) {
    tmp_0 = $this.e91(pointFrom, conversion.l98_1);
  } else {
    tmp_0 = pointFrom;
  }
  return tmp_0;
}
function promoteIntervalExpression($this, expression, conversion) {
  var expression_0 = expression;
  if (!(conversion.l98_1 == null)) {
    expression_0 = $this.e91(expression_0, conversion.l98_1);
  }
  return resolveToInterval($this, expression_0);
}
function resolveToInterval($this, expression) {
  var condition = $this.objectFactory.y7m();
  condition.m70_1 = buildIsNull($this, expression);
  condition.n70_1 = $this.buildNull(new IntervalType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(expression)))));
  var toInterval = $this.objectFactory.a7n().h75(expression).j75(expression).f75(true).g75(true);
  Trackable_getInstance().o8v(toInterval, new IntervalType(ensureNotNull(Trackable_getInstance().n8v(expression))));
  condition.o70_1 = toInterval;
  Trackable_getInstance().o8v(condition, $this.l8w('System', 'Boolean'));
  return condition;
}
function convertIntervalExpression($this, expression, conversion) {
  var tmp = conversion.i98_1;
  var fromType = tmp instanceof IntervalType ? tmp : THROW_CCE();
  var tmp_0 = conversion.j98_1;
  var toType = tmp_0 instanceof IntervalType ? tmp_0 : THROW_CCE();
  return Trackable_getInstance().h90($this.objectFactory.a7n().h75($this.e91(Trackable_getInstance().h90($this.objectFactory.q7n().a6k(expression).y6c('low'), fromType.g61_1), ensureNotNull(conversion.l98_1))).i75(Trackable_getInstance().h90($this.objectFactory.q7n().a6k(expression).y6c('lowClosed'), $this.l8w('System', 'Boolean'))).j75($this.e91(Trackable_getInstance().h90($this.objectFactory.q7n().a6k(expression).y6c('high'), fromType.g61_1), conversion.l98_1)).k75(Trackable_getInstance().h90($this.objectFactory.q7n().a6k(expression).y6c('highClosed'), $this.l8w('System', 'Boolean'))), toType);
}
function buildIsNull($this, expression) {
  var isNull = $this.objectFactory.r7l().a6c(expression);
  Trackable_getInstance().o8v(isNull, $this.l8w('System', 'Boolean'));
  return isNull;
}
function buildIsNotNull($this, expression) {
  var isNull = buildIsNull($this, expression);
  var not = $this.objectFactory.u7k().a6c(isNull);
  Trackable_getInstance().o8v(not, $this.l8w('System', 'Boolean'));
  return not;
}
function collapseTypeCase($this, asExpression) {
  var tmp = asExpression.u66_1;
  if (tmp instanceof Case) {
    var tmp_0 = asExpression.u66_1;
    var c = tmp_0 instanceof Case ? tmp_0 : THROW_CCE();
    if (isTypeCase($this, c)) {
      var _iterator__ex2g4s = c.l6f().g();
      while (_iterator__ex2g4s.h()) {
        var ci = _iterator__ex2g4s.i();
        if (DataTypes_instance.q8z(Trackable_getInstance().n8v(asExpression), Trackable_getInstance().n8v(ensureNotNull(ci.t6f_1)))) {
          return ensureNotNull(ci.t6f_1);
        }
      }
    }
  }
  return asExpression;
}
function isTypeCase($this, c) {
  if (!(c.i6f_1 == null)) {
    return false;
  }
  var _iterator__ex2g4s = c.l6f().g();
  while (_iterator__ex2g4s.h()) {
    var ci = _iterator__ex2g4s.i();
    var tmp = ci.s6f_1;
    if (!(tmp instanceof Is)) {
      return false;
    }
    if (Trackable_getInstance().n8v(ensureNotNull(ci.t6f_1)) == null) {
      return false;
    }
  }
  var tmp_0 = c.k6f_1;
  if (!(tmp_0 instanceof Null)) {
    return false;
  }
  var tmp_1 = Trackable_getInstance().n8v(c);
  return tmp_1 instanceof ChoiceType;
}
function createLiteral($this, value, type) {
  var resultType = $this.l8w('System', type);
  var result = $this.objectFactory.j7k().r65(value).v7a($this.dataTypeToQName(resultType));
  Trackable_getInstance().o8v(result, resultType);
  return result;
}
function validateUnit($this, unit) {
  switch (unit) {
    case 'year':
    case 'years':
    case 'month':
    case 'months':
    case 'week':
    case 'weeks':
    case 'day':
    case 'days':
    case 'hour':
    case 'hours':
    case 'minute':
    case 'minutes':
    case 'second':
    case 'seconds':
    case 'millisecond':
    case 'milliseconds':
      break;
    default:
      validateUcumUnit($this, unit);
      break;
  }
}
function validateUcumUnit($this, unit) {
  var message = $this.libraryManager.ucumService.v98(unit);
  // Inline function 'kotlin.require' call
  if (!(message == null)) {
    var message_0 = ensureNotNull(message);
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
}
function dataTypesToTypeSpecifiers($this, types) {
  return $this.g8w_1.y98(types);
}
function getModelMapping($this, sourceContext) {
  var result = null;
  if (!($this.library.q79_1 == null)) {
    var _iterator__ex2g4s = ensureNotNull($this.library.q79_1).a79().g();
    while (_iterator__ex2g4s.h()) {
      var usingDef = _iterator__ex2g4s.i();
      var model = getModel($this, usingDef);
      if (!(model.q90_1.m5x_1 == null)) {
        if (!(result == null)) {
          reportWarning($this, 'Duplicate mapped model ' + model.q90_1.j5x_1 + ':' + model.q90_1.m5x_1 + (!(model.q90_1.n5x_1 == null) ? '|' + model.q90_1.n5x_1 : ''), sourceContext);
        }
        result = $this.objectFactory.k7n().a6i(model.q90_1.j5x_1).e8i(model.q90_1.m5x_1).d6j(model.q90_1.n5x_1);
      }
    }
  }
  return result;
}
function ensureLibraryIncluded($this, libraryName, sourceContext) {
  var includeDef = $this.compiledLibrary.z98(libraryName);
  if (includeDef == null) {
    var modelMapping = getModelMapping($this, sourceContext);
    var path = libraryName;
    if (!($this.namespaceInfo == null) && !(modelMapping == null) && !(modelMapping.c8i_1 == null)) {
      path = Companion_instance_1.getPath(modelMapping.c8i_1, path);
    }
    includeDef = $this.objectFactory.z7k().j72(libraryName).y6c(path);
    if (!(modelMapping == null)) {
      includeDef.g72_1 = modelMapping.d8i_1;
    }
    $this.compiledLibrary.a99(includeDef);
  }
}
function applyTargetModelMaps($this) {
  if (!($this.library.q79_1 == null)) {
    var _iterator__ex2g4s = ensureNotNull($this.library.q79_1).a79().g();
    while (_iterator__ex2g4s.h()) {
      var usingDef = _iterator__ex2g4s.i();
      var model = getModel($this, usingDef);
      if (!(model.q90_1.m5x_1 == null)) {
        usingDef.x8g_1 = model.q90_1.m5x_1;
        usingDef.y8g_1 = model.q90_1.n5x_1;
      }
    }
  }
}
function resolveQueryResultElement($this, identifier) {
  if (inQueryContext($this)) {
    var query = $this.peekQueryContext();
    if (query.b99() && !query.s91_1) {
      if (identifier === '$this') {
        var result = $this.objectFactory.p7k().q65(identifier);
        Trackable_getInstance().o8v(result, query.w91_1);
        return result;
      }
      var resolution = $this.resolveProperty(query.w91_1, identifier, false);
      if (!(resolution == null)) {
        var result_0 = $this.objectFactory.p7k().q65(resolution.b91_1);
        Trackable_getInstance().o8v(result_0, resolution.a91_1);
        return $this.applyTargetMap(result_0, resolution.c91_1);
      }
    }
  }
  return null;
}
function resolveAlias($this, identifier) {
  if (inQueryContext($this)) {
    var progression = _get_scope__bi2zur($this).d99_1.f99();
    var last = progression.u_1;
    var inductionVariable = progression.v_1;
    if (last <= inductionVariable)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        var source = _get_scope__bi2zur($this).d99_1.g99(i).h99(identifier);
        if (!(source == null)) {
          return source;
        }
      }
       while (!(i === last));
  }
  return null;
}
function resolveQueryThisElement($this, identifier) {
  if (inQueryContext($this)) {
    var query = $this.peekQueryContext();
    if (query.v91_1) {
      var source = resolveAlias($this, '$this');
      if (!(source == null)) {
        var aliasRef = $this.objectFactory.g7j().q65('$this');
        var tmp = Trackable_getInstance().n8v(source);
        if (tmp instanceof ListType) {
          var tmp_0 = Trackable_getInstance();
          var tmp_1 = Trackable_getInstance().n8v(source);
          tmp_0.o8v(aliasRef, (tmp_1 instanceof ListType ? tmp_1 : THROW_CCE()).d61_1);
        } else {
          Trackable_getInstance().o8v(aliasRef, Trackable_getInstance().n8v(source));
        }
        var result = $this.resolveProperty(Trackable_getInstance().n8v(aliasRef), identifier, false);
        if (!(result == null)) {
          return $this.resolveAccessor(aliasRef, identifier);
        }
      }
    }
  }
  return null;
}
function resolveQueryLet($this, identifier) {
  if (inQueryContext($this)) {
    var progression = _get_scope__bi2zur($this).d99_1.f99();
    var last = progression.u_1;
    var inductionVariable = progression.v_1;
    if (last <= inductionVariable)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + -1 | 0;
        var let_0 = _get_scope__bi2zur($this).d99_1.g99(i).i99(identifier);
        if (!(let_0 == null)) {
          return let_0;
        }
      }
       while (!(i === last));
  }
  return null;
}
function resolveOperandRef($this, identifier) {
  if (!$this.v8v_1.e10()) {
    var _iterator__ex2g4s = $this.v8v_1.q2c().o67().g();
    while (_iterator__ex2g4s.h()) {
      var operand = _iterator__ex2g4s.i();
      if (operand.v7q_1 === identifier) {
        return Trackable_getInstance().h90($this.objectFactory.f7o().q65(identifier), Trackable_getInstance().n8v(operand));
      }
    }
  }
  return null;
}
function getExpressionDefResultType($this, expressionDef) {
  if (currentExpressionContext($this) === expressionDef.d6w_1) {
    return Trackable_getInstance().n8v(expressionDef);
  }
  if (inSpecificContext($this)) {
    return Trackable_getInstance().n8v(expressionDef);
  }
  if (inUnfilteredContext($this)) {
    if (inQueryContext($this) && _get_scope__bi2zur($this).d99_1.q2c().j99()) {
      _get_scope__bi2zur($this).d99_1.q2c().x91_1 = true;
    }
    var resultType = ensureNotNull(Trackable_getInstance().n8v(expressionDef));
    var tmp;
    if (!(resultType instanceof ListType)) {
      tmp = new ListType(resultType);
    } else {
      tmp = resultType;
    }
    return tmp;
  }
  throw IllegalArgumentException_init_$Create$('Invalid context reference from ' + currentExpressionContext($this) + ' context to ' + expressionDef.d6w_1 + ' context.');
}
function IdentifierScope(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function findMatchingIdentifierContext($this, identifierContext, identifier) {
  // Inline function 'kotlin.collections.filter' call
  // Inline function 'kotlin.collections.filterTo' call
  var destination = ArrayList_init_$Create$();
  var _iterator__ex2g4s = identifierContext.g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    if (element.e97() === identifier) {
      destination.e(element);
    }
  }
  return firstOrNull(destination);
}
function shouldAddIdentifierContext($this, element) {
  return !(element instanceof Literal);
}
function resolveWarningMessage($this, matchedIdentifier, identifierParam, element) {
  var elementString = lookupElementWarning(Companion_instance_7, element);
  var tmp;
  if (element instanceof Literal) {
    tmp = "String literal '" + identifierParam + "' matches the identifier " + matchedIdentifier + '. Consider whether the identifier was intended instead.';
  } else {
    tmp = elementString + ' identifier ' + identifierParam + ' is hiding another identifier of the same name.';
  }
  return tmp;
}
function Scope($outer) {
  this.e99_1 = $outer;
  this.c99_1 = new Stack();
  this.d99_1 = new Stack();
}
function ExpressionDefinitionContext($outer, identifier) {
  this.p99_1 = $outer;
  this.m99_1 = identifier;
  this.n99_1 = new Scope(this.p99_1);
  this.o99_1 = null;
}
function ExpressionDefinitionContextStack($outer) {
  this.r99_1 = $outer;
  Stack.call(this);
}
protoOf(ExpressionDefinitionContextStack).s99 = function (identifier) {
  var inductionVariable = 0;
  var last = this.l23();
  if (inductionVariable < last)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var tmp0_safe_receiver = this.g99(i);
      if ((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m99_1) === identifier) {
        return true;
      }
    }
     while (inductionVariable < last);
  return false;
};
function hasScope($this) {
  return !$this.u8v_1.e10();
}
function _get_scope__bi2zur($this) {
  var tmp0_safe_receiver = $this.u8v_1.q2c();
  return ensureNotNull(tmp0_safe_receiver == null ? null : tmp0_safe_receiver.n99_1);
}
function currentExpressionContext($this) {
  // Inline function 'kotlin.check' call
  if (!!$this.t8v_1.e10()) {
    var message = 'Expression context stack is empty.';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  return $this.t8v_1.q2c();
}
function inSpecificContext($this) {
  return !inUnfilteredContext($this);
}
function inUnfilteredContext($this) {
  return currentExpressionContext($this) === 'Unfiltered' || ($this.isCompatibilityLevel3 && currentExpressionContext($this) === 'Population');
}
function inQueryContext($this) {
  return hasScope($this) && _get_scope__bi2zur($this).d99_1.t99();
}
function inLiteralContext($this) {
  return $this.y8v_1 > 0;
}
function inTypeSpecifierContext($this) {
  return $this.z8v_1 > 0;
}
function Companion_4() {
}
var Companion_instance_7;
function Companion_getInstance_7() {
  return Companion_instance_7;
}
function SignatureLevel_None_getInstance() {
  SignatureLevel_initEntries();
  return SignatureLevel_None_instance;
}
function SignatureLevel_Differing_getInstance() {
  SignatureLevel_initEntries();
  return SignatureLevel_Differing_instance;
}
function SignatureLevel_Overloads_getInstance() {
  SignatureLevel_initEntries();
  return SignatureLevel_Overloads_instance;
}
function SignatureLevel_All_getInstance() {
  SignatureLevel_initEntries();
  return SignatureLevel_All_instance;
}
function IdentifierScope_GLOBAL_getInstance() {
  IdentifierScope_initEntries();
  return IdentifierScope_GLOBAL_instance;
}
function IdentifierScope_LOCAL_getInstance() {
  IdentifierScope_initEntries();
  return IdentifierScope_LOCAL_instance;
}
function LibraryBuilder(namespaceInfo, libraryManager, objectFactory) {
  this.namespaceInfo = namespaceInfo;
  this.libraryManager = libraryManager;
  this.objectFactory = objectFactory;
  this.errors = ArrayList_init_$Create$();
  this.warnings = ArrayList_init_$Create$();
  this.messages = ArrayList_init_$Create$();
  this.exceptions = ArrayList_init_$Create$();
  this.p8v_1 = LinkedHashMap_init_$Create$_0();
  this.q8v_1 = HashMap_init_$Create$();
  this.r8v_1 = LinkedHashMap_init_$Create$_0();
  this.s8v_1 = new SystemFunctionResolver(this);
  this.t8v_1 = new Stack();
  this.u8v_1 = new ExpressionDefinitionContextStack(this);
  this.v8v_1 = new Stack();
  this.w8v_1 = ArrayDeque_init_$Create$();
  this.x8v_1 = new Stack();
  this.y8v_1 = 0;
  this.z8v_1 = 0;
  this.a8w_1 = this.libraryManager.modelManager;
  this.b8w_1 = null;
  this.library = this.objectFactory.b7p().z79(this.objectFactory.k7n().a6i('urn:hl7-org:elm').d6j('r1'));
  this.compiledLibrary = new CompiledLibrary();
  this.conversionMap = new ConversionMap();
  this.c8w_1 = new ObjectFactory();
  this.d8w_1 = true;
  this.e8w_1 = this.libraryManager.cqlCompilerOptions;
  this.f8w_1 = this.c8w_1.k65();
  this.g8w_1 = TypeBuilder_init_$Create$(this.objectFactory, this.a8w_1);
  this.h8w_1 = null;
  this.i8w_1 = null;
  this.f8w_1.c65_1 = getTranslatorVersion();
  this.library.n66().e(this.f8w_1);
  setCompilerOptions(this, this.e8w_1);
  this.compiledLibrary.k8z_1 = this.library;
}
protoOf(LibraryBuilder).u99 = function () {
  return this.namespaceInfo;
};
protoOf(LibraryBuilder).v99 = function () {
  return this.libraryManager;
};
protoOf(LibraryBuilder).w99 = function () {
  return this.objectFactory;
};
protoOf(LibraryBuilder).o96 = function () {
  return this.errors;
};
protoOf(LibraryBuilder).p96 = function () {
  return this.warnings;
};
protoOf(LibraryBuilder).q96 = function () {
  return this.messages;
};
protoOf(LibraryBuilder).n96 = function () {
  return this.exceptions;
};
protoOf(LibraryBuilder).x99 = function () {
  return this.b8w_1;
};
protoOf(LibraryBuilder).y99 = function (_set____db54di) {
  this.library = _set____db54di;
};
protoOf(LibraryBuilder).z99 = function () {
  return this.library;
};
protoOf(LibraryBuilder).a9a = function (_set____db54di) {
  this.compiledLibrary = _set____db54di;
};
protoOf(LibraryBuilder).b9a = function () {
  return this.compiledLibrary;
};
protoOf(LibraryBuilder).c9a = function () {
  return this.conversionMap;
};
protoOf(LibraryBuilder).enableListTraversal = function () {
  this.d8w_1 = true;
};
protoOf(LibraryBuilder).h97 = function (compatibilityLevel) {
  this.h8w_1 = compatibilityLevel;
  if (!(compatibilityLevel == null)) {
    this.i8w_1 = new Version(compatibilityLevel);
  }
};
protoOf(LibraryBuilder).g95 = function () {
  return this.h8w_1;
};
protoOf(LibraryBuilder).d9a = function () {
  return '1.3' === this.h8w_1;
};
protoOf(LibraryBuilder).e9a = function () {
  return '1.4' === this.h8w_1;
};
protoOf(LibraryBuilder).isCompatibleWith = function (sinceCompatibilityLevel) {
  if (this.i8w_1 == null) {
    return true;
  }
  // Inline function 'kotlin.text.isNullOrEmpty' call
  // Inline function 'kotlin.require' call
  if (!!(sinceCompatibilityLevel == null || charSequenceLength(sinceCompatibilityLevel) === 0)) {
    var message = 'Internal Translator Error: compatibility level is required to perform a compatibility check';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var sinceVersion = new Version(sinceCompatibilityLevel);
  return ensureNotNull(this.i8w_1).k9a(sinceVersion);
};
protoOf(LibraryBuilder).checkCompatibilityLevel = function (featureName, sinceCompatibilityLevel) {
  // Inline function 'kotlin.text.isNullOrEmpty' call
  // Inline function 'kotlin.require' call
  if (!!(featureName == null || charSequenceLength(featureName) === 0)) {
    var message = 'Internal Translator Error: feature name is required to perform a compatibility check';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  // Inline function 'kotlin.require' call
  if (!this.isCompatibleWith(sinceCompatibilityLevel)) {
    var message_0 = 'Feature ' + featureName + ' was introduced in version ' + sinceCompatibilityLevel + ' and so cannot be used at compatibility level ' + this.h8w_1;
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
};
protoOf(LibraryBuilder).isWellKnownModelName = function (unqualifiedIdentifier) {
  var tmp;
  if (this.namespaceInfo == null) {
    tmp = false;
  } else {
    tmp = this.a8w_1.isWellKnownModelName(unqualifiedIdentifier);
  }
  return tmp;
};
protoOf(LibraryBuilder).isWellKnownLibraryName = function (unqualifiedIdentifier) {
  var tmp;
  if (this.namespaceInfo == null) {
    tmp = false;
  } else {
    tmp = this.libraryManager.isWellKnownLibraryName(unqualifiedIdentifier);
  }
  return tmp;
};
protoOf(LibraryBuilder).q97 = function (modelIdentifier, localIdentifier) {
  var model = this.p8v_1.q2(localIdentifier);
  if (model == null) {
    model = loadModel(this, modelIdentifier);
    _set_defaultModel__6o4wsx(this, model);
    var tmp0 = this.p8v_1;
    // Inline function 'kotlin.collections.set' call
    var value = model;
    tmp0.u2(localIdentifier, value);
    buildUsingDef(this, modelIdentifier, model, localIdentifier);
  }
  // Inline function 'kotlin.require' call
  if (!(modelIdentifier.w62_1 == null || modelIdentifier.w62_1 == model.q90_1.k5x_1)) {
    var message = 'Could not load model information for model ' + modelIdentifier.u62_1 + ', version ' + modelIdentifier.w62_1 + ' because version ' + model.q90_1.k5x_1 + ' is already loaded.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return model;
};
protoOf(LibraryBuilder).getNamedTypeSpecifierResult = function (namedTypeSpecifierIdentifier) {
  return this.q8v_1.q2(namedTypeSpecifierIdentifier);
};
protoOf(LibraryBuilder).addNamedTypeSpecifierResult = function (namedTypeSpecifierIdentifier, namedTypeSpecifierResult) {
  if (!this.q8v_1.o2(namedTypeSpecifierIdentifier)) {
    // Inline function 'kotlin.collections.set' call
    this.q8v_1.u2(namedTypeSpecifierIdentifier, namedTypeSpecifierResult);
  }
};
protoOf(LibraryBuilder).hasUsings = function () {
  var _iterator__ex2g4s = this.p8v_1.s2().g();
  while (_iterator__ex2g4s.h()) {
    var model = _iterator__ex2g4s.i();
    if (!(ensureNotNull(model).q90_1.j5x_1 === 'System')) {
      return true;
    }
  }
  return false;
};
protoOf(LibraryBuilder).resolveContextName = function (modelName, contextName) {
  var result = null;
  switch (modelName) {
    case null:
    case '':
      if (!(this.b8w_1 == null)) {
        var modelResult = ensureNotNull(this.b8w_1).l9a(contextName);
        if (!(modelResult == null)) {
          return modelResult;
        }
      }

      var _iterator__ex2g4s = this.p8v_1.s2().g();
      while (_iterator__ex2g4s.h()) {
        var model = _iterator__ex2g4s.i();
        var modelResult_0 = ensureNotNull(model).l9a(contextName);
        if (!(modelResult_0 == null)) {
          // Inline function 'kotlin.require' call
          if (!(result == null)) {
            var message = 'Context name ' + contextName + ' is ambiguous between ' + (result instanceof ModelContext ? result : THROW_CCE()).q62_1 + ' and ' + modelResult_0.q62_1 + '.';
            throw IllegalArgumentException_init_$Create$(toString(message));
          }
          result = modelResult_0;
        }
      }

      break;
    default:
      result = this.x90(modelName).l9a(contextName);
      break;
  }
  return result;
};
protoOf(LibraryBuilder).j90 = function (typeName) {
  return this.l8w(null, typeName);
};
protoOf(LibraryBuilder).l8w = function (modelName, typeName) {
  var result = resolveLabel(this, modelName, typeName);
  if (result == null) {
    switch (modelName) {
      case null:
      case '':
        if (!(this.b8w_1 == null)) {
          var modelResult = ensureNotNull(this.b8w_1).j90(typeName);
          if (!(modelResult == null)) {
            return modelResult;
          }
        }

        var _iterator__ex2g4s = this.p8v_1.s2().g();
        while (_iterator__ex2g4s.h()) {
          var model = _iterator__ex2g4s.i();
          var modelResult_0 = ensureNotNull(model).j90(typeName);
          if (!(modelResult_0 == null)) {
            // Inline function 'kotlin.require' call
            if (!(result == null)) {
              var tmp = ((!(result == null) ? isInterface(result, NamedType) : false) ? result : THROW_CCE()).z2();
              var message = 'Type name ' + typeName + ' is ambiguous between ' + tmp + ' and ' + ((!(modelResult_0 == null) ? isInterface(modelResult_0, NamedType) : false) ? modelResult_0 : THROW_CCE()).z2() + '.';
              throw IllegalArgumentException_init_$Create$(toString(message));
            }
            result = modelResult_0;
          }
        }

        break;
      default:
        result = this.x90(modelName).j90(typeName);
        break;
    }
  }
  var tmp_0;
  if (!(result == null)) {
    tmp_0 = !(result == null) ? isInterface(result, NamedType) : false;
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    switch (((!(result == null) ? isInterface(result, NamedType) : false) ? result : THROW_CCE()).z2()) {
      case 'System.Long':
      case 'System.Vocabulary':
      case 'System.CodeSystem':
      case 'System.ValueSet':
        // Inline function 'kotlin.require' call

        if (!(this.isCompatibleWith('1.5') || isFHIRHelpers(this, this.compiledLibrary))) {
          var message_0 = 'The type ' + ((!(result == null) ? isInterface(result, NamedType) : false) ? result : THROW_CCE()).z2() + ' was introduced in CQL 1.5 and cannot be referenced at compatibility level ' + this.h8w_1;
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        }

        break;
    }
  }
  return result;
};
protoOf(LibraryBuilder).resolveTypeSpecifier = function (typeSpecifier) {
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (typeSpecifier == null) {
      var message = 'typeSpecifier is null';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  var tmp;
  // Inline function 'kotlin.text.lowercase' call
  // Inline function 'kotlin.js.asDynamic' call
  var tmp$ret$3 = typeSpecifier.toLowerCase();
  if (startsWith(tmp$ret$3, 'interval<')) {
    var pointType = this.resolveTypeSpecifier(substring_0(typeSpecifier, indexOf_0(typeSpecifier, _Char___init__impl__6a9atx(60)) + 1 | 0, lastIndexOf(typeSpecifier, _Char___init__impl__6a9atx(62))));
    tmp = new IntervalType(ensureNotNull(pointType));
  } else {
    var tmp_0;
    // Inline function 'kotlin.text.lowercase' call
    // Inline function 'kotlin.js.asDynamic' call
    var tmp$ret$5 = typeSpecifier.toLowerCase();
    if (startsWith(tmp$ret$5, 'list<')) {
      var elementType = this.j90(substring_0(typeSpecifier, indexOf_0(typeSpecifier, _Char___init__impl__6a9atx(60)) + 1 | 0, lastIndexOf(typeSpecifier, _Char___init__impl__6a9atx(62))));
      tmp_0 = new ListType(ensureNotNull(elementType));
    } else {
      if (indexOf(typeSpecifier, '.') >= 0) {
        var modelName = substring_0(typeSpecifier, 0, indexOf(typeSpecifier, '.'));
        var typeName = substring(typeSpecifier, indexOf(typeSpecifier, '.') + 1 | 0);
        tmp_0 = this.l8w(modelName, typeName);
      } else {
        tmp_0 = this.j90(typeSpecifier);
      }
    }
    tmp = tmp_0;
  }
  return tmp;
};
protoOf(LibraryBuilder).resolveUsingRef = function (modelName) {
  return this.compiledLibrary.m9a(modelName);
};
protoOf(LibraryBuilder).n9a = function () {
  var tmp = this.q97(new ModelIdentifier('System'), 'System');
  return tmp instanceof SystemModel ? tmp : THROW_CCE();
};
protoOf(LibraryBuilder).x90 = function (modelName) {
  var usingDef = this.resolveUsingRef(modelName);
  if (usingDef == null && modelName === 'FHIR') {
    return this.a8w_1.resolveModelByUri('http://hl7.org/fhir');
  }
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (usingDef == null) {
      var message = 'Could not resolve model name ' + modelName;
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  return getModel(this, usingDef);
};
protoOf(LibraryBuilder).resolveLibrary = function (identifier) {
  if (!(identifier === 'System')) {
    this.checkLiteralContext();
  }
  // Inline function 'kotlin.collections.get' call
  var this_0 = this.r8v_1;
  var tmp0_elvis_lhs = (isInterface(this_0, KtMap) ? this_0 : THROW_CCE()).q2(identifier);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Could not resolve library name ' + identifier + '.');
  } else {
    tmp = tmp0_elvis_lhs;
  }
  return tmp;
};
protoOf(LibraryBuilder).resolveNamespaceUri = function (namespaceName, mustResolve) {
  var namespaceUri = this.libraryManager.namespaceManager.resolveNamespaceUri(namespaceName);
  // Inline function 'kotlin.require' call
  if (!(!(namespaceUri == null) || !mustResolve)) {
    var message = 'Could not resolve namespace name ' + namespaceName;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return namespaceUri;
};
protoOf(LibraryBuilder).recordParsingException = function (e) {
  addException(this, e);
  if (shouldReport(this, e.severity)) {
    var err = this.c8w_1.j65();
    err.i64_1 = e.message;
    var tmp = err;
    var tmp_0;
    if (e instanceof CqlSyntaxException) {
      tmp_0 = ErrorType_SYNTAX_getInstance();
    } else {
      if (e instanceof CqlSemanticException) {
        tmp_0 = ErrorType_SEMANTIC_getInstance();
      } else {
        tmp_0 = ErrorType_INTERNAL_getInstance();
      }
    }
    tmp.j64_1 = tmp_0;
    err.k64_1 = toErrorSeverity(this, e.severity);
    if (!(e.locator == null)) {
      if (!(e.locator.v8z_1 == null)) {
        err.o64_1 = e.locator.v8z_1.c8i_1;
        err.p64_1 = e.locator.v8z_1.b8i_1;
        err.q64_1 = e.locator.v8z_1.d8i_1;
      }
      err.r64_1 = e.locator.w8z_1;
      err.t64_1 = e.locator.y8z_1;
      err.s64_1 = e.locator.x8z_1;
      err.u64_1 = e.locator.z8z_1;
    }
    var tmp_1;
    if (!(e.cause == null)) {
      var tmp_2 = e.cause;
      tmp_1 = tmp_2 instanceof CqlIncludeException;
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      var tmp_3 = e.cause;
      var incEx = (tmp_3 == null ? true : tmp_3 instanceof CqlIncludeException) ? tmp_3 : THROW_CCE();
      err.l64_1 = ensureNotNull(incEx).p95_1;
      err.m64_1 = incEx.q95_1;
      err.n64_1 = incEx.r95_1;
      err.j64_1 = ErrorType_INCLUDE_getInstance();
    }
    this.library.n66().e(err);
  }
};
protoOf(LibraryBuilder).beginTranslation = function () {
  loadSystemLibrary(this);
};
protoOf(LibraryBuilder).e90 = function (vid) {
  this.library.o79_1 = vid;
  this.compiledLibrary.j8z_1 = vid;
};
protoOf(LibraryBuilder).o9a = function () {
  return this.library.o79_1;
};
protoOf(LibraryBuilder).endTranslation = function () {
  applyTargetModelMaps(this);
};
protoOf(LibraryBuilder).canResolveLibrary = function (includeDef) {
  var libraryIdentifier = (new VersionedIdentifier()).e8i(Companion_instance_1.getUriPart(includeDef.f72_1)).a6i(Companion_instance_1.getNamePart(includeDef.f72_1)).d6j(includeDef.g72_1);
  return this.libraryManager.canResolveLibrary(libraryIdentifier);
};
protoOf(LibraryBuilder).addInclude = function (includeDef) {
  // Inline function 'kotlin.require' call
  if (!(!(this.library.o79_1 == null) && !(ensureNotNull(this.library.o79_1).b8i_1 == null))) {
    var message = 'Unnamed libraries cannot reference other libraries.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  if (this.library.r79_1 == null) {
    this.library.r79_1 = this.objectFactory.d7p();
  }
  ensureNotNull(this.library.r79_1).a79().e(includeDef);
  this.compiledLibrary.a99(includeDef);
  var libraryIdentifier = (new VersionedIdentifier()).e8i(Companion_instance_1.getUriPart(includeDef.f72_1)).a6i(Companion_instance_1.getNamePart(includeDef.f72_1)).d6j(includeDef.g72_1);
  var errors = ArrayList_init_$Create$();
  var referencedLibrary = this.libraryManager.p9a(libraryIdentifier, errors);
  var _iterator__ex2g4s = errors.g();
  while (_iterator__ex2g4s.h()) {
    var error = _iterator__ex2g4s.i();
    this.recordParsingException(error);
  }
  var currentNamespaceUri = Companion_instance_1.getUriPart(includeDef.f72_1);
  if (currentNamespaceUri == null && !(libraryIdentifier.c8i_1 == null) || (!(currentNamespaceUri == null) && !(currentNamespaceUri == libraryIdentifier.c8i_1))) {
    includeDef.f72_1 = Companion_instance_1.getPath(libraryIdentifier.c8i_1, ensureNotNull(libraryIdentifier.b8i_1));
  }
  var tmp0 = this.r8v_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(includeDef.d72_1);
  tmp0.u2(key, referencedLibrary);
  loadConversionMap_0(this, referencedLibrary);
};
protoOf(LibraryBuilder).addParameter = function (paramDef) {
  if (this.library.s79_1 == null) {
    this.library.s79_1 = this.objectFactory.e7p();
  }
  ensureNotNull(this.library.s79_1).a79().e(paramDef);
  this.compiledLibrary.q9a(paramDef);
};
protoOf(LibraryBuilder).addCodeSystem = function (cs) {
  if (this.library.t79_1 == null) {
    this.library.t79_1 = this.objectFactory.f7p();
  }
  ensureNotNull(this.library.t79_1).a79().e(cs);
  this.compiledLibrary.r9a(cs);
};
protoOf(LibraryBuilder).addValueSet = function (vs) {
  if (this.library.u79_1 == null) {
    this.library.u79_1 = this.objectFactory.g7p();
  }
  ensureNotNull(this.library.u79_1).a79().e(vs);
  this.compiledLibrary.s9a(vs);
};
protoOf(LibraryBuilder).addCode = function (cd) {
  if (this.library.v79_1 == null) {
    this.library.v79_1 = this.objectFactory.h7p();
  }
  ensureNotNull(this.library.v79_1).a79().e(cd);
  this.compiledLibrary.t9a(cd);
};
protoOf(LibraryBuilder).addConcept = function (cd) {
  if (this.library.w79_1 == null) {
    this.library.w79_1 = this.objectFactory.i7p();
  }
  ensureNotNull(this.library.w79_1).a79().e(cd);
  this.compiledLibrary.u9a(cd);
};
protoOf(LibraryBuilder).addContext = function (cd) {
  if (this.library.x79_1 == null) {
    this.library.x79_1 = this.objectFactory.j7p();
  }
  ensureNotNull(this.library.x79_1).a79().e(cd);
};
protoOf(LibraryBuilder).addExpression = function (expDef) {
  if (this.library.y79_1 == null) {
    this.library.y79_1 = this.objectFactory.k7p();
  }
  ensureNotNull(this.library.y79_1).a79().e(expDef);
  this.compiledLibrary.v9a(expDef);
};
protoOf(LibraryBuilder).removeExpression = function (expDef) {
  if (!(this.library.y79_1 == null)) {
    ensureNotNull(this.library.y79_1).a79().e2(expDef);
    this.compiledLibrary.w9a(expDef);
  }
};
protoOf(LibraryBuilder).resolve = function (identifier) {
  return this.compiledLibrary.x9a(identifier);
};
protoOf(LibraryBuilder).resolveIncludeRef = function (identifier) {
  return this.compiledLibrary.z98(identifier);
};
protoOf(LibraryBuilder).resolveCodeSystemRef = function (identifier) {
  return this.compiledLibrary.g90(identifier);
};
protoOf(LibraryBuilder).resolveValueSetRef = function (identifier) {
  return this.compiledLibrary.y9a(identifier);
};
protoOf(LibraryBuilder).resolveCodeRef = function (identifier) {
  return this.compiledLibrary.i90(identifier);
};
protoOf(LibraryBuilder).resolveConceptRef = function (identifier) {
  return this.compiledLibrary.z9a(identifier);
};
protoOf(LibraryBuilder).resolveParameterRef = function (identifier) {
  this.checkLiteralContext();
  return this.compiledLibrary.a9b(identifier);
};
protoOf(LibraryBuilder).resolveExpressionRef = function (identifier) {
  this.checkLiteralContext();
  return this.compiledLibrary.b9b(identifier);
};
protoOf(LibraryBuilder).findConversion = function (fromType, toType, implicit, allowPromotionAndDemotion) {
  return this.conversionMap.c9b(fromType, toType, implicit, allowPromotionAndDemotion, this.compiledLibrary.m8z_1);
};
protoOf(LibraryBuilder).resolveUnaryCall = function (libraryName, operatorName, expression) {
  return resolveCall(this, libraryName, operatorName, new UnaryExpressionInvocation(expression), false, false);
};
protoOf(LibraryBuilder).o8w = function (libraryName, operatorName, expression) {
  var invocation = this.resolveBinaryInvocation(libraryName, operatorName, expression);
  return invocation == null ? null : invocation.l5w();
};
protoOf(LibraryBuilder).d9b = function (libraryName, operatorName, expression, mustResolve, allowPromotionAndDemotion) {
  return this.a98(libraryName, operatorName, new BinaryExpressionInvocation(expression), mustResolve, allowPromotionAndDemotion, false);
};
protoOf(LibraryBuilder).resolveBinaryInvocation = function (libraryName, operatorName, expression, mustResolve, allowPromotionAndDemotion, $super) {
  mustResolve = mustResolve === VOID ? true : mustResolve;
  allowPromotionAndDemotion = allowPromotionAndDemotion === VOID ? false : allowPromotionAndDemotion;
  return $super === VOID ? this.d9b(libraryName, operatorName, expression, mustResolve, allowPromotionAndDemotion) : $super.d9b.call(this, libraryName, operatorName, expression, mustResolve, allowPromotionAndDemotion);
};
protoOf(LibraryBuilder).j91 = function (libraryName, operatorName, expression, mustResolve, allowPromotionAndDemotion) {
  var invocation = this.resolveBinaryInvocation(libraryName, operatorName, expression, mustResolve, allowPromotionAndDemotion);
  return invocation == null ? null : invocation.l5w();
};
protoOf(LibraryBuilder).resolveTernaryCall = function (libraryName, operatorName, expression) {
  return resolveCall(this, libraryName, operatorName, new TernaryExpressionInvocation(expression), false, false);
};
protoOf(LibraryBuilder).resolveNaryCall = function (libraryName, operatorName, expression) {
  return resolveCall(this, libraryName, operatorName, new NaryExpressionInvocation(ensureNotNull(expression)), false, false);
};
protoOf(LibraryBuilder).resolveAggregateCall = function (libraryName, operatorName, expression) {
  return resolveCall(this, libraryName, operatorName, new AggregateExpressionInvocation(expression), false, false);
};
protoOf(LibraryBuilder).resolveUnion = function (left, right) {
  var left_0 = left;
  var right_0 = right;
  if (left_0 instanceof Union) {
    var leftUnion = left_0;
    var leftUnionLeft = leftUnion.o67().o(0);
    var leftUnionRight = leftUnion.o67().o(1);
    var tmp;
    if (leftUnionLeft instanceof Union) {
      tmp = !(leftUnionRight instanceof Union);
    } else {
      tmp = false;
    }
    if (tmp) {
      left_0 = leftUnionLeft;
      right_0 = this.resolveUnion(leftUnionRight, right_0);
    }
  }
  var wrapper = normalizeListTypes(this, left_0, right_0);
  var union = this.objectFactory.i7j().f67(listOf([wrapper.t97_1, wrapper.u97_1]));
  this.resolveNaryCall('System', 'Union', union);
  return union;
};
protoOf(LibraryBuilder).resolveIntersect = function (left, right) {
  var left_0 = left;
  var right_0 = right;
  if (left_0 instanceof Intersect) {
    var leftIntersect = left_0;
    var leftIntersectLeft = leftIntersect.o67().o(0);
    var leftIntersectRight = leftIntersect.o67().o(1);
    var tmp;
    if (leftIntersectLeft instanceof Intersect) {
      tmp = !(leftIntersectRight instanceof Intersect);
    } else {
      tmp = false;
    }
    if (tmp) {
      left_0 = leftIntersectLeft;
      right_0 = this.resolveIntersect(leftIntersectRight, right_0);
    }
  }
  var wrapper = normalizeListTypes(this, left_0, right_0);
  var intersect = this.objectFactory.g7o().f67(listOf([wrapper.t97_1, wrapper.u97_1]));
  this.resolveNaryCall('System', 'Intersect', intersect);
  return intersect;
};
protoOf(LibraryBuilder).resolveExcept = function (left, right) {
  var wrapper = normalizeListTypes(this, left, right);
  var except = this.objectFactory.n7p().f67(listOf([wrapper.t97_1, wrapper.u97_1]));
  this.resolveNaryCall('System', 'Except', except);
  return except;
};
protoOf(LibraryBuilder).m8w = function (left, right) {
  var tmp;
  if (right instanceof ValueSetRef) {
    tmp = true;
  } else {
    tmp = (this.isCompatibleWith('1.5') && ensureNotNull(Trackable_getInstance().n8v(right)).z5z(ensureNotNull(this.l8w('System', 'ValueSet'))) && !equals(Trackable_getInstance().n8v(right), this.l8w('System', 'Any')));
  }
  if (tmp) {
    var tmp_0 = Trackable_getInstance().n8v(left);
    if (tmp_0 instanceof ListType) {
      var tmp_1 = this.objectFactory.w7o().q6a(left);
      var tmp_2;
      if (right instanceof ValueSetRef) {
        tmp_2 = right;
      } else {
        tmp_2 = null;
      }
      var tmp_3 = tmp_1.c6b(tmp_2);
      var tmp_4;
      if (right instanceof ValueSetRef) {
        tmp_4 = null;
      } else {
        tmp_4 = right;
      }
      var anyIn = tmp_3.d6b(tmp_4);
      this.resolveCall('System', 'AnyInValueSet', new AnyInValueSetInvocation(anyIn));
      return anyIn;
    }
    var tmp_5 = this.objectFactory.v7o().o71(left);
    var tmp_6;
    if (right instanceof ValueSetRef) {
      tmp_6 = right;
    } else {
      tmp_6 = null;
    }
    var tmp_7 = tmp_5.c6b(tmp_6);
    var tmp_8;
    if (right instanceof ValueSetRef) {
      tmp_8 = null;
    } else {
      tmp_8 = right;
    }
    var inValueSet = tmp_7.d6b(tmp_8);
    this.resolveCall('System', 'InValueSet', new InValueSetInvocation(inValueSet));
    return inValueSet;
  }
  var tmp_9;
  if (right instanceof CodeSystemRef) {
    tmp_9 = true;
  } else {
    tmp_9 = (this.isCompatibleWith('1.5') && ensureNotNull(Trackable_getInstance().n8v(right)).z5z(ensureNotNull(this.l8w('System', 'CodeSystem'))) && !equals(Trackable_getInstance().n8v(right), this.l8w('System', 'Any')));
  }
  if (tmp_9) {
    var tmp_10 = Trackable_getInstance().n8v(left);
    if (tmp_10 instanceof ListType) {
      var tmp_11 = this.objectFactory.r7n().q6a(left);
      var tmp_12;
      if (right instanceof CodeSystemRef) {
        tmp_12 = right;
      } else {
        tmp_12 = null;
      }
      var tmp_13 = tmp_11.r6a(tmp_12);
      var tmp_14;
      if (right instanceof CodeSystemRef) {
        tmp_14 = null;
      } else {
        tmp_14 = right;
      }
      var anyIn_0 = tmp_13.s6a(tmp_14);
      this.resolveCall('System', 'AnyInCodeSystem', new AnyInCodeSystemInvocation(anyIn_0));
      return anyIn_0;
    }
    var tmp_15 = this.objectFactory.m7p().o71(left);
    var tmp_16;
    if (right instanceof CodeSystemRef) {
      tmp_16 = right;
    } else {
      tmp_16 = null;
    }
    var tmp_17 = tmp_15.r6a(tmp_16);
    var tmp_18;
    if (right instanceof CodeSystemRef) {
      tmp_18 = null;
    } else {
      tmp_18 = right;
    }
    var inCodeSystem = tmp_17.s6a(tmp_18);
    this.resolveCall('System', 'InCodeSystem', new InCodeSystemInvocation(inCodeSystem));
    return inCodeSystem;
  }
  var inExpression = this.objectFactory.e7n().f67(listOf([left, right]));
  this.o8w('System', 'In', inExpression);
  return inExpression;
};
protoOf(LibraryBuilder).n8w = function (left, right) {
  var contains = this.objectFactory.q7i().f67(listOf([left, right]));
  this.o8w('System', 'Contains', contains);
  return contains;
};
protoOf(LibraryBuilder).l91 = function (left, right, dateTimePrecision) {
  var result = resolveInInvocation(this, left, right, dateTimePrecision);
  return result == null ? null : result.l5w();
};
protoOf(LibraryBuilder).resolveProperIn = function (left, right, dateTimePrecision) {
  var result = resolveProperInInvocation(this, left, right, dateTimePrecision);
  return result == null ? null : result.l5w();
};
protoOf(LibraryBuilder).k91 = function (left, right, dateTimePrecision) {
  var result = resolveContainsInvocation(this, left, right, dateTimePrecision);
  return result == null ? null : result.l5w();
};
protoOf(LibraryBuilder).resolveProperContains = function (left, right, dateTimePrecision) {
  var result = resolveProperContainsInvocation(this, left, right, dateTimePrecision);
  return result == null ? null : result.l5w();
};
protoOf(LibraryBuilder).resolveIncludes = function (left, right, dateTimePrecision) {
  var includes = this.objectFactory.u7p().f67(listOf([left, right])).e6e(dateTimePrecision);
  var includesInvocation = this.resolveBinaryInvocation('System', 'Includes', includes, false, false);
  var contains = this.objectFactory.q7i().f67(listOf([left, right])).e6e(dateTimePrecision);
  var containsInvocation = this.resolveBinaryInvocation('System', 'Contains', contains, false, false);
  var tmp0_elvis_lhs = lowestScoringInvocation(this, includesInvocation, containsInvocation);
  return tmp0_elvis_lhs == null ? this.o8w('System', 'Includes', includes) : tmp0_elvis_lhs;
};
protoOf(LibraryBuilder).resolveProperIncludes = function (left, right, dateTimePrecision) {
  var properIncludes = this.objectFactory.j7i().f67(listOf([left, right])).e6e(dateTimePrecision);
  var properIncludesInvocation = this.resolveBinaryInvocation('System', 'ProperIncludes', properIncludes, false, false);
  var properContains = this.objectFactory.m7k().f67(listOf([left, right])).e6e(dateTimePrecision);
  var properContainsInvocation = this.resolveBinaryInvocation('System', 'ProperContains', properContains, false, false);
  var tmp0_elvis_lhs = lowestScoringInvocation(this, properIncludesInvocation, properContainsInvocation);
  return tmp0_elvis_lhs == null ? this.o8w('System', 'ProperIncludes', properIncludes) : tmp0_elvis_lhs;
};
protoOf(LibraryBuilder).resolveIncludedIn = function (left, right, dateTimePrecision) {
  var includedIn = this.objectFactory.q7p().f67(listOf([left, right])).e6e(dateTimePrecision);
  var includedInInvocation = this.resolveBinaryInvocation('System', 'IncludedIn', includedIn, false, false);
  var inExpression = this.objectFactory.e7n().f67(listOf([left, right])).e6e(dateTimePrecision);
  var inInvocation = this.resolveBinaryInvocation('System', 'In', inExpression, false, false);
  var tmp0_elvis_lhs = lowestScoringInvocation(this, includedInInvocation, inInvocation);
  return tmp0_elvis_lhs == null ? this.o8w('System', 'IncludedIn', includedIn) : tmp0_elvis_lhs;
};
protoOf(LibraryBuilder).resolveProperIncludedIn = function (left, right, dateTimePrecision) {
  var properIncludedIn = this.objectFactory.y7l().f67(listOf([left, right])).e6e(dateTimePrecision);
  var properIncludedInInvocation = this.resolveBinaryInvocation('System', 'ProperIncludedIn', properIncludedIn, false, false);
  var properIn = this.objectFactory.u7h().f67(listOf([left, right])).e6e(dateTimePrecision);
  var properInInvocation = this.resolveBinaryInvocation('System', 'ProperIn', properIn, false, false);
  var tmp0_elvis_lhs = lowestScoringInvocation(this, properIncludedInInvocation, properInInvocation);
  return tmp0_elvis_lhs == null ? this.o8w('System', 'ProperIncludedIn', properIncludedIn) : tmp0_elvis_lhs;
};
protoOf(LibraryBuilder).resolveCall = function (libraryName, operatorName, invocation) {
  return resolveCall_0(this, libraryName, operatorName, invocation, true, false, false);
};
protoOf(LibraryBuilder).e9b = function (libraryName, operatorName, invocation, allowPromotionAndDemotion, allowFluent) {
  return this.a98(libraryName, operatorName, invocation, true, allowPromotionAndDemotion, allowFluent);
};
protoOf(LibraryBuilder).a98 = function (libraryName, operatorName, invocation, mustResolve, allowPromotionAndDemotion, allowFluent) {
  var operands = invocation.f9b();
  var callContext = buildCallContext(this, libraryName, operatorName, operands, mustResolve, allowPromotionAndDemotion, allowFluent);
  var resolution = resolveCall_1(this, callContext);
  if (resolution == null && !mustResolve) {
    return null;
  }
  checkOperator(this, callContext, resolution);
  var convertedOperands = ArrayList_init_$Create$();
  var operandIterator = operands.g();
  var signatureTypes = ensureNotNull(resolution).t92_1.y8w_1.h8z_1.g();
  var conversionIterator = resolution.g9b() ? resolution.u92_1.g() : null;
  while (operandIterator.h()) {
    var operand = operandIterator.i();
    var conversion = conversionIterator == null ? null : conversionIterator.i();
    if (!(conversion == null)) {
      operand = this.e91(operand, conversion);
    }
    var signatureType = signatureTypes.i();
    operand = pruneChoices(this, operand, signatureType);
    convertedOperands.e(operand);
  }
  invocation.h9b(convertedOperands);
  if (this.e8w_1.signatureLevel.equals(SignatureLevel_All_getInstance()) || (this.e8w_1.signatureLevel.equals(SignatureLevel_Differing_getInstance()) && !resolution.t92_1.y8w_1.equals(callContext.g98_1)) || (this.e8w_1.signatureLevel.equals(SignatureLevel_Overloads_getInstance()) && resolution.z92_1)) {
    invocation.i9b(dataTypesToTypeSpecifiers(this, resolution.t92_1.y8w_1.h8z_1));
  } else if (resolution.z92_1 && !(resolution.t92_1.e8x_1 === 'System')) {
    reportWarning(this, replace(trimIndent('\n                    The function ' + resolution.t92_1.e8x_1 + '.' + resolution.t92_1.x8w_1 + ' has multiple overloads\n                    and due to the SignatureLevel setting (' + this.e8w_1.signatureLevel.x2_1 + '),\n                    the overload signature is not being included in the output.\n                    This may result in ambiguous function resolution\n                    at runtime, consider setting the SignatureLevel to Overloads or All\n                    to ensure that the output includes sufficient\n                    information to support correct overload selection at runtime.\n                '), '\n', ' '), invocation.l5w());
  }
  invocation.c93(resolution.t92_1.z8w_1);
  if (!(resolution.x92_1 == null)) {
    resolution.y92_1 = resolveIncludeAlias(this, ensureNotNull(resolution.x92_1));
  }
  invocation.j9b(resolution);
  return invocation;
};
protoOf(LibraryBuilder).resolveInvocation$default = function (libraryName, operatorName, invocation, mustResolve, allowPromotionAndDemotion, allowFluent, $super) {
  mustResolve = mustResolve === VOID ? true : mustResolve;
  allowPromotionAndDemotion = allowPromotionAndDemotion === VOID ? false : allowPromotionAndDemotion;
  allowFluent = allowFluent === VOID ? false : allowFluent;
  return $super === VOID ? this.a98(libraryName, operatorName, invocation, mustResolve, allowPromotionAndDemotion, allowFluent) : $super.a98.call(this, libraryName, operatorName, invocation, mustResolve, allowPromotionAndDemotion, allowFluent);
};
protoOf(LibraryBuilder).resolveFunctionDefinition = function (fd) {
  var libraryName = ensureNotNull(this.compiledLibrary.j8z_1).b8i_1;
  var operatorName = fd.c6w_1;
  var dataTypes = ArrayList_init_$Create$();
  var _iterator__ex2g4s = fd.o67().g();
  while (_iterator__ex2g4s.h()) {
    var operand = _iterator__ex2g4s.i();
    var tmp0 = Trackable_getInstance().n8v(operand);
    $l$block: {
      // Inline function 'kotlin.requireNotNull' call
      if (tmp0 == null) {
        var message = 'Could not determine signature for invocation of operator ' + (libraryName == null ? '' : '' + libraryName + '.') + operatorName + '.';
        throw IllegalArgumentException_init_$Create$(toString(message));
      } else {
        break $l$block;
      }
    }
    dataTypes.e(ensureNotNull(Trackable_getInstance().n8v(operand)));
  }
  var callContext = new CallContext(ensureNotNull(this.compiledLibrary.j8z_1).b8i_1, ensureNotNull(fd.c6w_1), false, !(fd.k6y_1 == null) && ensureNotNull(fd.k6y_1), false, dataTypes);
  var tmp0_safe_receiver = this.compiledLibrary.h98(callContext, this.conversionMap);
  return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.t92_1;
};
protoOf(LibraryBuilder).checkAccessLevel = function (libraryName, objectName, accessModifier) {
  if (accessModifier.equals(AccessModifier_PRIVATE_getInstance()) && isInterFunctionAccess(this, ensureNotNull(ensureNotNull(this.library.o79_1).b8i_1), libraryName)) {
    throw CqlSemanticException_init_$Create$('Identifier ' + objectName + ' in library ' + libraryName + ' is marked private and cannot be referenced from another library.');
  }
};
protoOf(LibraryBuilder).f91 = function (libraryName, functionName, paramList) {
  var tmp0_safe_receiver = this.p8y(libraryName, functionName, paramList, true, false, false);
  return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l5w();
};
protoOf(LibraryBuilder).p8y = function (libraryName, functionName, paramList, mustResolve, allowPromotionAndDemotion, allowFluent) {
  var functionRef = buildFunctionRef(this, libraryName, functionName, paramList);
  var invocation = new FunctionRefInvocation(ensureNotNull(functionRef));
  var tmp = resolveCall_0(this, functionRef.n6w_1, ensureNotNull(functionRef.m6w_1), invocation, false, allowPromotionAndDemotion, allowFluent);
  functionRef = (tmp == null ? true : tmp instanceof FunctionRef) ? tmp : THROW_CCE();
  if (!(functionRef == null)) {
    if ('System' === ensureNotNull(invocation.s92()).t92_1.e8x_1) {
      var systemFun = buildFunctionRef(this, libraryName, functionName, paramList);
      var systemFunctionInvocation = this.s8v_1.m9b(systemFun);
      if (!(systemFunctionInvocation == null)) {
        return systemFunctionInvocation;
      }
    } else {
      if (mustResolve) {
        this.checkLiteralContext();
      }
    }
  }
  if (functionRef == null) {
    functionRef = buildFunctionRef(this, libraryName, functionName, paramList);
    invocation = new FunctionRefInvocation(functionRef);
    if (!allowFluent) {
      var systemFunction = this.s8v_1.m9b(functionRef);
      if (!(systemFunction == null)) {
        return systemFunction;
      }
      this.checkLiteralContext();
    }
    var tmp_0 = resolveCall_0(this, functionRef.n6w_1, ensureNotNull(functionRef.m6w_1), invocation, mustResolve, allowPromotionAndDemotion, allowFluent);
    functionRef = (tmp_0 == null ? true : tmp_0 instanceof FunctionRef) ? tmp_0 : THROW_CCE();
    if (functionRef == null) {
      return null;
    }
  }
  return invocation;
};
protoOf(LibraryBuilder).verifyComparable = function (dataType) {
  var tmp = Trackable_getInstance().h90(this.objectFactory.j7k(), dataType);
  var left = tmp instanceof Expression ? tmp : THROW_CCE();
  var tmp_0 = Trackable_getInstance().h90(this.objectFactory.j7k(), dataType);
  var right = tmp_0 instanceof Expression ? tmp_0 : THROW_CCE();
  var comparison = this.objectFactory.p7o().f67(listOf([left, right]));
  this.o8w('System', 'Less', comparison);
};
protoOf(LibraryBuilder).n9b = function (expression, targetType, implicit) {
  var conversion = this.findConversion(ensureNotNull(Trackable_getInstance().n8v(expression)), targetType, implicit, false);
  if (!(conversion == null)) {
    return this.e91(expression, conversion);
  }
  DataTypes_instance.n91(Trackable_getInstance().n8v(expression), targetType);
  return expression;
};
protoOf(LibraryBuilder).convertExpression$default = function (expression, targetType, implicit, $super) {
  implicit = implicit === VOID ? true : implicit;
  return $super === VOID ? this.n9b(expression, targetType, implicit) : $super.n9b.call(this, expression, targetType, implicit);
};
protoOf(LibraryBuilder).resolveToList = function (expression) {
  var toList = this.objectFactory.h7j().a6c(expression);
  Trackable_getInstance().o8v(toList, new ListType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(expression)))));
  return toList;
};
protoOf(LibraryBuilder).buildAs = function (expression, asType) {
  var result = Trackable_getInstance().h90(this.objectFactory.j7j().a6c(expression), asType);
  var tmp = Trackable_getInstance().n8v(result);
  if (!(tmp == null) ? isInterface(tmp, NamedType) : false) {
    result.t6b_1 = this.dataTypeToQName(Trackable_getInstance().n8v(result));
  } else {
    result.v6b_1 = this.dataTypeToTypeSpecifier(Trackable_getInstance().n8v(result));
  }
  return result;
};
protoOf(LibraryBuilder).buildIs = function (expression, isType) {
  var result = Trackable_getInstance().h90(this.objectFactory.g7n().a6c(expression), this.l8w('System', 'Boolean'));
  if (!(isType == null) ? isInterface(isType, NamedType) : false) {
    result.z75_1 = this.dataTypeToQName(isType);
  } else {
    result.a76_1 = this.dataTypeToTypeSpecifier(isType);
  }
  return result;
};
protoOf(LibraryBuilder).buildNull = function (nullType) {
  var result = Trackable_getInstance().h90(this.objectFactory.a7o(), nullType);
  if (!(nullType == null) ? isInterface(nullType, NamedType) : false) {
    result.c66_1 = this.dataTypeToQName(nullType);
  } else {
    result.e66_1 = this.dataTypeToTypeSpecifier(nullType);
  }
  return result;
};
protoOf(LibraryBuilder).buildMinimum = function (dataType) {
  var minimum = this.objectFactory.l7o();
  minimum.z7e_1 = this.dataTypeToQName(dataType);
  Trackable_getInstance().o8v(minimum, dataType);
  return minimum;
};
protoOf(LibraryBuilder).buildMaximum = function (dataType) {
  var maximum = this.objectFactory.q7m();
  maximum.s7c_1 = this.dataTypeToQName(dataType);
  Trackable_getInstance().o8v(maximum, dataType);
  return maximum;
};
protoOf(LibraryBuilder).buildPredecessor = function (source) {
  var result = this.objectFactory.z7i().a6c(source);
  this.resolveUnaryCall('System', 'Predecessor', result);
  return result;
};
protoOf(LibraryBuilder).buildSuccessor = function (source) {
  var result = this.objectFactory.h7l().a6c(source);
  this.resolveUnaryCall('System', 'Successor', result);
  return result;
};
protoOf(LibraryBuilder).e91 = function (expression, conversion) {
  if (conversion.o98_1 && (conversion.i98_1.y5z(conversion.j98_1) || conversion.i98_1.z5z(conversion.j98_1))) {
    var tmp;
    var tmp_0 = conversion.i98_1;
    if (tmp_0 instanceof ChoiceType) {
      var tmp_1 = conversion.j98_1;
      tmp = tmp_1 instanceof ChoiceType;
    } else {
      tmp = false;
    }
    if (tmp) {
      if (conversion.i98_1.g60(conversion.j98_1)) {
        return expression;
      }
    }
    var castedOperand = this.buildAs(expression, conversion.j98_1);
    return collapseTypeCase(this, castedOperand);
  } else if (conversion.o98_1 && !(conversion.l98_1 == null) && (conversion.i98_1.y5z(conversion.l98_1.i98_1) || conversion.i98_1.z5z(conversion.l98_1.i98_1))) {
    var castedOperand_0 = this.buildAs(expression, conversion.l98_1.i98_1);
    var result = this.e91(castedOperand_0, conversion.l98_1);
    if (conversion.p9b()) {
      var caseResult = this.objectFactory.i7n();
      Trackable_getInstance().o8v(caseResult, Trackable_getInstance().n8v(result));
      caseResult.l6f().e(this.objectFactory.m7o().u6f(this.buildIs(expression, conversion.l98_1.i98_1)).v6f(result));
      var _iterator__ex2g4s = conversion.o9b().g();
      while (_iterator__ex2g4s.h()) {
        var alternative = _iterator__ex2g4s.i();
        caseResult.l6f().e(this.objectFactory.m7o().u6f(this.buildIs(expression, alternative.i98_1)).v6f(this.e91(this.buildAs(expression, alternative.i98_1), alternative)));
      }
      caseResult.m6f(this.buildNull(Trackable_getInstance().n8v(result)));
      result = caseResult;
    }
    return result;
  } else if (conversion.p98_1) {
    return convertListExpression(this, expression, conversion);
  } else if (conversion.r98_1) {
    return demoteListExpression(this, expression, conversion);
  } else if (conversion.q98_1) {
    return promoteListExpression(this, expression, conversion);
  } else if (conversion.s98_1) {
    return convertIntervalExpression(this, expression, conversion);
  } else if (conversion.u98_1) {
    return demoteIntervalExpression(this, expression, conversion);
  } else if (conversion.t98_1) {
    return promoteIntervalExpression(this, expression, conversion);
  } else if (!(conversion.m98_1 == null)) {
    var functionRef = this.objectFactory.w7h().t6i(conversion.m98_1.e8x_1).q65(conversion.m98_1.x8w_1).f67(listOf_0(expression));
    var systemFunctionInvocation = this.s8v_1.m9b(functionRef);
    if (!(systemFunctionInvocation == null)) {
      return systemFunctionInvocation.l5w();
    }
    resolveCall(this, functionRef.n6w_1, ensureNotNull(functionRef.m6w_1), new FunctionRefInvocation(functionRef), false, false);
    return functionRef;
  } else {
    if (equals(conversion.j98_1, this.l8w('System', 'Boolean'))) {
      return Trackable_getInstance().h90(this.objectFactory.n7m().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Integer'))) {
      return Trackable_getInstance().h90(this.objectFactory.o7m().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Long'))) {
      return Trackable_getInstance().h90(this.objectFactory.y7h().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Decimal'))) {
      return Trackable_getInstance().h90(this.objectFactory.q7h().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'String'))) {
      return Trackable_getInstance().h90(this.objectFactory.x7n().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Date'))) {
      return Trackable_getInstance().h90(this.objectFactory.w7n().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'DateTime'))) {
      return Trackable_getInstance().h90(this.objectFactory.r7m().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Time'))) {
      return Trackable_getInstance().h90(this.objectFactory.h7o().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Quantity'))) {
      return Trackable_getInstance().h90(this.objectFactory.h7n().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Ratio'))) {
      return Trackable_getInstance().h90(this.objectFactory.i7o().a6c(expression), conversion.j98_1);
    } else if (equals(conversion.j98_1, this.l8w('System', 'Concept'))) {
      return Trackable_getInstance().h90(this.objectFactory.u7o().a6c(expression), conversion.j98_1);
    } else {
      var convertedOperand = Trackable_getInstance().h90(this.objectFactory.n7j().a6c(expression), conversion.j98_1);
      var tmp_2 = Trackable_getInstance().n8v(convertedOperand);
      if (!(tmp_2 == null) ? isInterface(tmp_2, NamedType) : false) {
        convertedOperand.b6m_1 = this.dataTypeToQName(Trackable_getInstance().n8v(convertedOperand));
      } else {
        convertedOperand.c6m_1 = this.dataTypeToTypeSpecifier(Trackable_getInstance().n8v(convertedOperand));
      }
      return convertedOperand;
    }
  }
};
protoOf(LibraryBuilder).verifyType = function (actualType, expectedType) {
  if (expectedType.y5z(actualType) || actualType.z5z(expectedType)) {
    return Unit_instance;
  }
  var conversion = this.findConversion(actualType, expectedType, true, false);
  if (!(conversion == null)) {
    return Unit_instance;
  }
  DataTypes_instance.n91(actualType, expectedType);
};
protoOf(LibraryBuilder).findCompatibleType = function (first, second) {
  if (first == null || second == null) {
    return null;
  }
  if (equals(first, Companion_getInstance_1().v5z_1)) {
    return second;
  }
  if (equals(second, Companion_getInstance_1().v5z_1)) {
    return first;
  }
  if (first.y5z(second) || second.z5z(first)) {
    return first;
  }
  if (second.y5z(first) || first.z5z(second)) {
    return second;
  }
  var tmp;
  if (first instanceof ChoiceType) {
    tmp = true;
  } else {
    tmp = second instanceof ChoiceType;
  }
  if (!tmp) {
    var conversion = this.findConversion(second, first, true, false);
    if (!(conversion == null)) {
      return first;
    }
    conversion = this.findConversion(first, second, true, false);
    if (!(conversion == null)) {
      return second;
    }
  }
  return null;
};
protoOf(LibraryBuilder).ensureCompatibleTypes = function (first, second) {
  var compatibleType = this.findCompatibleType(first, second);
  if (!(compatibleType == null)) {
    return compatibleType;
  }
  if (!(first == null) && !second.x5z(first)) {
    return ChoiceType_init_$Create$_0([first, second]);
  }
  DataTypes_instance.n91(second, first);
  return first;
};
protoOf(LibraryBuilder).ensureCompatible = function (expression, targetType) {
  if (targetType == null) {
    return this.objectFactory.a7o();
  }
  var tmp;
  if (!targetType.y5z(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(expression))))) {
    tmp = this.n9b(expression, targetType, true);
  } else {
    tmp = expression;
  }
  return tmp;
};
protoOf(LibraryBuilder).enforceCompatible = function (expression, targetType) {
  if (targetType == null) {
    return this.objectFactory.a7o();
  }
  var tmp;
  if (!targetType.y5z(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(expression))))) {
    tmp = this.n9b(expression, targetType, false);
  } else {
    tmp = expression;
  }
  return tmp;
};
protoOf(LibraryBuilder).z90 = function (string) {
  return createLiteral(this, string, 'String');
};
protoOf(LibraryBuilder).f8x = function (bool) {
  return createLiteral(this, bool.toString(), 'Boolean');
};
protoOf(LibraryBuilder).j8w = function (integer) {
  return createLiteral(this, integer.toString(), 'Integer');
};
protoOf(LibraryBuilder).k8w = function (value) {
  return createLiteral(this, value.toString(), 'Decimal');
};
protoOf(LibraryBuilder).createNumberLiteral = function (value) {
  var resultType = this.l8w('System', contains_0(value, '.') ? 'Decimal' : 'Integer');
  var result = this.objectFactory.j7k().r65(value).v7a(this.dataTypeToQName(resultType));
  Trackable_getInstance().o8v(result, resultType);
  return result;
};
protoOf(LibraryBuilder).createLongNumberLiteral = function (value) {
  var resultType = this.l8w('System', 'Long');
  var result = this.objectFactory.j7k().r65(value).v7a(this.dataTypeToQName(resultType));
  Trackable_getInstance().o8v(result, resultType);
  return result;
};
protoOf(LibraryBuilder).ensureUcumUnit = function (unit) {
  switch (unit) {
    case 'year':
    case 'years':
      return 'a';
    case 'month':
    case 'months':
      return 'mo';
    case 'week':
    case 'weeks':
      return 'wk';
    case 'day':
    case 'days':
      return 'd';
    case 'hour':
    case 'hours':
      return 'h';
    case 'minute':
    case 'minutes':
      return 'min';
    case 'second':
    case 'seconds':
      return 's';
    case 'millisecond':
    case 'milliseconds':
      return 'ms';
    default:
      validateUcumUnit(this, unit);
      break;
  }
  return unit;
};
protoOf(LibraryBuilder).createQuantity = function (value, unit) {
  validateUnit(this, unit);
  var result = this.objectFactory.g7q().x7x(value).y7x(unit);
  var resultType = this.l8w('System', 'Quantity');
  Trackable_getInstance().o8v(result, resultType);
  return result;
};
protoOf(LibraryBuilder).createRatio = function (numerator, denominator) {
  var result = this.objectFactory.o7n().k7z(numerator).l7z(denominator);
  var resultType = this.l8w('System', 'Ratio');
  Trackable_getInstance().o8v(result, resultType);
  return result;
};
protoOf(LibraryBuilder).createInterval = function (low, lowClosed, high, highClosed) {
  var result = this.objectFactory.a7n().h75(low).f75(lowClosed).j75(high).g75(highClosed);
  var pointType = this.ensureCompatibleTypes(Trackable_getInstance().n8v(ensureNotNull(result.x74_1)), ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(result.z74_1))));
  Trackable_getInstance().o8v(result, new IntervalType(ensureNotNull(pointType)));
  result.x74_1 = this.ensureCompatible(result.x74_1, pointType);
  result.z74_1 = this.ensureCompatible(result.z74_1, pointType);
  return result;
};
protoOf(LibraryBuilder).dataTypeToQName = function (type) {
  return this.g8w_1.q9b(type);
};
protoOf(LibraryBuilder).dataTypeToTypeSpecifier = function (type) {
  return this.g8w_1.r9b(type);
};
protoOf(LibraryBuilder).resolvePath = function (sourceType, path) {
  var sourceType_0 = sourceType;
  // Inline function 'kotlin.text.toRegex' call
  // Inline function 'kotlin.text.split' call
  var tmp0 = Regex_init_$Create$('\\.').wd(path, 0);
  var tmp$ret$4;
  $l$block: {
    // Inline function 'kotlin.collections.dropLastWhile' call
    if (!tmp0.q()) {
      var iterator = tmp0.c2(tmp0.j());
      while (iterator.v5()) {
        // Inline function 'kotlin.text.isEmpty' call
        var this_0 = iterator.x5();
        if (!(charSequenceLength(this_0) === 0)) {
          tmp$ret$4 = take(tmp0, iterator.w5() + 1 | 0);
          break $l$block;
        }
      }
    }
    tmp$ret$4 = emptyList();
  }
  // Inline function 'kotlin.collections.toTypedArray' call
  var this_1 = tmp$ret$4;
  var identifiers = copyToArray(this_1);
  var inductionVariable = 0;
  var last = identifiers.length - 1 | 0;
  if (inductionVariable <= last)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var resolution = this.resolveProperty(sourceType_0, identifiers[i]);
      sourceType_0 = ensureNotNull(resolution).a91_1;
    }
     while (inductionVariable <= last);
  return sourceType_0;
};
protoOf(LibraryBuilder).s9b = function (sourceType, identifier, mustResolve) {
  var currentType = sourceType;
  $l$loop: while (!(currentType == null)) {
    if (currentType instanceof ClassType) {
      var classType = currentType;
      if (startsWith(identifier, '?') && this.isCompatibleWith('1.5')) {
        var searchPath = substring(identifier, 1);
        var _iterator__ex2g4s = classType.s61().g();
        while (_iterator__ex2g4s.h()) {
          var s = _iterator__ex2g4s.i();
          if (s.e63_1 === searchPath) {
            return PropertyResolution_init_$Create$_1(s);
          }
        }
      } else {
        var _iterator__ex2g4s_0 = classType.k60_1.g();
        while (_iterator__ex2g4s_0.h()) {
          var e = _iterator__ex2g4s_0.i();
          if (e.x60_1 === identifier) {
            // Inline function 'kotlin.require' call
            if (!!e.z60_1) {
              var message = 'Element ' + e.x60_1 + ' cannot be referenced because it is marked prohibited in type ' + (currentType instanceof ClassType ? currentType : THROW_CCE()).j60_1 + '.';
              throw IllegalArgumentException_init_$Create$(toString(message));
            }
            return PropertyResolution_init_$Create$(e);
          }
        }
      }
    } else {
      if (currentType instanceof TupleType) {
        var _iterator__ex2g4s_1 = currentType.r63_1.g();
        while (_iterator__ex2g4s_1.h()) {
          var e_0 = _iterator__ex2g4s_1.i();
          if (e_0.i61_1 === identifier) {
            return PropertyResolution_init_$Create$_0(e_0);
          }
        }
      } else {
        if (currentType instanceof IntervalType) {
          var tmp;
          switch (identifier) {
            case 'low':
            case 'high':
              tmp = PropertyResolution_init_$Create$_2(currentType.g61_1, identifier);
              break;
            case 'lowClosed':
            case 'highClosed':
              tmp = PropertyResolution_init_$Create$_2(ensureNotNull(this.l8w('System', 'Boolean')), identifier);
              break;
            default:
              throw IllegalArgumentException_init_$Create$('Invalid interval property name ' + identifier + '.');
          }
          return tmp;
        } else {
          if (currentType instanceof ChoiceType) {
            var resultTypes = HashSet_init_$Create$();
            var resultTargetMaps = HashMap_init_$Create$();
            var name = null;
            var _iterator__ex2g4s_2 = currentType.b60_1.g();
            while (_iterator__ex2g4s_2.h()) {
              var choice = _iterator__ex2g4s_2.i();
              var resolution = this.resolveProperty(choice, identifier, false);
              if (!(resolution == null)) {
                resultTypes.e(resolution.a91_1);
                if (!(resolution.c91_1 == null)) {
                  if (resultTargetMaps.o2(resolution.a91_1)) {
                    // Inline function 'kotlin.require' call
                    if (!(resultTargetMaps.q2(resolution.a91_1) == resolution.c91_1)) {
                      var message_0 = 'Inconsistent target maps ' + resultTargetMaps.q2(resolution.a91_1) + ' and ' + resolution.c91_1 + ' for choice type ' + toString(resolution.a91_1);
                      throw IllegalArgumentException_init_$Create$(toString(message_0));
                    }
                  } else {
                    var tmp2 = resolution.a91_1;
                    // Inline function 'kotlin.collections.set' call
                    var value = resolution.c91_1;
                    resultTargetMaps.u2(tmp2, value);
                  }
                }
                if (name == null) {
                  name = resolution.b91_1;
                } else {
                  // Inline function 'kotlin.require' call
                  if (!(name === resolution.b91_1)) {
                    var message_1 = 'Inconsistent property resolution for choice type ' + toString(choice) + ' (was ' + name + ', is ' + resolution.b91_1 + ')';
                    throw IllegalArgumentException_init_$Create$(toString(message_1));
                  }
                }
              }
            }
            if (resultTypes.j() > 1) {
              return PropertyResolution_init_$Create$_2(ChoiceType_init_$Create$(resultTypes), ensureNotNull(name), resultTargetMaps);
            }
            if (resultTypes.j() === 1) {
              return PropertyResolution_init_$Create$_2(resultTypes.g().i(), ensureNotNull(name), resultTargetMaps);
            }
          } else {
            var tmp_0;
            if (currentType instanceof ListType) {
              tmp_0 = this.d8w_1;
            } else {
              tmp_0 = false;
            }
            if (tmp_0) {
              var resolution_0 = this.resolveProperty(currentType.d61_1, identifier);
              return PropertyResolution_init_$Create$_2(new ListType(ensureNotNull(resolution_0).a91_1), ensureNotNull(resolution_0.c91_1));
            }
          }
        }
      }
    }
    if (!equals(currentType.u5z(), Companion_getInstance_1().v5z_1)) {
      currentType = currentType.u5z();
    } else {
      break $l$loop;
    }
  }
  // Inline function 'kotlin.require' call
  if (!!mustResolve) {
    var message_2 = 'Member ' + identifier + ' not found for type ' + (sourceType == null ? null : sourceType.w5z()) + '.';
    throw IllegalArgumentException_init_$Create$(toString(message_2));
  }
  return null;
};
protoOf(LibraryBuilder).resolveProperty = function (sourceType, identifier, mustResolve, $super) {
  mustResolve = mustResolve === VOID ? true : mustResolve;
  return $super === VOID ? this.s9b(sourceType, identifier, mustResolve) : $super.s9b.call(this, sourceType, identifier, mustResolve);
};
protoOf(LibraryBuilder).resolveIdentifier = function (identifier, mustResolve) {
  if (inTypeSpecifierContext(this)) {
    return this.z90(identifier);
  }
  var resultElement = resolveQueryResultElement(this, identifier);
  if (!(resultElement == null)) {
    return resultElement;
  }
  var thisElement = resolveQueryThisElement(this, identifier);
  if (!(thisElement == null)) {
    return thisElement;
  }
  if (identifier === '$index') {
    var result = this.objectFactory.d7l();
    Trackable_getInstance().o8v(result, this.l8w('System', 'Integer'));
    return result;
  }
  if (identifier === '$total') {
    var result_0 = this.objectFactory.m7q();
    Trackable_getInstance().o8v(result_0, this.l8w('System', 'Decimal'));
    return result_0;
  }
  var alias = resolveAlias(this, identifier);
  if (!(alias == null)) {
    var result_1 = this.objectFactory.g7j().q65(identifier);
    var tmp = Trackable_getInstance().n8v(alias);
    if (tmp instanceof ListType) {
      var tmp_0 = Trackable_getInstance();
      var tmp_1 = Trackable_getInstance().n8v(alias);
      tmp_0.o8v(result_1, (tmp_1 instanceof ListType ? tmp_1 : THROW_CCE()).d61_1);
    } else {
      Trackable_getInstance().o8v(result_1, Trackable_getInstance().n8v(alias));
    }
    return result_1;
  }
  var let_0 = resolveQueryLet(this, identifier);
  if (!(let_0 == null)) {
    var result_2 = this.objectFactory.t7i().q65(identifier);
    Trackable_getInstance().o8v(result_2, Trackable_getInstance().n8v(let_0));
    return result_2;
  }
  var operandRef = resolveOperandRef(this, identifier);
  if (!(operandRef == null)) {
    return operandRef;
  }
  var resolvedIdentifierContext = this.resolve(identifier);
  var element = resolvedIdentifierContext.w9b();
  if (!(element == null)) {
    if (element instanceof ExpressionDef) {
      this.checkLiteralContext();
      var expressionRef = this.objectFactory.v7p().q65(element.c6w_1);
      Trackable_getInstance().o8v(expressionRef, getExpressionDefResultType(this, element));
      var tmp0 = Trackable_getInstance().n8v(expressionRef);
      $l$block: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0 == null) {
          var message = 'Could not validate reference to expression ' + expressionRef.m6w_1 + ' because its definition contains errors.';
          throw IllegalArgumentException_init_$Create$(toString(message));
        } else {
          break $l$block;
        }
      }
      return expressionRef;
    }
    if (element instanceof ParameterDef) {
      this.checkLiteralContext();
      var parameterRef = this.objectFactory.o7j().q65(element.y7s_1);
      Trackable_getInstance().o8v(parameterRef, Trackable_getInstance().n8v(element));
      var tmp0_0 = Trackable_getInstance().n8v(parameterRef);
      $l$block_0: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0_0 == null) {
          var message_0 = 'Could not validate reference to parameter ' + parameterRef.k7t_1 + ' because its definition contains errors.';
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        } else {
          break $l$block_0;
        }
      }
      return parameterRef;
    }
    if (element instanceof ValueSetDef) {
      this.checkLiteralContext();
      var valuesetRef = this.objectFactory.i7i().q65(element.f8h_1);
      Trackable_getInstance().o8v(valuesetRef, Trackable_getInstance().n8v(element));
      var tmp0_1 = Trackable_getInstance().n8v(valuesetRef);
      $l$block_1: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0_1 == null) {
          var message_1 = 'Could not validate reference to valueset ' + valuesetRef.q8h_1 + ' because its definition contains errors.';
          throw IllegalArgumentException_init_$Create$(toString(message_1));
        } else {
          break $l$block_1;
        }
      }
      if (this.isCompatibleWith('1.5')) {
        valuesetRef.s8h_1 = true;
      }
      return valuesetRef;
    }
    if (element instanceof CodeSystemDef) {
      this.checkLiteralContext();
      var codesystemRef = this.objectFactory.x7l().q65(element.z6i_1);
      Trackable_getInstance().o8v(codesystemRef, Trackable_getInstance().n8v(element));
      var tmp0_2 = Trackable_getInstance().n8v(codesystemRef);
      $l$block_2: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0_2 == null) {
          var message_2 = 'Could not validate reference to codesystem ' + codesystemRef.j6j_1 + ' because its definition contains errors.';
          throw IllegalArgumentException_init_$Create$(toString(message_2));
        } else {
          break $l$block_2;
        }
      }
      return codesystemRef;
    }
    if (element instanceof CodeDef) {
      this.checkLiteralContext();
      var codeRef = this.objectFactory.v7h().q65(element.t6h_1);
      Trackable_getInstance().o8v(codeRef, Trackable_getInstance().n8v(element));
      var tmp0_3 = Trackable_getInstance().n8v(codeRef);
      $l$block_3: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0_3 == null) {
          var message_3 = 'Could not validate reference to code ' + codeRef.r6i_1 + ' because its definition contains errors.';
          throw IllegalArgumentException_init_$Create$(toString(message_3));
        } else {
          break $l$block_3;
        }
      }
      return codeRef;
    }
    if (element instanceof ConceptDef) {
      this.checkLiteralContext();
      var conceptRef = this.objectFactory.c7j().q65(element.v6k_1);
      Trackable_getInstance().o8v(conceptRef, Trackable_getInstance().n8v(element));
      var tmp0_4 = Trackable_getInstance().n8v(conceptRef);
      $l$block_4: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0_4 == null) {
          var message_4 = 'Could not validate reference to concept ' + conceptRef.e6l_1 + ' because its definition contains error.';
          throw IllegalArgumentException_init_$Create$(toString(message_4));
        } else {
          break $l$block_4;
        }
      }
      return conceptRef;
    }
    if (element instanceof IncludeDef) {
      this.checkLiteralContext();
      return new LibraryRef(this.objectFactory.k8j(), element.d72_1);
    }
  }
  var parameterRef_0 = this.resolveImplicitContext();
  if (!(parameterRef_0 == null)) {
    var resolution = this.resolveProperty(Trackable_getInstance().n8v(parameterRef_0), identifier, false);
    if (!(resolution == null)) {
      var contextAccessor = this.p8w(parameterRef_0, resolution.b91_1, resolution.d91_1, resolution.a91_1);
      contextAccessor = this.applyTargetMap(contextAccessor, resolution.c91_1);
      return contextAccessor;
    }
  }
  if (mustResolve) {
    var message_5 = resolvedIdentifierContext.x9b();
    if (message_5 == null) {
      message_5 = 'Could not resolve identifier ' + identifier + ' in the current library.';
    }
    throw IllegalArgumentException_init_$Create$(message_5);
  }
  return null;
};
protoOf(LibraryBuilder).resolveImplicitContext = function () {
  if (!inLiteralContext(this) && inSpecificContext(this)) {
    var resolvedIdentifierContext = this.resolve(currentExpressionContext(this));
    var optParameterDef = resolvedIdentifierContext.y9b(getKClass(ParameterDef));
    if (!(optParameterDef == null)) {
      var contextParameter = optParameterDef;
      this.checkLiteralContext();
      var parameterRef = this.objectFactory.o7j().q65(contextParameter.y7s_1);
      Trackable_getInstance().o8v(parameterRef, Trackable_getInstance().n8v(contextParameter));
      var tmp0 = Trackable_getInstance().n8v(parameterRef);
      $l$block: {
        // Inline function 'kotlin.requireNotNull' call
        if (tmp0 == null) {
          var message = 'Could not validate reference to parameter ' + parameterRef.k7t_1 + ' because its definition contains errors.';
          throw IllegalArgumentException_init_$Create$(toString(message));
        } else {
          break $l$block;
        }
      }
      return parameterRef;
    }
  }
  return null;
};
protoOf(LibraryBuilder).p91 = function (scope, path, isSearch, resultType) {
  var tmp;
  if (isSearch) {
    var result = this.objectFactory.l7k().p7x(scope).y6c(path);
    Trackable_getInstance().o8v(result, resultType);
    tmp = result;
  } else {
    var result_0 = this.objectFactory.q7n().p7x(scope).y6c(path);
    Trackable_getInstance().o8v(result_0, resultType);
    tmp = result_0;
  }
  return tmp;
};
protoOf(LibraryBuilder).p8w = function (source, path, isSearch, resultType) {
  var tmp;
  if (isSearch) {
    var result = this.objectFactory.l7k().a6k(source).y6c(path);
    Trackable_getInstance().o8v(result, resultType);
    tmp = result;
  } else {
    var result_0 = this.objectFactory.q7n().a6k(source).y6c(path);
    Trackable_getInstance().o8v(result_0, resultType);
    tmp = result_0;
  }
  return tmp;
};
protoOf(LibraryBuilder).applyTargetMap = function (source, targetMap) {
  var targetMap_0 = targetMap;
  if (targetMap_0 == null || targetMap_0 === 'null') {
    return source;
  }
  targetMap_0 = replace(targetMap_0, '[x]', '');
  if (contains_0(targetMap_0, ';')) {
    var tmp0 = targetMap_0;
    // Inline function 'kotlin.text.toRegex' call
    // Inline function 'kotlin.text.split' call
    var tmp0_0 = Regex_init_$Create$(';').wd(tmp0, 0);
    var tmp$ret$4;
    $l$block: {
      // Inline function 'kotlin.collections.dropLastWhile' call
      if (!tmp0_0.q()) {
        var iterator = tmp0_0.c2(tmp0_0.j());
        while (iterator.v5()) {
          // Inline function 'kotlin.text.isEmpty' call
          var this_0 = iterator.x5();
          if (!(charSequenceLength(this_0) === 0)) {
            tmp$ret$4 = take(tmp0_0, iterator.w5() + 1 | 0);
            break $l$block;
          }
        }
      }
      tmp$ret$4 = emptyList();
    }
    // Inline function 'kotlin.collections.toTypedArray' call
    var this_1 = tmp$ret$4;
    var typeCases = copyToArray(this_1);
    var c = this.objectFactory.i7n();
    var inductionVariable = 0;
    var last = typeCases.length;
    while (inductionVariable < last) {
      var typeCase = typeCases[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      // Inline function 'kotlin.text.isNotEmpty' call
      if (charSequenceLength(typeCase) > 0) {
        var splitIndex = indexOf_0(typeCase, _Char___init__impl__6a9atx(58));
        // Inline function 'kotlin.require' call
        if (!(splitIndex > 0)) {
          var message = 'Malformed type case in targetMap ' + targetMap_0;
          throw IllegalArgumentException_init_$Create$(toString(message));
        }
        var typeCaseElement = substring_0(typeCase, 0, splitIndex);
        var typeCaseType = this.j90(typeCaseElement);
        var typeCaseMap = substring(typeCase, splitIndex + 1 | 0);
        var ci = this.objectFactory.m7o().u6f(this.objectFactory.g7n().a6c(this.applyTargetMap(source, typeCaseMap)).b76(this.dataTypeToQName(typeCaseType))).v6f(this.applyTargetMap(source, typeCaseMap));
        Trackable_getInstance().o8v(ensureNotNull(ci.t6f_1), typeCaseType);
        c.l6f().e(ci);
      }
    }
    var tmp;
    switch (c.l6f().j()) {
      case 0:
        tmp = this.buildNull(Trackable_getInstance().n8v(ensureNotNull(source)));
        break;
      case 1:
        tmp = c.l6f().o(0).t6f_1;
        break;
      default:
        c.k6f_1 = this.buildNull(Trackable_getInstance().n8v(ensureNotNull(source)));
        Trackable_getInstance().o8v(c, Trackable_getInstance().n8v(source));
        tmp = c;
        break;
    }
    return tmp;
  } else if (contains_0(targetMap_0, '(')) {
    var invocationStart = indexOf(targetMap_0, '(');
    var qualifiedFunctionName = substring_0(targetMap_0, 0, invocationStart);
    // Inline function 'kotlin.text.toRegex' call
    // Inline function 'kotlin.text.split' call
    var tmp0_1 = Regex_init_$Create$('\\.').wd(qualifiedFunctionName, 0);
    var tmp$ret$13;
    $l$block_0: {
      // Inline function 'kotlin.collections.dropLastWhile' call
      if (!tmp0_1.q()) {
        var iterator_0 = tmp0_1.c2(tmp0_1.j());
        while (iterator_0.v5()) {
          // Inline function 'kotlin.text.isEmpty' call
          var this_2 = iterator_0.x5();
          if (!(charSequenceLength(this_2) === 0)) {
            tmp$ret$13 = take(tmp0_1, iterator_0.w5() + 1 | 0);
            break $l$block_0;
          }
        }
      }
      tmp$ret$13 = emptyList();
    }
    // Inline function 'kotlin.collections.toTypedArray' call
    var this_3 = tmp$ret$13;
    var nameParts = copyToArray(this_3);
    var libraryName = null;
    var functionName = qualifiedFunctionName;
    if (nameParts.length === 2) {
      libraryName = nameParts[0];
      functionName = nameParts[1];
      ensureLibraryIncluded(this, libraryName, source);
    }
    var functionArgument = substring_0(targetMap_0, invocationStart + 1 | 0, lastIndexOf(targetMap_0, _Char___init__impl__6a9atx(41)));
    var argumentSource = functionArgument === '%value' ? source : this.applyTargetMap(source, functionArgument);
    var argumentSignature = null;
    if (!this.e8w_1.signatureLevel.equals(SignatureLevel_None_getInstance())) {
      if (qualifiedFunctionName === 'FHIRHelpers.ToInterval') {
        var fhirVersion = '4.0.1';
        var qiCoreModel = this.x90('QICore');
        var version = qiCoreModel.q90_1.k5x_1;
        if (version === '3.3.0') {
          fhirVersion = '4.0.0';
        } else if (startsWith(ensureNotNull(version), '3')) {
          fhirVersion = '3.0.1';
        }
        this.a8w_1.z9b('FHIR', fhirVersion);
        var namedTypeSpecifier = (new NamedTypeSpecifier()).c7g(this.dataTypeToQName(this.l8w('FHIR', 'Period')));
        argumentSignature = namedTypeSpecifier;
      }
    }
    var tmp_0 = Trackable_getInstance().n8v(ensureNotNull(argumentSource));
    if (tmp_0 instanceof ListType) {
      var query = this.objectFactory.l7h().q7y(listOf_0(this.objectFactory.f7q().r69(argumentSource).q69('$this')));
      var fr = this.objectFactory.w7h().t6i(libraryName).q65(functionName).f67(listOf_0(this.objectFactory.g7j().q65('$this')));
      if (!(argumentSignature == null)) {
        fr.m66().e(argumentSignature);
      }
      query.i7y_1 = this.objectFactory.d7o().h82(false).r69(fr);
      Trackable_getInstance().o8v(query, Trackable_getInstance().n8v(ensureNotNull(source)));
      return query;
    } else {
      var fr_0 = this.objectFactory.w7h().t6i(libraryName).q65(functionName).f67(listOf_0(argumentSource));
      Trackable_getInstance().o8v(fr_0, Trackable_getInstance().n8v(ensureNotNull(source)));
      if (!(argumentSignature == null)) {
        fr_0.m66().e(argumentSignature);
      }
      return fr_0;
    }
  } else if (contains_0(targetMap_0, '[')) {
    var indexerStart = indexOf(targetMap_0, '[');
    var indexerEnd = indexOf(targetMap_0, ']');
    var indexer = substring_0(targetMap_0, indexerStart + 1 | 0, indexerEnd);
    var indexerPath = substring_0(targetMap_0, 0, indexerStart);
    var result = null;
    // Inline function 'kotlin.text.toRegex' call
    // Inline function 'kotlin.text.split' call
    var tmp0_2 = Regex_init_$Create$('\\.').wd(indexerPath, 0);
    var tmp$ret$19;
    $l$block_1: {
      // Inline function 'kotlin.collections.dropLastWhile' call
      if (!tmp0_2.q()) {
        var iterator_1 = tmp0_2.c2(tmp0_2.j());
        while (iterator_1.v5()) {
          // Inline function 'kotlin.text.isEmpty' call
          var this_4 = iterator_1.x5();
          if (!(charSequenceLength(this_4) === 0)) {
            tmp$ret$19 = take(tmp0_2, iterator_1.w5() + 1 | 0);
            break $l$block_1;
          }
        }
      }
      tmp$ret$19 = emptyList();
    }
    // Inline function 'kotlin.collections.toTypedArray' call
    var this_5 = tmp$ret$19;
    var indexerPaths = copyToArray(this_5);
    var inductionVariable_0 = 0;
    var last_0 = indexerPaths.length;
    while (inductionVariable_0 < last_0) {
      var path = indexerPaths[inductionVariable_0];
      inductionVariable_0 = inductionVariable_0 + 1 | 0;
      if (path === '%parent') {
        // Inline function 'kotlin.require' call
        if (!(source instanceof Property)) {
          var message_0 = 'Cannot expand target map ' + targetMap_0 + ' for non-property-accessor type ' + getKClassFromExpression(ensureNotNull(source)).lb();
          throw IllegalArgumentException_init_$Create$(toString(message_0));
        }
        var sourceProperty = source;
        var tmp1_elvis_lhs = sourceProperty.o7x_1;
        var tmp_1;
        if (tmp1_elvis_lhs == null) {
          var tmp_2;
          if (sourceProperty.n7x_1 == null) {
            tmp_2 = null;
          } else {
            // Inline function 'kotlin.let' call
            tmp_2 = this.resolveIdentifier(ensureNotNull(sourceProperty.n7x_1), true);
          }
          tmp_1 = tmp_2;
        } else {
          tmp_1 = tmp1_elvis_lhs;
        }
        result = tmp_1;
        var tmp0_3 = result;
        $l$block_2: {
          // Inline function 'kotlin.requireNotNull' call
          if (tmp0_3 == null) {
            var message_1 = 'Cannot resolve %%parent reference in targetMap ' + targetMap_0;
            throw IllegalArgumentException_init_$Create$(toString(message_1));
          } else {
            break $l$block_2;
          }
        }
      } else {
        var p = this.objectFactory.q7n().a6k(result).y6c(path);
        result = p;
      }
    }
    var querySource = this.objectFactory.f7q().r69(result).q69('$this');
    var criteria = null;
    // Inline function 'kotlin.text.toRegex' call
    // Inline function 'kotlin.text.split' call
    var tmp0_4 = Regex_init_$Create$(',').wd(indexer, 0);
    var tmp$ret$31;
    $l$block_3: {
      // Inline function 'kotlin.collections.dropLastWhile' call
      if (!tmp0_4.q()) {
        var iterator_2 = tmp0_4.c2(tmp0_4.j());
        while (iterator_2.v5()) {
          // Inline function 'kotlin.text.isEmpty' call
          var this_6 = iterator_2.x5();
          if (!(charSequenceLength(this_6) === 0)) {
            tmp$ret$31 = take(tmp0_4, iterator_2.w5() + 1 | 0);
            break $l$block_3;
          }
        }
      }
      tmp$ret$31 = emptyList();
    }
    // Inline function 'kotlin.collections.toTypedArray' call
    var this_7 = tmp$ret$31;
    var indexedObject = copyToArray(this_7);
    var inductionVariable_1 = 0;
    var last_1 = indexedObject.length;
    while (inductionVariable_1 < last_1) {
      var indexerItem = indexedObject[inductionVariable_1];
      inductionVariable_1 = inductionVariable_1 + 1 | 0;
      // Inline function 'kotlin.text.toRegex' call
      // Inline function 'kotlin.text.split' call
      var tmp0_5 = Regex_init_$Create$('=').wd(indexerItem, 0);
      var tmp$ret$37;
      $l$block_4: {
        // Inline function 'kotlin.collections.dropLastWhile' call
        if (!tmp0_5.q()) {
          var iterator_3 = tmp0_5.c2(tmp0_5.j());
          while (iterator_3.v5()) {
            // Inline function 'kotlin.text.isEmpty' call
            var this_8 = iterator_3.x5();
            if (!(charSequenceLength(this_8) === 0)) {
              tmp$ret$37 = take(tmp0_5, iterator_3.w5() + 1 | 0);
              break $l$block_4;
            }
          }
        }
        tmp$ret$37 = emptyList();
      }
      // Inline function 'kotlin.collections.toTypedArray' call
      var this_9 = tmp$ret$37;
      var indexerItems = copyToArray(this_9);
      // Inline function 'kotlin.require' call
      if (!(indexerItems.length === 2)) {
        var message_2 = 'Invalid indexer item ' + indexerItem + ' in targetMap ' + targetMap_0;
        throw IllegalArgumentException_init_$Create$(toString(message_2));
      }
      var left = null;
      var tmp0_6 = indexerItems[0];
      // Inline function 'kotlin.text.toRegex' call
      // Inline function 'kotlin.text.split' call
      var tmp0_7 = Regex_init_$Create$('\\.').wd(tmp0_6, 0);
      var tmp$ret$45;
      $l$block_5: {
        // Inline function 'kotlin.collections.dropLastWhile' call
        if (!tmp0_7.q()) {
          var iterator_4 = tmp0_7.c2(tmp0_7.j());
          while (iterator_4.v5()) {
            // Inline function 'kotlin.text.isEmpty' call
            var this_10 = iterator_4.x5();
            if (!(charSequenceLength(this_10) === 0)) {
              tmp$ret$45 = take(tmp0_7, iterator_4.w5() + 1 | 0);
              break $l$block_5;
            }
          }
        }
        tmp$ret$45 = emptyList();
      }
      // Inline function 'kotlin.collections.toTypedArray' call
      var this_11 = tmp$ret$45;
      var indexedObject_0 = copyToArray(this_11);
      var inductionVariable_2 = 0;
      var last_2 = indexedObject_0.length;
      while (inductionVariable_2 < last_2) {
        var path_0 = indexedObject_0[inductionVariable_2];
        inductionVariable_2 = inductionVariable_2 + 1 | 0;
        var tmp_3;
        if (left == null) {
          tmp_3 = this.objectFactory.q7n().p7x('$this').y6c(path_0);
        } else {
          tmp_3 = this.objectFactory.q7n().a6k(left).y6c(path_0);
        }
        left = tmp_3;
        if (path_0 === 'coding') {
          left = Trackable_getInstance().h90(this.objectFactory.o7k().a6k(left), this.x90('FHIR').j90('FHIR.coding'));
        }
        if (path_0 === 'url') {
          Trackable_getInstance().o8v(left, this.x90('FHIR').j90('FHIR.uri'));
          var ref = this.objectFactory.w7h().t6i('FHIRHelpers').q65('ToString').f67(listOf_0(left));
          left = resolveCall(this, ref.n6w_1, ensureNotNull(ref.m6w_1), new FunctionRefInvocation(ref), false, false);
        }
      }
      if (indexerItems[0] === 'code.coding.system') {
        Trackable_getInstance().o8v(ensureNotNull(left), this.x90('FHIR').j90('FHIR.uri'));
        var ref_0 = this.objectFactory.w7h().t6i('FHIRHelpers').q65('ToString').f67(listOf_0(left));
        left = resolveCall(this, ref_0.n6w_1, ensureNotNull(ref_0.m6w_1), new FunctionRefInvocation(ref_0), false, false);
      }
      if (indexerItems[0] === 'code.coding.code') {
        Trackable_getInstance().o8v(ensureNotNull(left), this.x90('FHIR').j90('FHIR.code'));
        var ref_1 = this.objectFactory.w7h().t6i('FHIRHelpers').q65('ToString').f67(listOf_0(left));
        left = resolveCall(this, ref_1.n6w_1, ensureNotNull(ref_1.m6w_1), new FunctionRefInvocation(ref_1), false, false);
      }
      var rightValue = substring_0(indexerItems[1], 1, indexerItems[1].length - 1 | 0);
      var right = this.z90(StringEscapeUtils_getInstance().p93(rightValue));
      var criteriaItem = this.objectFactory.e7m().f67(listOf([ensureNotNull(left), right]));
      var tmp_4;
      if (criteria == null) {
        tmp_4 = criteriaItem;
      } else {
        tmp_4 = this.objectFactory.x7o().f67(listOf([criteria, criteriaItem]));
      }
      criteria = tmp_4;
    }
    var query_0 = this.objectFactory.l7h().q7y(listOf_0(querySource)).t7y(criteria);
    result = query_0;
    if ((indexerEnd + 1 | 0) < targetMap_0.length) {
      var targetPath = substring(targetMap_0, indexerEnd + 1 | 0);
      if (startsWith(targetPath, '.')) {
        targetPath = substring(targetPath, 1);
      }
      // Inline function 'kotlin.text.isNotEmpty' call
      var this_12 = targetPath;
      if (charSequenceLength(this_12) > 0) {
        query_0.i7y_1 = this.objectFactory.d7o().h82(false).r69(this.objectFactory.q7n().a6k(this.objectFactory.g7j().q65('$this')).y6c(targetPath));
      }
    }
    var tmp_5 = Trackable_getInstance().n8v(ensureNotNull(source));
    if (!(tmp_5 instanceof ListType)) {
      result = this.objectFactory.t7l().a6c(result);
    }
    Trackable_getInstance().o8v(result, Trackable_getInstance().n8v(source));
    return result;
  } else if (startsWith(targetMap_0, '%value.')) {
    var propertyName = substring(targetMap_0, 7);
    var tmp_6 = Trackable_getInstance().n8v(ensureNotNull(source));
    if (tmp_6 instanceof ListType) {
      var s = this.objectFactory.f7q().r69(source).q69('$this');
      var p_0 = this.objectFactory.q7n().p7x('$this').y6c(propertyName);
      var tmp_7 = Trackable_getInstance();
      var tmp_8 = Trackable_getInstance().n8v(source);
      tmp_7.o8v(p_0, (tmp_8 instanceof ListType ? tmp_8 : THROW_CCE()).d61_1);
      var r = this.objectFactory.d7o().h82(false).r69(p_0);
      var q = this.objectFactory.l7h().q7y(listOf_0(s)).u7y(r);
      Trackable_getInstance().o8v(q, Trackable_getInstance().n8v(source));
      return q;
    } else {
      var p_1 = this.objectFactory.q7n().a6k(source).y6c(propertyName);
      Trackable_getInstance().o8v(p_1, Trackable_getInstance().n8v(source));
      return p_1;
    }
  }
  throw IllegalArgumentException_init_$Create$('TargetMapping not implemented: ' + targetMap_0);
};
protoOf(LibraryBuilder).resolveAccessor = function (left, memberIdentifier) {
  if (left instanceof LibraryRef) {
    var libraryName = left.v8y_1;
    var referencedLibrary = this.resolveLibrary(libraryName);
    var resolvedIdentifierContext = referencedLibrary.x9a(memberIdentifier);
    var element = resolvedIdentifierContext.w9b();
    if (!(element == null)) {
      if (element instanceof ExpressionDef) {
        this.checkAccessLevel(libraryName, memberIdentifier, ensureNotNull(element.z6h()));
        var result = this.objectFactory.v7p().t6i(libraryName).q65(memberIdentifier);
        Trackable_getInstance().o8v(result, getExpressionDefResultType(this, element));
        return result;
      }
      if (element instanceof ParameterDef) {
        this.checkAccessLevel(libraryName, memberIdentifier, ensureNotNull(element.z6h()));
        var result_0 = this.objectFactory.o7j().t6i(libraryName).q65(memberIdentifier);
        Trackable_getInstance().o8v(result_0, Trackable_getInstance().n8v(element));
        return result_0;
      }
      if (element instanceof ValueSetDef) {
        this.checkAccessLevel(libraryName, memberIdentifier, ensureNotNull(element.z6h()));
        var result_1 = this.objectFactory.i7i().t6i(libraryName).q65(memberIdentifier);
        Trackable_getInstance().o8v(result_1, Trackable_getInstance().n8v(element));
        if (this.isCompatibleWith('1.5')) {
          result_1.s8h_1 = true;
        }
        return result_1;
      }
      if (element instanceof CodeSystemDef) {
        this.checkAccessLevel(libraryName, memberIdentifier, ensureNotNull(element.z6h()));
        var result_2 = this.objectFactory.x7l().t6i(libraryName).q65(memberIdentifier);
        Trackable_getInstance().o8v(result_2, Trackable_getInstance().n8v(element));
        return result_2;
      }
      if (element instanceof CodeDef) {
        this.checkAccessLevel(libraryName, memberIdentifier, ensureNotNull(element.z6h()));
        var result_3 = this.objectFactory.v7h().t6i(libraryName).q65(memberIdentifier);
        Trackable_getInstance().o8v(result_3, Trackable_getInstance().n8v(element));
        return result_3;
      }
      if (element instanceof ConceptDef) {
        this.checkAccessLevel(libraryName, memberIdentifier, ensureNotNull(element.z6h()));
        var result_4 = this.objectFactory.c7j().t6i(libraryName).q65(memberIdentifier);
        Trackable_getInstance().o8v(result_4, Trackable_getInstance().n8v(element));
        return result_4;
      }
    }
    throw IllegalArgumentException_init_$Create$('Could not resolve identifier ' + memberIdentifier + ' in library ' + ensureNotNull(referencedLibrary.j8z_1).b8i_1 + '.');
  } else {
    if (left instanceof AliasRef) {
      var resolution = this.resolveProperty(Trackable_getInstance().n8v(left), memberIdentifier);
      var result_5 = this.p91(left.i69_1, ensureNotNull(resolution).b91_1, resolution.d91_1, resolution.a91_1);
      return this.applyTargetMap(result_5, resolution.c91_1);
    } else {
      var tmp;
      var tmp_0 = Trackable_getInstance().n8v(left);
      if (tmp_0 instanceof ListType) {
        tmp = this.d8w_1;
      } else {
        tmp = false;
      }
      if (tmp) {
        var tmp_1 = Trackable_getInstance().n8v(left);
        var listType = tmp_1 instanceof ListType ? tmp_1 : THROW_CCE();
        var resolution_0 = this.resolveProperty(listType.d61_1, memberIdentifier);
        var accessor = this.p8w(this.objectFactory.g7j().q65('$this'), ensureNotNull(resolution_0).b91_1, resolution_0.d91_1, resolution_0.a91_1);
        accessor = this.applyTargetMap(accessor, resolution_0.c91_1);
        var not = buildIsNotNull(this, accessor);
        accessor = this.p8w(this.objectFactory.g7j().q65('$this'), resolution_0.b91_1, resolution_0.d91_1, resolution_0.a91_1);
        accessor = this.applyTargetMap(accessor, resolution_0.c91_1);
        var source = this.objectFactory.f7q().r69(left).q69('$this');
        Trackable_getInstance().o8v(source, Trackable_getInstance().n8v(left));
        var query = this.objectFactory.l7h().q7y(listOf_0(source)).t7y(not).u7y(this.objectFactory.d7o().h82(false).r69(accessor));
        Trackable_getInstance().o8v(query, new ListType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(accessor)))));
        var tmp_2 = Trackable_getInstance().n8v(accessor);
        if (tmp_2 instanceof ListType) {
          var result_6 = this.objectFactory.p7m().a6c(query);
          Trackable_getInstance().o8v(result_6, Trackable_getInstance().n8v(accessor));
          return result_6;
        }
        return query;
      } else {
        var resolution_1 = this.resolveProperty(Trackable_getInstance().n8v(left), memberIdentifier);
        var result_7 = this.p8w(left, ensureNotNull(resolution_1).b91_1, resolution_1.d91_1, resolution_1.a91_1);
        result_7 = this.applyTargetMap(result_7, resolution_1.c91_1);
        return result_7;
      }
    }
  }
};
protoOf(LibraryBuilder).a9c = function (identifierRef, element, scope) {
  var identifier = ensureNotNull(identifierRef.f70_1);
  var localMatch = this.x8v_1.t99() ? findMatchingIdentifierContext(this, this.x8v_1.q2c(), identifier) : null;
  var globalMatch = findMatchingIdentifierContext(this, this.w8v_1, identifier);
  if (!(globalMatch == null) || !(localMatch == null)) {
    var matchedContext = !(globalMatch == null) ? globalMatch : ensureNotNull(localMatch);
    var tmp;
    if (equals(matchedContext.d97_1, getKClass(FunctionDef))) {
      tmp = element instanceof FunctionDef;
    } else {
      tmp = false;
    }
    var matchedOnFunctionOverloads = tmp;
    if (!matchedOnFunctionOverloads) {
      reportWarning(this, resolveWarningMessage(this, matchedContext.e97(), identifier, element), identifierRef);
    }
  }
  if (shouldAddIdentifierContext(this, element)) {
    var trackableOrNull = element == null ? null : getKClassFromExpression(element);
    if (scope.equals(IdentifierScope_GLOBAL_getInstance())) {
      this.w8v_1.e(new IdentifierContext(identifierRef, trackableOrNull));
    } else {
      this.x8v_1.q2c().e(new IdentifierContext(identifierRef, trackableOrNull));
    }
  }
};
protoOf(LibraryBuilder).pushIdentifier = function (identifierRef, element, scope, $super) {
  scope = scope === VOID ? IdentifierScope_LOCAL_getInstance() : scope;
  var tmp;
  if ($super === VOID) {
    this.a9c(identifierRef, element, scope);
    tmp = Unit_instance;
  } else {
    tmp = $super.a9c.call(this, identifierRef, element, scope);
  }
  return tmp;
};
protoOf(LibraryBuilder).b9c = function (scope) {
  if (scope.equals(IdentifierScope_GLOBAL_getInstance())) {
    this.w8v_1.wf();
  } else {
    this.x8v_1.q2c().wf();
  }
};
protoOf(LibraryBuilder).popIdentifier = function (scope, $super) {
  scope = scope === VOID ? IdentifierScope_LOCAL_getInstance() : scope;
  var tmp;
  if ($super === VOID) {
    this.b9c(scope);
    tmp = Unit_instance;
  } else {
    tmp = $super.b9c.call(this, scope);
  }
  return tmp;
};
protoOf(LibraryBuilder).pushIdentifierScope = function () {
  this.x8v_1.i8y(ArrayDeque_init_$Create$());
};
protoOf(LibraryBuilder).popIdentifierScope = function () {
  this.x8v_1.r2c();
};
protoOf(LibraryBuilder).determineRootCause = function () {
  if (this.u8v_1.t99()) {
    var currentContext = this.u8v_1.q2c();
    if (!(currentContext == null)) {
      return currentContext.o99_1;
    }
  }
  return null;
};
protoOf(LibraryBuilder).setRootCause = function (rootCause) {
  if (this.u8v_1.t99()) {
    var currentContext = this.u8v_1.q2c();
    if (currentContext == null)
      null;
    else {
      currentContext.o99_1 = rootCause;
    }
  }
};
protoOf(LibraryBuilder).pushExpressionDefinition = function (identifier) {
  // Inline function 'kotlin.require' call
  if (!!this.u8v_1.s99(identifier)) {
    var message = 'Cannot resolve reference to expression or function ' + identifier + ' because it results in a circular reference.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.u8v_1.i8y(new ExpressionDefinitionContext(this, identifier));
};
protoOf(LibraryBuilder).popExpressionDefinition = function () {
  this.u8v_1.r2c();
};
protoOf(LibraryBuilder).pushExpressionContext = function (context) {
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (context == null) {
      var message = 'Expression context cannot be null';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  this.t8v_1.i8y(context);
};
protoOf(LibraryBuilder).popExpressionContext = function () {
  // Inline function 'kotlin.check' call
  if (!!this.t8v_1.e10()) {
    var message = 'Expression context stack is empty.';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  this.t8v_1.r2c();
};
protoOf(LibraryBuilder).pushQueryContext = function (context) {
  _get_scope__bi2zur(this).d99_1.i8y(context);
};
protoOf(LibraryBuilder).popQueryContext = function () {
  return _get_scope__bi2zur(this).d99_1.r2c();
};
protoOf(LibraryBuilder).peekQueryContext = function () {
  return _get_scope__bi2zur(this).d99_1.q2c();
};
protoOf(LibraryBuilder).pushExpressionTarget = function (target) {
  _get_scope__bi2zur(this).c99_1.i8y(target);
};
protoOf(LibraryBuilder).popExpressionTarget = function () {
  return _get_scope__bi2zur(this).c99_1.r2c();
};
protoOf(LibraryBuilder).hasExpressionTarget = function () {
  return hasScope(this) && _get_scope__bi2zur(this).c99_1.t99();
};
protoOf(LibraryBuilder).beginFunctionDef = function (functionDef) {
  this.v8v_1.i8y(functionDef);
};
protoOf(LibraryBuilder).endFunctionDef = function () {
  this.v8v_1.r2c();
};
protoOf(LibraryBuilder).pushLiteralContext = function () {
  this.y8v_1 = this.y8v_1 + 1 | 0;
};
protoOf(LibraryBuilder).popLiteralContext = function () {
  // Inline function 'kotlin.check' call
  if (!inLiteralContext(this)) {
    var message = 'Not in literal context';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  this.y8v_1 = this.y8v_1 - 1 | 0;
};
protoOf(LibraryBuilder).checkLiteralContext = function () {
  // Inline function 'kotlin.check' call
  if (!!inLiteralContext(this)) {
    var message = 'Expressions in this context must be able to be evaluated at compile-time.';
    throw IllegalStateException_init_$Create$(toString(message));
  }
};
protoOf(LibraryBuilder).pushTypeSpecifierContext = function () {
  this.z8v_1 = this.z8v_1 + 1 | 0;
};
protoOf(LibraryBuilder).popTypeSpecifierContext = function () {
  // Inline function 'kotlin.check' call
  if (!inTypeSpecifierContext(this)) {
    var message = 'Not in type specifier context';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  this.z8v_1 = this.z8v_1 - 1 | 0;
};
var LibraryContentType_CQL_instance;
var LibraryContentType_XML_instance;
var LibraryContentType_JSON_instance;
var LibraryContentType_COFFEE_instance;
var LibraryContentType_entriesInitialized;
function LibraryContentType_initEntries() {
  if (LibraryContentType_entriesInitialized)
    return Unit_instance;
  LibraryContentType_entriesInitialized = true;
  LibraryContentType_CQL_instance = new LibraryContentType('CQL', 0, 'text/cql');
  LibraryContentType_XML_instance = new LibraryContentType('XML', 1, 'application/elm+xml');
  LibraryContentType_JSON_instance = new LibraryContentType('JSON', 2, 'application/elm+json');
  LibraryContentType_COFFEE_instance = new LibraryContentType('COFFEE', 3, 'application/elm+coffee');
}
function LibraryContentType(name, ordinal, mimeType) {
  Enum.call(this, name, ordinal);
  this.h96_1 = mimeType;
}
protoOf(LibraryContentType).i96 = function () {
  return this.h96_1;
};
function LibraryContentType_CQL_getInstance() {
  LibraryContentType_initEntries();
  return LibraryContentType_CQL_instance;
}
function LibraryContentType_XML_getInstance() {
  LibraryContentType_initEntries();
  return LibraryContentType_XML_instance;
}
function LibraryContentType_JSON_getInstance() {
  LibraryContentType_initEntries();
  return LibraryContentType_JSON_instance;
}
var CacheMode_NONE_instance;
var CacheMode_READ_ONLY_instance;
var CacheMode_READ_WRITE_instance;
function values_5() {
  return [CacheMode_NONE_getInstance(), CacheMode_READ_ONLY_getInstance(), CacheMode_READ_WRITE_getInstance()];
}
function valueOf_5(value) {
  switch (value) {
    case 'NONE':
      return CacheMode_NONE_getInstance();
    case 'READ_ONLY':
      return CacheMode_READ_ONLY_getInstance();
    case 'READ_WRITE':
      return CacheMode_READ_WRITE_getInstance();
    default:
      CacheMode_initEntries();
      THROW_IAE('No enum constant value.');
      break;
  }
}
var CacheMode_entriesInitialized;
function CacheMode_initEntries() {
  if (CacheMode_entriesInitialized)
    return Unit_instance;
  CacheMode_entriesInitialized = true;
  CacheMode_NONE_instance = new CacheMode('NONE', 0);
  CacheMode_READ_ONLY_instance = new CacheMode('READ_ONLY', 1);
  CacheMode_READ_WRITE_instance = new CacheMode('READ_WRITE', 2);
}
function CacheMode(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function resolveLibraryInner($this, libraryIdentifier, cacheMode) {
  // Inline function 'kotlin.text.isNullOrEmpty' call
  var this_0 = libraryIdentifier.b8i_1;
  // Inline function 'kotlin.require' call
  if (!!(this_0 == null || charSequenceLength(this_0) === 0)) {
    var message = 'libraryIdentifier Id is null.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var compiledLibraryResults = resolveLibraries($this, mutableListOf([libraryIdentifier]), cacheMode);
  return compiledLibraryResults.q8t();
}
function resolveLibraries($this, libraryIdentifiers, cacheMode) {
  // Inline function 'kotlin.collections.isNotEmpty' call
  // Inline function 'kotlin.require' call
  if (!!libraryIdentifiers.q()) {
    var message = 'libraryIdentifier can not be null';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var tmp$ret$3;
  $l$block_0: {
    // Inline function 'kotlin.collections.all' call
    var tmp;
    if (isInterface(libraryIdentifiers, Collection)) {
      tmp = libraryIdentifiers.q();
    } else {
      tmp = false;
    }
    if (tmp) {
      tmp$ret$3 = true;
      break $l$block_0;
    }
    var _iterator__ex2g4s = libraryIdentifiers.g();
    while (_iterator__ex2g4s.h()) {
      var element = _iterator__ex2g4s.i();
      // Inline function 'kotlin.text.isNullOrEmpty' call
      var this_0 = element.b8i_1;
      if (!!(this_0 == null || charSequenceLength(this_0) === 0)) {
        tmp$ret$3 = false;
        break $l$block_0;
      }
    }
    tmp$ret$3 = true;
  }
  // Inline function 'kotlin.require' call
  if (!tmp$ret$3) {
    var message_0 = 'at least one libraryIdentifier Id is null';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  var compiledLibraryResults = ArrayList_init_$Create$();
  if (!cacheMode.equals(CacheMode_NONE_getInstance())) {
    // Inline function 'kotlin.collections.filter' call
    // Inline function 'kotlin.collections.filterTo' call
    var destination = ArrayList_init_$Create$();
    var _iterator__ex2g4s_0 = libraryIdentifiers.g();
    while (_iterator__ex2g4s_0.h()) {
      var element_0 = _iterator__ex2g4s_0.i();
      if ($this.compiledLibraries.o2(element_0)) {
        destination.e(element_0);
      }
    }
    // Inline function 'kotlin.collections.map' call
    // Inline function 'kotlin.collections.mapTo' call
    var destination_0 = ArrayList_init_$Create$_0(collectionSizeOrDefault(destination, 10));
    var _iterator__ex2g4s_1 = destination.g();
    while (_iterator__ex2g4s_1.h()) {
      var item = _iterator__ex2g4s_1.i();
      var tmp$ret$11 = ensureNotNull($this.compiledLibraries.q2(item));
      destination_0.e(tmp$ret$11);
    }
    var librariesFromCache = destination_0;
    if (librariesFromCache.j() === libraryIdentifiers.j()) {
      var tmp_0 = Companion_instance_2;
      // Inline function 'kotlin.collections.map' call
      // Inline function 'kotlin.collections.mapTo' call
      var destination_1 = ArrayList_init_$Create$_0(collectionSizeOrDefault(librariesFromCache, 10));
      var _iterator__ex2g4s_2 = librariesFromCache.g();
      while (_iterator__ex2g4s_2.h()) {
        var item_0 = _iterator__ex2g4s_2.i();
        // Inline function 'kotlin.collections.mutableListOf' call
        var tmp$ret$14 = ArrayList_init_$Create$();
        var tmp$ret$15 = new CompiledLibraryResult(item_0, tmp$ret$14);
        destination_1.e(tmp$ret$15);
      }
      return tmp_0.o8t(destination_1);
    }
    // Inline function 'kotlin.collections.map' call
    // Inline function 'kotlin.collections.mapTo' call
    var destination_2 = ArrayList_init_$Create$_0(collectionSizeOrDefault(librariesFromCache, 10));
    var _iterator__ex2g4s_3 = librariesFromCache.g();
    while (_iterator__ex2g4s_3.h()) {
      var item_1 = _iterator__ex2g4s_3.i();
      // Inline function 'kotlin.collections.mutableListOf' call
      var tmp$ret$18 = ArrayList_init_$Create$();
      var tmp$ret$19 = new CompiledLibraryResult(item_1, tmp$ret$18);
      destination_2.e(tmp$ret$19);
    }
    // Inline function 'kotlin.collections.forEach' call
    var _iterator__ex2g4s_4 = destination_2.g();
    while (_iterator__ex2g4s_4.h()) {
      var element_1 = _iterator__ex2g4s_4.i();
      compiledLibraryResults.e(element_1);
    }
  }
  var _iterator__ex2g4s_5 = libraryIdentifiers.g();
  $l$loop: while (_iterator__ex2g4s_5.h()) {
    var libraryIdentifier = _iterator__ex2g4s_5.i();
    if (isLibraryAlreadyRetrievedFromCache($this, libraryIdentifier, compiledLibraryResults)) {
      var tmp_1 = get_logger();
      tmp_1.c1q(LibraryManager$resolveLibraries$lambda(libraryIdentifier));
      continue $l$loop;
    }
    var compiledLibraryResult = compileLibrary($this, libraryIdentifier);
    if (!Companion_instance_3.hasErrors(compiledLibraryResult.s8t_1) && cacheMode.equals(CacheMode_READ_WRITE_getInstance())) {
      var tmp_2 = get_logger();
      tmp_2.c1q(LibraryManager$resolveLibraries$lambda_0(libraryIdentifier));
      var tmp0 = $this.compiledLibraries;
      // Inline function 'kotlin.collections.set' call
      var value = compiledLibraryResult.r8t_1;
      tmp0.u2(libraryIdentifier, value);
    }
    compiledLibraryResults.e(compiledLibraryResult);
  }
  return Companion_instance_2.o8t(compiledLibraryResults);
}
function isLibraryAlreadyRetrievedFromCache($this, searchedForLibraryIdentifier, compiledLibrariesFromCache) {
  // Inline function 'kotlin.collections.map' call
  // Inline function 'kotlin.collections.mapTo' call
  var destination = ArrayList_init_$Create$_0(collectionSizeOrDefault(compiledLibrariesFromCache, 10));
  var _iterator__ex2g4s = compiledLibrariesFromCache.g();
  while (_iterator__ex2g4s.h()) {
    var item = _iterator__ex2g4s.i();
    var tmp$ret$0 = item.r8t_1.j8z_1;
    destination.e(tmp$ret$0);
  }
  // Inline function 'kotlin.collections.map' call
  // Inline function 'kotlin.collections.mapTo' call
  var destination_0 = ArrayList_init_$Create$_0(collectionSizeOrDefault(destination, 10));
  var _iterator__ex2g4s_0 = destination.g();
  while (_iterator__ex2g4s_0.h()) {
    var item_0 = _iterator__ex2g4s_0.i();
    var tmp$ret$3 = stripVersionIfNeeded($this, ensureNotNull(item_0), searchedForLibraryIdentifier);
    destination_0.e(tmp$ret$3);
  }
  return toList(destination_0).p(searchedForLibraryIdentifier);
}
function stripVersionIfNeeded($this, compiledLibraryIdentifier, searchedForLibraryIdentifier) {
  if (searchedForLibraryIdentifier.d8i_1 == null) {
    return (new VersionedIdentifier()).a6i(compiledLibraryIdentifier.b8i_1);
  }
  return compiledLibraryIdentifier;
}
function compileLibrary($this, libraryIdentifier) {
  var libraryPath = Companion_instance_1.getPath(libraryIdentifier.c8i_1, ensureNotNull(libraryIdentifier.b8i_1));
  if (!$this.cqlCompilerOptions.enableCqlOnly) {
    var elmCompiledLibrary = tryCompiledLibraryElm($this, libraryIdentifier, $this.cqlCompilerOptions);
    if (!(elmCompiledLibrary == null)) {
      validateIdentifiers($this, libraryIdentifier, elmCompiledLibrary, libraryPath);
      sortStatements($this, elmCompiledLibrary);
      // Inline function 'kotlin.collections.mutableListOf' call
      var tmp$ret$0 = ArrayList_init_$Create$();
      return new CompiledLibraryResult(elmCompiledLibrary, tmp$ret$0);
    }
  }
  var cqlSource = $this.librarySourceLoader.getLibrarySource(libraryIdentifier);
  if (cqlSource == null) {
    throw CqlIncludeException_init_$Create$('Could not load source for library ' + libraryIdentifier.b8i_1 + ', version ' + libraryIdentifier.d8i_1 + ', namespace uri ' + libraryIdentifier.c8i_1 + '.', libraryIdentifier.c8i_1, ensureNotNull(libraryIdentifier.b8i_1), libraryIdentifier.d8i_1);
  }
  var tmp0_safe_receiver = libraryIdentifier.c8i_1;
  var tmp;
  if (tmp0_safe_receiver == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.let' call
    tmp = $this.namespaceManager.getNamespaceInfoFromUri(tmp0_safe_receiver);
  }
  var compiler = new CqlCompiler(tmp, libraryIdentifier, $this);
  compiler.k94(cqlSource);
  var compiledLibrary = compiler.w93_1;
  if (compiledLibrary == null) {
    throw CqlIncludeException_init_$Create$('Could not load source for library ' + libraryPath + ', version ' + libraryIdentifier.d8i_1 + '.', libraryIdentifier.c8i_1, ensureNotNull(libraryIdentifier.b8i_1), libraryIdentifier.d8i_1);
  }
  validateIdentifiers($this, libraryIdentifier, compiledLibrary, libraryPath);
  sortStatements($this, compiledLibrary);
  var tmp1_elvis_lhs = compiler.z93_1;
  var tmp_0;
  if (tmp1_elvis_lhs == null) {
    // Inline function 'kotlin.collections.mutableListOf' call
    tmp_0 = ArrayList_init_$Create$();
  } else {
    tmp_0 = tmp1_elvis_lhs;
  }
  return new CompiledLibraryResult(compiledLibrary, tmp_0);
}
function validateIdentifiers($this, libraryIdentifier, result, libraryPath) {
  var resultIdentifier = ensureNotNull(result.j8z_1);
  var areIdsEqual = equals_0(libraryIdentifier.b8i_1, resultIdentifier.b8i_1);
  var libraryIdentifierVersion = libraryIdentifier.d8i_1;
  var resultIdentifierVersion = resultIdentifier.d8i_1;
  var areIdentifiersValid;
  if (libraryIdentifierVersion == null) {
    areIdentifiersValid = areIdsEqual;
  } else {
    var areVersionsEqual = equals(libraryIdentifierVersion, resultIdentifier.d8i_1);
    areIdentifiersValid = (areIdsEqual && areVersionsEqual);
  }
  if (!areIdentifiersValid) {
    var tmp = 'Library ' + libraryPath + ' was included with version ' + libraryIdentifierVersion + ', but id: ' + resultIdentifier.b8i_1 + ' and version ' + resultIdentifierVersion + ' of the library was found.';
    var tmp_0 = libraryIdentifier.c8i_1;
    var tmp_1 = ensureNotNull(libraryIdentifier.b8i_1);
    throw CqlIncludeException_init_$Create$(tmp, tmp_0, tmp_1, libraryIdentifierVersion == null ? 'null' : libraryIdentifierVersion);
  }
}
function sortStatements($this, compiledLibrary) {
  if (ensureNotNull(compiledLibrary.k8z_1).y79_1 == null) {
    return Unit_instance;
  }
  // Inline function 'kotlin.collections.sortBy' call
  var this_0 = ensureNotNull(ensureNotNull(compiledLibrary.k8z_1).y79_1).a79();
  if (this_0.j() > 1) {
    // Inline function 'kotlin.comparisons.compareBy' call
    var tmp = LibraryManager$sortStatements$lambda;
    var tmp$ret$0 = new sam$kotlin_Comparator$0(tmp);
    sortWith(this_0, tmp$ret$0);
  }
}
function tryCompiledLibraryElm($this, libraryIdentifier, options) {
  var elm;
  var indexedObject = Companion_getInstance_8().e9c_1;
  var inductionVariable = 0;
  var last = indexedObject.length;
  $l$loop_0: while (inductionVariable < last) {
    var type = indexedObject[inductionVariable];
    inductionVariable = inductionVariable + 1 | 0;
    if (LibraryContentType_CQL_getInstance().equals(type)) {
      continue $l$loop_0;
    }
    elm = $this.librarySourceLoader.getLibraryContent(libraryIdentifier, type);
    if (elm == null) {
      continue $l$loop_0;
    }
    return generateCompiledLibraryFromElm($this, libraryIdentifier, elm, type, options);
  }
  return null;
}
function generateCompiledLibraryFromElm($this, libraryIdentifier, librarySource, type, options) {
  var tmp;
  try {
    tmp = $this.elmLibraryReaderProvider.l8j(type.i96()).n8j(librarySource);
  } catch ($p) {
    var tmp_0;
    if ($p instanceof Exception) {
      var e = $p;
      return null;
    } else {
      throw $p;
    }
  }
  var library = tmp;
  var compiledLibrary = null;
  if (checkBinaryCompatibility($this, library)) {
    compiledLibrary = generateCompiledLibrary($this, library);
  }
  return compiledLibrary;
}
function generateCompiledLibrary($this, library) {
  var compilationSuccess = true;
  var compiledLibrary = new CompiledLibrary();
  try {
    compiledLibrary.k8z_1 = library;
    if (!(library.o79_1 == null)) {
      compiledLibrary.j8z_1 = library.o79_1;
    }
    if (!(library.q79_1 == null)) {
      var _iterator__ex2g4s = ensureNotNull(library.q79_1).a79().g();
      while (_iterator__ex2g4s.h()) {
        var usingDef = _iterator__ex2g4s.i();
        compiledLibrary.o97(usingDef);
      }
    }
    if (!(library.r79_1 == null)) {
      var _iterator__ex2g4s_0 = ensureNotNull(library.r79_1).a79().g();
      while (_iterator__ex2g4s_0.h()) {
        var includeDef = _iterator__ex2g4s_0.i();
        compiledLibrary.a99(includeDef);
      }
    }
    if (!(library.t79_1 == null)) {
      var _iterator__ex2g4s_1 = ensureNotNull(library.t79_1).a79().g();
      while (_iterator__ex2g4s_1.h()) {
        var codeSystemDef = _iterator__ex2g4s_1.i();
        compiledLibrary.r9a(codeSystemDef);
      }
    }
    var _iterator__ex2g4s_2 = ensureNotNull(library.u79_1).a79().g();
    while (_iterator__ex2g4s_2.h()) {
      var valueSetDef = _iterator__ex2g4s_2.i();
      compiledLibrary.s9a(valueSetDef);
    }
    if (!(library.v79_1 == null)) {
      var _iterator__ex2g4s_3 = ensureNotNull(library.v79_1).a79().g();
      while (_iterator__ex2g4s_3.h()) {
        var codeDef = _iterator__ex2g4s_3.i();
        compiledLibrary.t9a(codeDef);
      }
    }
    if (!(library.w79_1 == null)) {
      var _iterator__ex2g4s_4 = ensureNotNull(library.w79_1).a79().g();
      while (_iterator__ex2g4s_4.h()) {
        var conceptDef = _iterator__ex2g4s_4.i();
        compiledLibrary.u9a(conceptDef);
      }
    }
    if (!(library.s79_1 == null)) {
      var _iterator__ex2g4s_5 = ensureNotNull(library.s79_1).a79().g();
      while (_iterator__ex2g4s_5.h()) {
        var parameterDef = _iterator__ex2g4s_5.i();
        compiledLibrary.q9a(parameterDef);
      }
    }
    if (!(library.y79_1 == null)) {
      var _iterator__ex2g4s_6 = ensureNotNull(library.y79_1).a79().g();
      $l$loop: while (_iterator__ex2g4s_6.h()) {
        var expressionDef = _iterator__ex2g4s_6.i();
        if (!(Trackable_getInstance().n8v(expressionDef) == null)) {
          compiledLibrary.v9a(expressionDef);
        } else {
          compilationSuccess = false;
          break $l$loop;
        }
      }
    }
  } catch ($p) {
    if ($p instanceof Exception) {
      var e = $p;
      compilationSuccess = false;
    } else {
      throw $p;
    }
  }
  if (compilationSuccess) {
    return compiledLibrary;
  }
  return null;
}
function compilerOptionsMatch($this, library) {
  var tmp0_elvis_lhs = CompilerOptions_instance.t8t(library);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    return false;
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var compilerOptions = tmp;
  return equals(compilerOptions, $this.cqlCompilerOptions.options);
}
function checkBinaryCompatibility($this, library) {
  if (library == null) {
    return false;
  }
  return isSignatureCompatible($this, library) && isVersionCompatible($this, library) && compilerOptionsMatch($this, library);
}
function isSignatureCompatible($this, library) {
  return !hasOverloadedFunctions($this, library) || hasSignature($this, library);
}
function hasOverloadedFunctions($this, library) {
  if (library.y79_1 == null) {
    return false;
  }
  var functionNames = HashSet_init_$Create$();
  var _iterator__ex2g4s = ensureNotNull(library.y79_1).a79().g();
  while (_iterator__ex2g4s.h()) {
    var ed = _iterator__ex2g4s.i();
    if (ed instanceof FunctionDef) {
      var fd = ed;
      var sig = new FunctionSig(ensureNotNull(fd.c6w_1), fd.o67().j());
      if (functionNames.p(sig)) {
        return true;
      } else {
        functionNames.e(sig);
      }
    }
  }
  return false;
}
function hasSignature($this, library) {
  if (!(library.y79_1 == null)) {
    var _iterator__ex2g4s = ensureNotNull(library.y79_1).a79().g();
    while (_iterator__ex2g4s.h()) {
      var ed = _iterator__ex2g4s.i();
      var tmp = ed.f6w_1;
      if (tmp instanceof FunctionRef) {
        var tmp_0 = ed.f6w_1;
        var fr = tmp_0 instanceof FunctionRef ? tmp_0 : THROW_CCE();
        // Inline function 'kotlin.collections.isNotEmpty' call
        if (!fr.m66().q()) {
          return true;
        }
      }
    }
  }
  return false;
}
function isVersionCompatible($this, library) {
  // Inline function 'kotlin.text.isNotEmpty' call
  var this_0 = $this.cqlCompilerOptions.compatibilityLevel;
  if (charSequenceLength(this_0) > 0) {
    var version = CompilerOptions_instance.v8t(library);
    if (!(version == null)) {
      return version === $this.cqlCompilerOptions.compatibilityLevel;
    }
  }
  return false;
}
function FunctionSig(name, numArguments) {
  this.f9c_1 = name;
  this.g9c_1 = numArguments;
}
protoOf(FunctionSig).hashCode = function () {
  var prime = 31;
  var result = 1;
  result = imul(prime, result) + getStringHashCode(this.f9c_1) | 0;
  result = imul(prime, result) + this.g9c_1 | 0;
  return result;
};
protoOf(FunctionSig).equals = function (other) {
  if (this === other)
    return true;
  if (other == null)
    return false;
  if (other instanceof FunctionSig) {
    return other.f9c_1 === this.f9c_1 && other.g9c_1 === this.g9c_1;
  }
  return false;
};
function Companion_5() {
  Companion_instance_8 = this;
  var tmp = this;
  // Inline function 'kotlin.arrayOf' call
  // Inline function 'kotlin.js.unsafeCast' call
  // Inline function 'kotlin.js.asDynamic' call
  tmp.e9c_1 = [LibraryContentType_JSON_getInstance(), LibraryContentType_XML_getInstance(), LibraryContentType_CQL_getInstance()];
}
var Companion_instance_8;
function Companion_getInstance_8() {
  if (Companion_instance_8 == null)
    new Companion_5();
  return Companion_instance_8;
}
function sam$kotlin_Comparator$0(function_0) {
  this.h9c_1 = function_0;
}
protoOf(sam$kotlin_Comparator$0).oe = function (a, b) {
  return this.h9c_1(a, b);
};
protoOf(sam$kotlin_Comparator$0).compare = function (a, b) {
  return this.oe(a, b);
};
protoOf(sam$kotlin_Comparator$0).y3 = function () {
  return this.h9c_1;
};
protoOf(sam$kotlin_Comparator$0).equals = function (other) {
  var tmp;
  if (!(other == null) ? isInterface(other, Comparator) : false) {
    var tmp_0;
    if (!(other == null) ? isInterface(other, FunctionAdapter) : false) {
      tmp_0 = equals(this.y3(), other.y3());
    } else {
      tmp_0 = false;
    }
    tmp = tmp_0;
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(sam$kotlin_Comparator$0).hashCode = function () {
  return hashCode(this.y3());
};
function LibraryManager$_get_ucumService_$ref_eymaov() {
  return function (p0) {
    return p0.ucumService;
  };
}
function LibraryManager$resolveLibraries$lambda($libraryIdentifier) {
  return function () {
    return 'library ' + $libraryIdentifier.b8i_1 + ' already in cache, skipping compilation';
  };
}
function LibraryManager$resolveLibraries$lambda_0($libraryIdentifier) {
  return function () {
    return 'adding library to cache: ' + $libraryIdentifier.b8i_1;
  };
}
function LibraryManager$sortStatements$lambda(a, b) {
  // Inline function 'kotlin.comparisons.compareValuesBy' call
  var tmp = a.c6w_1;
  var tmp$ret$1 = b.c6w_1;
  return compareValues(tmp, tmp$ret$1);
}
function CacheMode_NONE_getInstance() {
  CacheMode_initEntries();
  return CacheMode_NONE_instance;
}
function CacheMode_READ_ONLY_getInstance() {
  CacheMode_initEntries();
  return CacheMode_READ_ONLY_instance;
}
function CacheMode_READ_WRITE_getInstance() {
  CacheMode_initEntries();
  return CacheMode_READ_WRITE_instance;
}
function LibraryManager(modelManager, cqlCompilerOptions, libraryCache, lazyUcumService, elmLibraryReaderProvider) {
  Companion_getInstance_8();
  cqlCompilerOptions = cqlCompilerOptions === VOID ? Companion_getInstance_4().v94() : cqlCompilerOptions;
  libraryCache = libraryCache === VOID ? null : libraryCache;
  lazyUcumService = lazyUcumService === VOID ? get_defaultLazyUcumService() : lazyUcumService;
  elmLibraryReaderProvider = elmLibraryReaderProvider === VOID ? DefaultElmLibraryReaderProvider_instance : elmLibraryReaderProvider;
  this.modelManager = modelManager;
  this.cqlCompilerOptions = cqlCompilerOptions;
  this.elmLibraryReaderProvider = elmLibraryReaderProvider;
  this.namespaceManager = this.modelManager.namespaceManager;
  var tmp = this;
  tmp.compiledLibraries = libraryCache == null ? HashMap_init_$Create$() : libraryCache;
  this.librarySourceLoader = new PriorityLibrarySourceLoader();
  this.e94_1 = lazyUcumService;
}
protoOf(LibraryManager).i9c = function () {
  return this.modelManager;
};
protoOf(LibraryManager).z96 = function () {
  return this.cqlCompilerOptions;
};
protoOf(LibraryManager).j9c = function () {
  return this.elmLibraryReaderProvider;
};
protoOf(LibraryManager).k9c = function () {
  return this.namespaceManager;
};
protoOf(LibraryManager).l9c = function () {
  return this.compiledLibraries;
};
protoOf(LibraryManager).m9c = function () {
  return this.librarySourceLoader;
};
protoOf(LibraryManager).n9c = function () {
  var tmp0 = this.e94_1;
  var tmp = KProperty1;
  // Inline function 'kotlin.getValue' call
  getPropertyCallableRef('ucumService', 1, tmp, LibraryManager$_get_ucumService_$ref_eymaov(), null);
  return tmp0.n2();
};
protoOf(LibraryManager).isWellKnownLibraryName = function (unqualifiedIdentifier) {
  if (unqualifiedIdentifier == null) {
    return false;
  }
  return unqualifiedIdentifier === 'FHIRHelpers';
};
protoOf(LibraryManager).o9c = function (libraryIdentifier, cacheMode) {
  return resolveLibraryInner(this, libraryIdentifier, cacheMode).r8t_1;
};
protoOf(LibraryManager).p9c = function (libraryIdentifier) {
  return resolveLibraryInner(this, libraryIdentifier, CacheMode_READ_WRITE_getInstance()).r8t_1;
};
protoOf(LibraryManager).canResolveLibrary = function (libraryIdentifier) {
  this.p9c(libraryIdentifier);
  return true;
};
protoOf(LibraryManager).p9a = function (libraryIdentifier, errors) {
  var compiledLibraryResult = resolveLibraryInner(this, libraryIdentifier, CacheMode_READ_WRITE_getInstance());
  errors.n(compiledLibraryResult.s8t_1);
  return compiledLibraryResult.r8t_1;
};
protoOf(LibraryManager).resolveLibraries = function (libraryIdentifiers) {
  return resolveLibraries(this, libraryIdentifiers, CacheMode_READ_WRITE_getInstance());
};
function LibrarySourceLoader() {
}
function LibrarySourceProvider() {
}
function createLibrarySourceProvider(getLibraryCql) {
  return new createLibrarySourceProvider$1(getLibraryCql);
}
function createLibrarySourceProvider$1($getLibraryCql) {
  this.q9c_1 = $getLibraryCql;
}
protoOf(createLibrarySourceProvider$1).getLibrarySource = function (libraryIdentifier) {
  return this.q9c_1(ensureNotNull(libraryIdentifier.b8i_1), libraryIdentifier.c8i_1, libraryIdentifier.d8i_1);
};
function getProviders($this) {
  if (!$this.u9c_1) {
    $this.u9c_1 = true;
    var it = getModelInfoProviders(false);
    while (it.h()) {
      var provider = it.i();
      $this.registerModelInfoProvider(provider);
    }
  }
  return $this.t9c_1;
}
function ModelInfoLoader() {
  this.r9c_1 = null;
  this.s9c_1 = null;
  this.t9c_1 = ArrayList_init_$Create$();
  this.u9c_1 = false;
}
protoOf(ModelInfoLoader).getModelInfo = function (modelIdentifier) {
  var modelInfo = null;
  var _iterator__ex2g4s = getProviders(this).g();
  $l$loop: while (_iterator__ex2g4s.h()) {
    var provider = _iterator__ex2g4s.i();
    modelInfo = provider.load(modelIdentifier);
    if (!(modelInfo == null)) {
      break $l$loop;
    }
  }
  var tmp0 = modelInfo;
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (tmp0 == null) {
      var message = 'Could not resolve model info provider for model ' + (modelIdentifier.v62_1 == null ? modelIdentifier.u62_1 : Companion_instance_1.getPath(modelIdentifier.v62_1, modelIdentifier.u62_1)) + ', version ' + modelIdentifier.w62_1 + '.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  return modelInfo;
};
protoOf(ModelInfoLoader).v9c = function (provider, priority) {
  var tmp;
  if (!(this.s9c_1 == null)) {
    tmp = isInterface(provider, NamespaceAware);
  } else {
    tmp = false;
  }
  if (tmp) {
    provider.x62(ensureNotNull(this.s9c_1));
  }
  var tmp_0;
  if (!(this.r9c_1 == null)) {
    tmp_0 = isInterface(provider, PathAware);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    provider.w9c(ensureNotNull(this.r9c_1));
  }
  if (priority) {
    this.t9c_1.k2(0, provider);
  } else {
    this.t9c_1.e(provider);
  }
};
protoOf(ModelInfoLoader).registerModelInfoProvider = function (provider, priority, $super) {
  priority = priority === VOID ? false : priority;
  var tmp;
  if ($super === VOID) {
    this.v9c(provider, priority);
    tmp = Unit_instance;
  } else {
    tmp = $super.v9c.call(this, provider, priority);
  }
  return tmp;
};
protoOf(ModelInfoLoader).unregisterModelInfoProvider = function (provider) {
  this.t9c_1.e2(provider);
};
protoOf(ModelInfoLoader).clearModelInfoProviders = function () {
  this.t9c_1.i2();
  this.u9c_1 = false;
};
protoOf(ModelInfoLoader).x62 = function (namespaceManager) {
  this.s9c_1 = namespaceManager;
  var _iterator__ex2g4s = getProviders(this).g();
  while (_iterator__ex2g4s.h()) {
    var provider = _iterator__ex2g4s.i();
    if (isInterface(provider, NamespaceAware)) {
      (isInterface(provider, NamespaceAware) ? provider : THROW_CCE()).x62(namespaceManager);
    }
  }
};
protoOf(ModelInfoLoader).w9c = function (path) {
  var tmp0_safe_receiver = get_SystemFileSystem().rq(path);
  // Inline function 'kotlin.require' call
  if (!((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.uq_1) === true)) {
    var message = "path '" + path.toString() + "' is not a valid directory";
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.r9c_1 = path;
  var _iterator__ex2g4s = getProviders(this).g();
  while (_iterator__ex2g4s.h()) {
    var provider = _iterator__ex2g4s.i();
    if (isInterface(provider, PathAware)) {
      provider.w9c(path);
    }
  }
};
function createModelInfoProvider(getModelInfoXml) {
  return new createModelInfoProvider$1(getModelInfoXml);
}
function createModelInfoProvider$1($getModelInfoXml) {
  this.x9c_1 = $getModelInfoXml;
}
protoOf(createModelInfoProvider$1).load = function (modelIdentifier) {
  var modelInfoXml = this.x9c_1(modelIdentifier.u62_1, modelIdentifier.v62_1, modelIdentifier.w62_1);
  var tmp;
  if (modelInfoXml == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.let' call
    tmp = parseModelInfoXml(modelInfoXml);
  }
  return tmp;
};
function buildModel($this, identifier) {
  var model;
  // Inline function 'kotlin.text.isNotEmpty' call
  var this_0 = identifier.u62_1;
  // Inline function 'kotlin.require' call
  if (!(charSequenceLength(this_0) > 0)) {
    var message = 'Model identifier Id is required';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var modelPath = Companion_instance_1.getPath(identifier.v62_1, identifier.u62_1);
  pushLoading($this, modelPath);
  try {
    var modelInfo = $this.modelInfoLoader.getModelInfo(identifier);
    if (equals(identifier.u62_1, 'System')) {
      model = new SystemModel(modelInfo);
    } else {
      model = new Model(modelInfo, $this);
    }
  } catch ($p) {
    if ($p instanceof Exception) {
      var e = $p;
      throw IllegalArgumentException_init_$Create$('Could not load model information for model ' + identifier.u62_1 + ', version ' + identifier.w62_1 + '.');
    } else {
      throw $p;
    }
  }
  finally {
    popLoading($this, modelPath);
  }
  return model;
}
function pushLoading($this, modelId) {
  // Inline function 'kotlin.require' call
  if (!!$this.j97_1.p(modelId)) {
    var message = 'Circular model reference ' + modelId;
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  $this.j97_1.e(modelId);
}
function popLoading($this, modelId) {
  $this.j97_1.e2(modelId);
}
function checkModelVersion($this, modelIdentifier, model) {
  // Inline function 'kotlin.require' call
  if (!!(!(modelIdentifier.w62_1 == null) && !equals_0(modelIdentifier.w62_1, model.q90_1.k5x_1))) {
    var message = 'Could not load model information for model ' + modelIdentifier.u62_1 + ', version ' + modelIdentifier.w62_1 + ' because version ' + model.q90_1.k5x_1 + ' is already loaded.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
}
function ModelManager(namespaceManager, enableDefaultModelInfoLoading, path, globalCache) {
  namespaceManager = namespaceManager === VOID ? new NamespaceManager() : namespaceManager;
  enableDefaultModelInfoLoading = enableDefaultModelInfoLoading === VOID ? true : enableDefaultModelInfoLoading;
  path = path === VOID ? null : path;
  globalCache = globalCache === VOID ? createConcurrentHashMap() : globalCache;
  this.namespaceManager = namespaceManager;
  this.enableDefaultModelInfoLoading = enableDefaultModelInfoLoading;
  this.path = path;
  this.globalCache = globalCache;
  var tmp = this;
  // Inline function 'kotlin.also' call
  var this_0 = new ModelInfoLoader();
  this_0.x62(this.namespaceManager);
  if (!(this.path == null)) {
    this_0.w9c(this.path);
  }
  tmp.modelInfoLoader = this_0;
  this.i97_1 = HashMap_init_$Create$();
  this.j97_1 = HashSet_init_$Create$();
  this.k97_1 = HashMap_init_$Create$();
}
protoOf(ModelManager).k9c = function () {
  return this.namespaceManager;
};
protoOf(ModelManager).y9c = function () {
  return this.enableDefaultModelInfoLoading;
};
protoOf(ModelManager).z9c = function () {
  return this.path;
};
protoOf(ModelManager).a9d = function () {
  return this.globalCache;
};
protoOf(ModelManager).b9d = function () {
  return this.modelInfoLoader;
};
protoOf(ModelManager).isWellKnownModelName = function (unqualifiedIdentifier) {
  if (unqualifiedIdentifier == null) {
    return false;
  }
  switch (unqualifiedIdentifier) {
    case 'FHIR':
    case 'QDM':
    case 'USCore':
    case 'QICore':
    case 'QUICK':
      return true;
    default:
      return false;
  }
};
protoOf(ModelManager).z9b = function (modelName, version) {
  return this.l97(new ModelIdentifier(modelName, null, version));
};
protoOf(ModelManager).resolveModel$default = function (modelName, version, $super) {
  version = version === VOID ? null : version;
  return $super === VOID ? this.z9b(modelName, version) : $super.z9b.call(this, modelName, version);
};
protoOf(ModelManager).l97 = function (modelIdentifier) {
  var modelPath = Companion_instance_1.getPath(modelIdentifier.v62_1, modelIdentifier.u62_1);
  var model = this.i97_1.q2(modelPath);
  if (!(model == null)) {
    checkModelVersion(this, modelIdentifier, model);
  }
  if (model == null && this.globalCache.o2(modelIdentifier)) {
    model = this.globalCache.q2(modelIdentifier);
    this.i97_1.u2(modelPath, ensureNotNull(model));
    this.k97_1.u2(ensureNotNull(model.q90_1.l5x_1), model);
  }
  if (model == null) {
    model = buildModel(this, modelIdentifier);
    this.globalCache.u2(modelIdentifier, model);
    checkModelVersion(this, modelIdentifier, model);
    this.i97_1.u2(modelPath, model);
    this.k97_1.u2(ensureNotNull(model.q90_1.l5x_1), model);
  }
  return model;
};
protoOf(ModelManager).resolveModelByUri = function (namespaceUri) {
  var model = this.k97_1.q2(namespaceUri);
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (model == null) {
      var message = 'Could not resolve model with namespace ' + namespaceUri;
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  return model;
};
function PathAware() {
}
function getProviders_0($this) {
  if (!$this.d9d_1) {
    $this.d9d_1 = true;
    var it = getLibrarySourceProviders(false);
    while (it.h()) {
      var provider = it.i();
      $this.registerProvider(provider);
    }
  }
  return $this.c9d_1;
}
function PriorityLibrarySourceLoader() {
  this.c9d_1 = ArrayList_init_$Create$();
  this.d9d_1 = false;
  this.e9d_1 = null;
  this.f9d_1 = null;
}
protoOf(PriorityLibrarySourceLoader).registerProvider = function (provider) {
  var tmp;
  if (!(this.f9d_1 == null)) {
    tmp = isInterface(provider, NamespaceAware);
  } else {
    tmp = false;
  }
  if (tmp) {
    provider.x62(ensureNotNull(this.f9d_1));
  }
  var tmp_0;
  if (!(this.e9d_1 == null)) {
    tmp_0 = isInterface(provider, PathAware);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    provider.w9c(ensureNotNull(this.e9d_1));
  }
  this.c9d_1.e(provider);
};
protoOf(PriorityLibrarySourceLoader).w9c = function (path) {
  var tmp0_safe_receiver = get_SystemFileSystem().rq(path);
  // Inline function 'kotlin.require' call
  if (!((tmp0_safe_receiver == null ? null : tmp0_safe_receiver.uq_1) === true)) {
    var message = "path '" + path.toString() + "' is not a valid directory";
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.e9d_1 = path;
  var _iterator__ex2g4s = getProviders_0(this).g();
  while (_iterator__ex2g4s.h()) {
    var provider = _iterator__ex2g4s.i();
    if (isInterface(provider, PathAware)) {
      provider.w9c(path);
    }
  }
};
protoOf(PriorityLibrarySourceLoader).clearProviders = function () {
  this.c9d_1.i2();
  this.d9d_1 = false;
};
protoOf(PriorityLibrarySourceLoader).getLibrarySource = function (libraryIdentifier) {
  return this.getLibraryContent(libraryIdentifier, LibraryContentType_CQL_getInstance());
};
protoOf(PriorityLibrarySourceLoader).getLibraryContent = function (libraryIdentifier, type) {
  var content;
  var _iterator__ex2g4s = getProviders_0(this).g();
  while (_iterator__ex2g4s.h()) {
    var provider = _iterator__ex2g4s.i();
    content = provider.getLibraryContent(libraryIdentifier, type);
    if (!(content == null)) {
      return content;
    }
  }
  return null;
};
protoOf(PriorityLibrarySourceLoader).x62 = function (namespaceManager) {
  this.f9d_1 = namespaceManager;
  var _iterator__ex2g4s = getProviders_0(this).g();
  while (_iterator__ex2g4s.h()) {
    var provider = _iterator__ex2g4s.i();
    if (isInterface(provider, NamespaceAware)) {
      provider.x62(namespaceManager);
    }
  }
};
function Companion_6() {
}
protoOf(Companion_6).g9d = function () {
  return new ResultWithPossibleError(null);
};
protoOf(Companion_6).h9d = function (underlyingThingOrNull) {
  return new ResultWithPossibleError(underlyingThingOrNull);
};
var Companion_instance_9;
function Companion_getInstance_9() {
  return Companion_instance_9;
}
function ResultWithPossibleError(underlyingThingOrNull) {
  this.n90_1 = underlyingThingOrNull;
}
protoOf(ResultWithPossibleError).p90 = function () {
  return this.n90_1 == null;
};
protoOf(ResultWithPossibleError).o90 = function () {
  // Inline function 'kotlin.require' call
  if (!!this.p90()) {
    var message = 'Should have called hasError() first';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return this.n90_1;
};
function sam$kotlin_Comparator$0_0(function_0) {
  this.i9d_1 = function_0;
}
protoOf(sam$kotlin_Comparator$0_0).oe = function (a, b) {
  return this.i9d_1(a, b);
};
protoOf(sam$kotlin_Comparator$0_0).compare = function (a, b) {
  return this.oe(a, b);
};
protoOf(sam$kotlin_Comparator$0_0).y3 = function () {
  return this.i9d_1;
};
protoOf(sam$kotlin_Comparator$0_0).equals = function (other) {
  var tmp;
  if (!(other == null) ? isInterface(other, Comparator) : false) {
    var tmp_0;
    if (!(other == null) ? isInterface(other, FunctionAdapter) : false) {
      tmp_0 = equals(this.y3(), other.y3());
    } else {
      tmp_0 = false;
    }
    tmp = tmp_0;
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(sam$kotlin_Comparator$0_0).hashCode = function () {
  return hashCode(this.y3());
};
function StringEscapeUtils$MULTI_CHAR_UNESCAPE$lambda(a, b) {
  // Inline function 'kotlin.comparisons.compareValuesBy' call
  var tmp = charSequenceLength(b);
  var tmp$ret$1 = charSequenceLength(a);
  return compareValues(tmp, tmp$ret$1);
}
function StringEscapeUtils$UNESCAPE_REGEX$lambda(it) {
  return Companion_getInstance().ld(toString(it));
}
function StringEscapeUtils$unescapeCql$lambda(matchResult) {
  var match = matchResult.n2();
  var tmp;
  // Inline function 'kotlin.collections.contains' call
  // Inline function 'kotlin.collections.containsKey' call
  var this_0 = StringEscapeUtils_getInstance().k93_1;
  if ((isInterface(this_0, KtMap) ? this_0 : THROW_CCE()).o2(match)) {
    tmp = toString_0(StringEscapeUtils_getInstance().k93_1.q2(match));
  } else {
    if (startsWith(match, '\\u')) {
      var hex = substring(match, 2);
      tmp = toString_1(numberToChar(toInt_0(hex, 16)));
    } else {
      throw IllegalArgumentException_init_$Create$('Invalid escape sequence: ' + match);
    }
  }
  return tmp;
}
function StringEscapeUtils() {
  StringEscapeUtils_instance = this;
  this.k93_1 = mapOf([to('\\"', new Char(_Char___init__impl__6a9atx(34))), to("\\'", new Char(_Char___init__impl__6a9atx(39))), to('\\`', new Char(_Char___init__impl__6a9atx(96))), to('\\\\', new Char(_Char___init__impl__6a9atx(92))), to('\\/', new Char(_Char___init__impl__6a9atx(47))), to('\\f', new Char(_Char___init__impl__6a9atx(12))), to('\\n', new Char(_Char___init__impl__6a9atx(10))), to('\\r', new Char(_Char___init__impl__6a9atx(13))), to('\\t', new Char(_Char___init__impl__6a9atx(9)))]);
  var tmp = this;
  // Inline function 'kotlin.collections.associate' call
  var this_0 = this.k93_1.t2();
  var capacity = coerceAtLeast(mapCapacity(collectionSizeOrDefault(this_0, 10)), 16);
  // Inline function 'kotlin.collections.associateTo' call
  var destination = LinkedHashMap_init_$Create$(capacity);
  var _iterator__ex2g4s = this_0.g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    // Inline function 'kotlin.collections.plusAssign' call
    var pair = to(element.n2(), element.m2());
    destination.u2(pair.rg_1, pair.sg_1);
  }
  tmp.l93_1 = destination;
  var tmp_0 = this;
  // Inline function 'kotlin.collections.sortedByDescending' call
  var this_1 = this.k93_1.r2();
  // Inline function 'kotlin.comparisons.compareByDescending' call
  var tmp_1 = StringEscapeUtils$MULTI_CHAR_UNESCAPE$lambda;
  var tmp$ret$4 = new sam$kotlin_Comparator$0_0(tmp_1);
  tmp_0.m93_1 = sortedWith(this_1, tmp$ret$4);
  var tmp_2 = this;
  tmp_2.n93_1 = Regex_init_$Create$(joinToString(this.m93_1, '|', VOID, VOID, VOID, VOID, StringEscapeUtils$UNESCAPE_REGEX$lambda) + '|\\\\u[0-9a-fA-F]{4}');
  this.o93_1 = 16;
}
protoOf(StringEscapeUtils).p93 = function (input) {
  return this.n93_1.ud(input, StringEscapeUtils$unescapeCql$lambda);
};
var StringEscapeUtils_instance;
function StringEscapeUtils_getInstance() {
  if (StringEscapeUtils_instance == null)
    new StringEscapeUtils();
  return StringEscapeUtils_instance;
}
function resolveAgeRelatedFunctionPrecision($this, functionRef) {
  var name = functionRef.m6w_1;
  var tmp;
  if (contains_0(ensureNotNull(name), 'Years')) {
    tmp = DateTimePrecision_YEAR_getInstance();
  } else if (contains_0(name, 'Months')) {
    tmp = DateTimePrecision_MONTH_getInstance();
  } else if (contains_0(name, 'Weeks')) {
    tmp = DateTimePrecision_WEEK_getInstance();
  } else if (contains_0(name, 'Days')) {
    tmp = DateTimePrecision_DAY_getInstance();
  } else if (contains_0(name, 'Hours')) {
    tmp = DateTimePrecision_HOUR_getInstance();
  } else if (contains_0(name, 'Minutes')) {
    tmp = DateTimePrecision_MINUTE_getInstance();
  } else if (contains_0(name, 'Second')) {
    tmp = DateTimePrecision_SECOND_getInstance();
  } else if (contains_0(name, 'Milliseconds')) {
    tmp = DateTimePrecision_MILLISECOND_getInstance();
  } else {
    throw IllegalArgumentException_init_$Create$("Unknown precision '" + name + "'.");
  }
  return tmp;
}
function resolveCalculateAge($this, e, p) {
  var operator = $this.l9b_1.s7n().e6e(p).a6c(e);
  var invocation = new UnaryExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', 'CalculateAge', invocation);
  return invocation;
}
function resolveCalculateAgeAt($this, e, p) {
  var operator = $this.l9b_1.s7k().e6e(p).f67(e);
  var invocation = new BinaryExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', 'CalculateAgeAt', invocation);
  return invocation;
}
function _get_patientBirthDateProperty__jvl76($this) {
  var source = ensureNotNull($this.k9b_1.resolveIdentifier('Patient', true));
  var birthDateProperty = ensureNotNull($this.k9b_1.b8w_1).q90_1.s5x_1;
  var tmp;
  if (indexOf_0(ensureNotNull(birthDateProperty), _Char___init__impl__6a9atx(46)) >= 1) {
    var property = $this.l9b_1.q7n().a6k(source).y6c(birthDateProperty);
    Trackable_getInstance().o8v(property, $this.k9b_1.resolvePath(Trackable_getInstance().n8v(source), ensureNotNull(property.m7x_1)));
    tmp = property;
  } else {
    var resolution = $this.k9b_1.resolveProperty(Trackable_getInstance().n8v(source), birthDateProperty);
    var result = $this.k9b_1.p8w(source, ensureNotNull(resolution).b91_1, resolution.d91_1, resolution.a91_1);
    result = $this.k9b_1.applyTargetMap(result, resolution.c91_1);
    tmp = result;
  }
  return tmp;
}
function resolveRound($this, functionRef) {
  var containsArg = functionRef.o67().j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'Could not resolve call to system operator Round.  Expected 1 or 2 arguments.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var round = $this.l9b_1.x7p().a6c(functionRef.o67().o(0));
  if (functionRef.o67().j() === 2) {
    round.p82_1 = functionRef.o67().o(1);
  }
  var invocation = new RoundInvocation(round);
  $this.k9b_1.resolveInvocation$default('System', 'Round', new RoundInvocation(round));
  return invocation;
}
function resolveDateTime($this, functionRef) {
  var dt = $this.l9b_1.b7m();
  Companion_instance_17.j9d(dt, functionRef.o67());
  var invocation = new DateTimeInvocation(dt);
  $this.k9b_1.resolveInvocation$default('System', 'DateTime', invocation);
  return invocation;
}
function resolveDate($this, functionRef) {
  var d = $this.l9b_1.h7q();
  Companion_instance_16.k9d(d, functionRef.o67());
  var invocation = new DateInvocation(d);
  $this.k9b_1.resolveInvocation$default('System', 'Date', invocation);
  return invocation;
}
function resolveTime($this, functionRef) {
  var t = $this.l9b_1.c7l();
  Companion_instance_18.l9d(t, functionRef.o67());
  var invocation = new TimeInvocation(t);
  $this.k9b_1.resolveInvocation$default('System', 'Time', invocation);
  return invocation;
}
function resolveNow($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 0);
  var now = $this.l9b_1.y7k();
  var invocation = new ZeroOperandExpressionInvocation(now);
  $this.k9b_1.resolveInvocation$default('System', 'Now', invocation);
  return invocation;
}
function resolveToday($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 0);
  var today = $this.l9b_1.i7q();
  var invocation = new ZeroOperandExpressionInvocation(today);
  $this.k9b_1.resolveInvocation$default('System', 'Today', invocation);
  return invocation;
}
function resolveTimeOfDay($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 0);
  var timeOfDay = $this.l9b_1.b7q();
  var invocation = new ZeroOperandExpressionInvocation(timeOfDay);
  $this.k9b_1.resolveInvocation$default('System', 'TimeOfDay', invocation);
  return invocation;
}
function resolveIndexOf($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var indexOf = $this.l9b_1.l7m();
  indexOf.q73_1 = functionRef.o67().o(0);
  indexOf.r73_1 = functionRef.o67().o(1);
  var invocation = new IndexOfInvocation(indexOf);
  $this.k9b_1.resolveInvocation$default('System', 'IndexOf', invocation);
  return invocation;
}
function resolveFirst($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 1);
  var first = $this.l9b_1.o7k();
  first.d6x_1 = functionRef.o67().o(0);
  var invocation = new FirstInvocation(first);
  $this.k9b_1.resolveInvocation$default('System', 'First', invocation);
  return invocation;
}
function resolveLast($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 1);
  var last = $this.l9b_1.g7k();
  last.l77_1 = functionRef.o67().o(0);
  var invocation = new LastInvocation(last);
  $this.k9b_1.resolveInvocation$default('System', 'Last', invocation);
  return invocation;
}
function resolveSkip($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var slice = $this.l9b_1.y7o();
  slice.q84_1 = functionRef.o67().o(0);
  slice.r84_1 = functionRef.o67().o(1);
  slice.s84_1 = $this.k9b_1.buildNull(Trackable_getInstance().n8v(functionRef.o67().o(1)));
  var invocation = new SkipInvocation(slice);
  $this.k9b_1.resolveInvocation$default('System', 'Skip', invocation);
  return invocation;
}
function resolveTake($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var slice = $this.l9b_1.y7o();
  slice.q84_1 = functionRef.o67().o(0);
  slice.r84_1 = $this.k9b_1.j8w(0);
  var coalesce = $this.l9b_1.t7k().f67(listOf([functionRef.o67().o(1), $this.k9b_1.j8w(0)]));
  var naryInvocation = new NaryExpressionInvocation(coalesce);
  $this.k9b_1.resolveInvocation$default('System', 'Coalesce', naryInvocation);
  slice.s84_1 = coalesce;
  var invocation = new TakeInvocation(slice);
  $this.k9b_1.resolveInvocation$default('System', 'Take', invocation);
  return invocation;
}
function resolveTail($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 1);
  var slice = $this.l9b_1.y7o();
  slice.q84_1 = functionRef.o67().o(0);
  slice.r84_1 = $this.k9b_1.j8w(1);
  slice.s84_1 = $this.k9b_1.buildNull($this.k9b_1.l8w('System', 'Integer'));
  var invocation = new TailInvocation(slice);
  $this.k9b_1.resolveInvocation$default('System', 'Tail', invocation);
  return invocation;
}
function resolveCombine($this, functionRef) {
  var containsArg = functionRef.o67().j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'Could not resolve call to system operator Combine.  Expected 1 or 2 arguments.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var combine = $this.l9b_1.b7l().a6k(functionRef.o67().o(0));
  if (functionRef.o67().j() === 2) {
    combine.z6j_1 = functionRef.o67().o(1);
  }
  var invocation = new CombineInvocation(combine);
  $this.k9b_1.resolveInvocation$default('System', 'Combine', invocation);
  return invocation;
}
function resolveSplit($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var split = $this.l9b_1.v7i().r85(functionRef.o67().o(0)).s85(functionRef.o67().o(1));
  var invocation = new SplitInvocation(split);
  $this.k9b_1.resolveInvocation$default('System', 'Split', invocation);
  return invocation;
}
function resolveSplitOnMatches($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var splitOnMatches = $this.l9b_1.v7l().r85(functionRef.o67().o(0)).b86(functionRef.o67().o(1));
  var invocation = new SplitOnMatchesInvocation(splitOnMatches);
  $this.k9b_1.resolveInvocation$default('System', 'SplitOnMatches', invocation);
  return invocation;
}
function resolvePositionOf($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var pos = $this.l9b_1.z7h().u77(functionRef.o67().o(0)).v77(functionRef.o67().o(1));
  var invocation = new PositionOfInvocation(pos);
  $this.k9b_1.resolveInvocation$default('System', 'PositionOf', invocation);
  return invocation;
}
function resolveLastPositionOf($this, functionRef) {
  checkNumberOfOperands($this, functionRef, 2);
  var pos = $this.l9b_1.u7m().u77(functionRef.o67().o(0)).v77(functionRef.o67().o(1));
  var invocation = new LastPositionOfInvocation(pos);
  $this.k9b_1.resolveInvocation$default('System', 'LastPositionOf', invocation);
  return invocation;
}
function resolveSubstring($this, functionRef) {
  var containsArg = functionRef.o67().j();
  // Inline function 'kotlin.require' call
  if (!(2 <= containsArg ? containsArg <= 3 : false)) {
    var message = 'Could not resolve call to system operator Substring.  Expected 2 or 3 arguments.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var substring = $this.l9b_1.i7m().p87(functionRef.o67().o(0)).q87(functionRef.o67().o(1));
  if (functionRef.o67().j() === 3) {
    substring.o87_1 = functionRef.o67().o(2);
  }
  var invocation = new SubstringInvocation(substring);
  $this.k9b_1.resolveInvocation$default('System', 'Substring', invocation);
  return invocation;
}
function resolveMessage($this, functionRef) {
  // Inline function 'kotlin.require' call
  if (!(functionRef.o67().j() === 5)) {
    var message = 'Could not resolve call to system operator Message. Expected 5 arguments.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var message_0 = $this.l9b_1.r7p().a6k(functionRef.o67().o(0)).p70(functionRef.o67().o(1)).o71(functionRef.o67().o(2)).k7e(functionRef.o67().o(3)).l7e(functionRef.o67().o(4));
  var invocation = new MessageInvocation(message_0);
  $this.k9b_1.resolveInvocation$default('System', 'Message', invocation);
  return invocation;
}
function resolveUnary($this, functionRef) {
  // Inline function 'org.cqframework.cql.cql2elm.SystemFunctionResolver.createExpression' call
  var tmp = createExpression($this.l9b_1, ensureNotNull(functionRef.m6w_1));
  var operator = tmp instanceof UnaryExpression ? tmp : THROW_CCE();
  checkNumberOfOperands($this, functionRef, 1);
  operator.u66_1 = functionRef.o67().o(0);
  var invocation = new UnaryExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', ensureNotNull(functionRef.m6w_1), invocation);
  return invocation;
}
function resolveBinary($this, functionRef) {
  // Inline function 'org.cqframework.cql.cql2elm.SystemFunctionResolver.createExpression' call
  var tmp = createExpression($this.l9b_1, ensureNotNull(functionRef.m6w_1));
  var operator = tmp instanceof BinaryExpression ? tmp : THROW_CCE();
  checkNumberOfOperands($this, functionRef, 2);
  operator.o67().n(functionRef.o67());
  var invocation = new BinaryExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', ensureNotNull(functionRef.m6w_1), invocation);
  return invocation;
}
function resolveTernary($this, functionRef) {
  // Inline function 'org.cqframework.cql.cql2elm.SystemFunctionResolver.createExpression' call
  var tmp = createExpression($this.l9b_1, ensureNotNull(functionRef.m6w_1));
  var operator = tmp instanceof TernaryExpression ? tmp : THROW_CCE();
  checkNumberOfOperands($this, functionRef, 3);
  operator.o67().n(functionRef.o67());
  var invocation = new TernaryExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', ensureNotNull(functionRef.m6w_1), invocation);
  return invocation;
}
function resolveNary($this, functionRef) {
  // Inline function 'org.cqframework.cql.cql2elm.SystemFunctionResolver.createExpression' call
  var tmp = createExpression($this.l9b_1, ensureNotNull(functionRef.m6w_1));
  var operator = tmp instanceof NaryExpression ? tmp : THROW_CCE();
  operator.o67().n(functionRef.o67());
  var invocation = new NaryExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', ensureNotNull(functionRef.m6w_1), invocation);
  return invocation;
}
function resolveAggregate($this, functionRef) {
  // Inline function 'org.cqframework.cql.cql2elm.SystemFunctionResolver.createExpression' call
  var tmp = createExpression($this.l9b_1, ensureNotNull(functionRef.m6w_1));
  var operator = tmp instanceof AggregateExpression ? tmp : THROW_CCE();
  checkNumberOfOperands($this, functionRef, 1);
  operator.r68_1 = functionRef.o67().o(0);
  var invocation = new AggregateExpressionInvocation(operator);
  $this.k9b_1.resolveInvocation$default('System', ensureNotNull(functionRef.m6w_1), invocation);
  return invocation;
}
function checkNumberOfOperands($this, functionRef, expectedOperands) {
  // Inline function 'kotlin.require' call
  if (!(functionRef.o67().j() === expectedOperands)) {
    var message = 'Could not resolve call to system operator ' + functionRef.m6w_1 + '.  Expected ' + expectedOperands + ' arguments.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
}
function Companion_7() {
}
var Companion_instance_10;
function Companion_getInstance_10() {
  return Companion_instance_10;
}
function SystemFunctionResolver(builder) {
  this.k9b_1 = builder;
  this.l9b_1 = this.k9b_1.objectFactory;
}
protoOf(SystemFunctionResolver).m9b = function (functionRef) {
  if (functionRef.n6w_1 == null || 'System' === functionRef.n6w_1) {
    switch (functionRef.m6w_1) {
      case 'AllTrue':
      case 'AnyTrue':
      case 'Avg':
      case 'Count':
      case 'GeometricMean':
      case 'Max':
      case 'Median':
      case 'Min':
      case 'Mode':
      case 'PopulationStdDev':
      case 'PopulationVariance':
      case 'Product':
      case 'StdDev':
      case 'Sum':
      case 'Variance':
        return resolveAggregate(this, functionRef);
      case 'Abs':
      case 'Ceiling':
      case 'Exp':
      case 'Floor':
      case 'Ln':
      case 'Negate':
      case 'Precision':
      case 'Predecessor':
      case 'Successor':
      case 'Truncate':
        return resolveUnary(this, functionRef);
      case 'HighBoundary':
      case 'Log':
      case 'LowBoundary':
      case 'Modulo':
      case 'Power':
      case 'TruncatedDivide':
        return resolveBinary(this, functionRef);
      case 'Round':
        return resolveRound(this, functionRef);
      case 'AgeInYears':
      case 'AgeInMonths':
        checkNumberOfOperands(this, functionRef, 0);
        return resolveCalculateAge(this, this.k9b_1.enforceCompatible(_get_patientBirthDateProperty__jvl76(this), this.k9b_1.l8w('System', 'Date')), resolveAgeRelatedFunctionPrecision(Companion_instance_10, functionRef));
      case 'AgeInWeeks':
      case 'AgeInDays':
      case 'AgeInHours':
      case 'AgeInMinutes':
      case 'AgeInSeconds':
      case 'AgeInMilliseconds':
        checkNumberOfOperands(this, functionRef, 0);
        return resolveCalculateAge(this, this.k9b_1.ensureCompatible(_get_patientBirthDateProperty__jvl76(this), this.k9b_1.l8w('System', 'DateTime')), resolveAgeRelatedFunctionPrecision(Companion_instance_10, functionRef));
      case 'AgeInYearsAt':
      case 'AgeInMonthsAt':
      case 'AgeInWeeksAt':
      case 'AgeInDaysAt':
        checkNumberOfOperands(this, functionRef, 1);
        var ops = ArrayList_init_$Create$();
        var op = functionRef.o67().o(0);
        if (!(ensureNotNull(Trackable_getInstance().n8v(op)).x5z(ensureNotNull(this.k9b_1.l8w('System', 'Date'))) || ensureNotNull(Trackable_getInstance().n8v(op)).x5z(ensureNotNull(this.k9b_1.l8w('System', 'DateTime'))))) {
          var dateConversion = this.k9b_1.findConversion(ensureNotNull(Trackable_getInstance().n8v(op)), ensureNotNull(this.k9b_1.l8w('System', 'Date')), true, false);
          var dateTimeConversion = this.k9b_1.findConversion(ensureNotNull(Trackable_getInstance().n8v(op)), ensureNotNull(this.k9b_1.l8w('System', 'DateTime')), true, false);
          var tmp;
          if (!(dateConversion == null) && !(dateTimeConversion == null)) {
            // Inline function 'kotlin.require' call
            if (!!(dateConversion.m9d() === dateTimeConversion.m9d())) {
              var message = replace(trimMargin('Ambiguous implicit conversion from\n                                            |' + toString_0(Trackable_getInstance().n8v(op)) + ' to ' + toString(dateConversion.j98_1) + '\n                                            |or ' + toString_0(dateTimeConversion) + '.'), '\n', '');
              throw IllegalArgumentException_init_$Create$(toString(message));
            }
            var tmp_0;
            if (dateConversion.m9d() < dateTimeConversion.m9d()) {
              tmp_0 = this.k9b_1.e91(op, dateConversion);
            } else {
              tmp_0 = this.k9b_1.e91(op, dateTimeConversion);
            }
            tmp = tmp_0;
          } else if (!(dateConversion == null)) {
            tmp = this.k9b_1.e91(op, dateConversion);
          } else if (!(dateTimeConversion == null)) {
            tmp = this.k9b_1.e91(op, dateTimeConversion);
          } else {
            throw IllegalArgumentException_init_$Create$(trimIndent('Could not resolve call to operator ' + functionRef.m6w_1 + '\n                                           with argument of type ' + toString_0(Trackable_getInstance().n8v(op)) + '.'));
          }
          op = tmp;
        }

        ops.e(this.k9b_1.enforceCompatible(_get_patientBirthDateProperty__jvl76(this), Trackable_getInstance().n8v(op)));
        ops.e(op);
        return resolveCalculateAgeAt(this, ops, resolveAgeRelatedFunctionPrecision(Companion_instance_10, functionRef));
      case 'AgeInHoursAt':
      case 'AgeInMinutesAt':
      case 'AgeInSecondsAt':
      case 'AgeInMillisecondsAt':
        var ops_0 = ArrayList_init_$Create$();
        ops_0.e(ensureNotNull(_get_patientBirthDateProperty__jvl76(this)));
        ops_0.n(functionRef.o67());
        return resolveCalculateAgeAt(this, ops_0, resolveAgeRelatedFunctionPrecision(Companion_instance_10, functionRef));
      case 'CalculateAgeInYears':
      case 'CalculateAgeInMonths':
      case 'CalculateAgeInWeeks':
      case 'CalculateAgeInDays':
      case 'CalculateAgeInHours':
      case 'CalculateAgeInMinutes':
      case 'CalculateAgeInSeconds':
      case 'CalculateAgeInMilliseconds':
        checkNumberOfOperands(this, functionRef, 1);
        return resolveCalculateAge(this, functionRef.o67().o(0), resolveAgeRelatedFunctionPrecision(Companion_instance_10, functionRef));
      case 'CalculateAgeInYearsAt':
      case 'CalculateAgeInMonthsAt':
      case 'CalculateAgeInWeeksAt':
      case 'CalculateAgeInDaysAt':
      case 'CalculateAgeInHoursAt':
      case 'CalculateAgeInMinutesAt':
      case 'CalculateAgeInSecondsAt':
      case 'CalculateAgeInMillisecondsAt':
        return resolveCalculateAgeAt(this, functionRef.o67(), resolveAgeRelatedFunctionPrecision(Companion_instance_10, functionRef));
      case 'DateTime':
        return resolveDateTime(this, functionRef);
      case 'Date':
        return resolveDate(this, functionRef);
      case 'Time':
        return resolveTime(this, functionRef);
      case 'Now':
      case 'now':
        return resolveNow(this, functionRef);
      case 'Today':
      case 'today':
        return resolveToday(this, functionRef);
      case 'TimeOfDay':
      case 'timeOfDay':
        return resolveTimeOfDay(this, functionRef);
      case 'IndexOf':
        return resolveIndexOf(this, functionRef);
      case 'First':
        return resolveFirst(this, functionRef);
      case 'Last':
        return resolveLast(this, functionRef);
      case 'Skip':
        return resolveSkip(this, functionRef);
      case 'Take':
        return resolveTake(this, functionRef);
      case 'Tail':
        return resolveTail(this, functionRef);
      case 'Contains':
      case 'Expand':
      case 'In':
      case 'Includes':
      case 'IncludedIn':
      case 'ProperIncludes':
      case 'ProperIncludedIn':
        return resolveBinary(this, functionRef);
      case 'Distinct':
      case 'Exists':
      case 'Flatten':
      case 'Collapse':
      case 'SingletonFrom':
      case 'ExpandValueSet':
        return resolveUnary(this, functionRef);
      case 'Coalesce':
      case 'Intersect':
      case 'Union':
      case 'Except':
        return resolveNary(this, functionRef);
      case 'IsNull':
      case 'IsTrue':
      case 'IsFalse':
        return resolveUnary(this, functionRef);
      case 'Length':
      case 'Width':
      case 'Size':
        return resolveUnary(this, functionRef);
      case 'Indexer':
      case 'StartsWith':
      case 'EndsWith':
      case 'Matches':
        return resolveBinary(this, functionRef);
      case 'ReplaceMatches':
        return resolveTernary(this, functionRef);
      case 'Concatenate':
        return resolveNary(this, functionRef);
      case 'Combine':
        return resolveCombine(this, functionRef);
      case 'Split':
        return resolveSplit(this, functionRef);
      case 'SplitOnMatches':
        return resolveSplitOnMatches(this, functionRef);
      case 'Upper':
      case 'Lower':
        return resolveUnary(this, functionRef);
      case 'PositionOf':
        return resolvePositionOf(this, functionRef);
      case 'LastPositionOf':
        return resolveLastPositionOf(this, functionRef);
      case 'Substring':
        return resolveSubstring(this, functionRef);
      case 'Not':
        return resolveUnary(this, functionRef);
      case 'And':
      case 'Or':
      case 'Xor':
      case 'Implies':
        return resolveBinary(this, functionRef);
      case 'ConvertsToString':
      case 'ConvertsToBoolean':
      case 'ConvertsToInteger':
      case 'ConvertsToLong':
      case 'ConvertsToDecimal':
      case 'ConvertsToDateTime':
      case 'ConvertsToDate':
      case 'ConvertsToTime':
      case 'ConvertsToQuantity':
      case 'ConvertsToRatio':
      case 'ToString':
      case 'ToBoolean':
      case 'ToInteger':
      case 'ToLong':
      case 'ToDecimal':
      case 'ToDateTime':
      case 'ToDate':
      case 'ToTime':
      case 'ToQuantity':
      case 'ToRatio':
      case 'ToConcept':
      case 'ToChars':
        return resolveUnary(this, functionRef);
      case 'CanConvertQuantity':
      case 'ConvertQuantity':
        return resolveBinary(this, functionRef);
      case 'Equal':
      case 'NotEqual':
      case 'Greater':
      case 'GreaterOrEqual':
      case 'Less':
      case 'LessOrEqual':
      case 'Equivalent':
        return resolveBinary(this, functionRef);
      case 'Message':
        return resolveMessage(this, functionRef);
    }
  }
  return null;
};
function getParams($this, target, ctx) {
  var params = ArrayList_init_$Create$();
  params.e(target);
  if (!((ctx == null ? null : ctx.j3w()) == null)) {
    var _iterator__ex2g4s = ctx.j3w().g();
    while (_iterator__ex2g4s.h()) {
      var param = _iterator__ex2g4s.i();
      var tmp = $this.w8y_1.d32(param);
      params.e(tmp instanceof Expression ? tmp : THROW_CCE());
    }
  }
  return params;
}
function checkArgumentCount($this, ctx, functionName, expectedCount) {
  var actualCount = 0;
  if (!((ctx == null ? null : ctx.j3w()) == null)) {
    actualCount = ctx.j3w().j();
  }
  // Inline function 'kotlin.require' call
  if (!(actualCount === expectedCount)) {
    var message = 'Expected ' + expectedCount + ' argument for method ' + functionName + '.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
}
function enterQueryContext($this, target) {
  var queryContext = new QueryContext();
  queryContext.v91_1 = true;
  var sources = ArrayList_init_$Create$();
  var source = $this.y8y_1.f7q().r69(target).q69('$this');
  Trackable_getInstance().o8v(source, Trackable_getInstance().n8v(target));
  sources.e(source);
  queryContext.a92(sources);
  $this.x8y_1.pushQueryContext(queryContext);
  return source;
}
function createQuery($this, source, let_0, where, ret) {
  var queryContext = $this.x8y_1.peekQueryContext();
  // Inline function 'kotlin.collections.arrayListOf' call
  var lets = ArrayList_init_$Create$();
  if (!(let_0 == null)) {
    lets.e(let_0);
  }
  var query = $this.y8y_1.l7h().q7y(toList(queryContext.n9d())).r7y(lets).t7y(where).u7y(ret);
  if (!(ret == null)) {
    Trackable_getInstance().o8v(query, Trackable_getInstance().n8v(ret));
  } else {
    Trackable_getInstance().o8v(query, Trackable_getInstance().n8v(source));
  }
  return query;
}
function exitQueryContext($this) {
  $this.x8y_1.popQueryContext();
}
function createWhere($this, target, functionName, ctx) {
  var source = enterQueryContext($this, target);
  var tmp;
  try {
    checkArgumentCount($this, ctx, functionName, 1);
    var tmp_0 = $this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
    var where = (tmp_0 == null ? true : tmp_0 instanceof Expression) ? tmp_0 : THROW_CCE();
    if ($this.w8y_1.i8u_1) {
      where = $this.w8y_1.b92(where, source);
    }
    tmp = createQuery($this, source, null, where, null);
  }finally {
    exitQueryContext($this);
  }
  return tmp;
}
function createOfType($this, target, functionName, ctx) {
  var source = enterQueryContext($this, target);
  var tmp;
  try {
    checkArgumentCount($this, ctx, functionName, 1);
    $this.x8y_1.pushTypeSpecifierContext();
    var tmp_0;
    try {
      var tmp_1 = $this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      tmp_0 = (tmp_1 == null ? true : tmp_1 instanceof Expression) ? tmp_1 : THROW_CCE();
    }finally {
      $this.x8y_1.popTypeSpecifierContext();
    }
    var typeArgument = tmp_0;
    // Inline function 'kotlin.require' call
    if (!(typeArgument instanceof Literal)) {
      var message = 'Expected literal argument';
      throw IllegalArgumentException_init_$Create$(toString(message));
    }
    // Inline function 'kotlin.require' call
    if (!DataTypes_instance.q8z(Trackable_getInstance().n8v(typeArgument), $this.x8y_1.l8w('System', 'String'))) {
      var message_0 = 'Expected string literal argument';
      throw IllegalArgumentException_init_$Create$(toString(message_0));
    }
    var typeSpecifier = typeArgument.u7a_1;
    var isType = $this.x8y_1.resolveTypeSpecifier(typeSpecifier);
    var thisRef = $this.y8y_1.g7j().q65(source.o69_1);
    var tmp_2 = Trackable_getInstance().n8v(source);
    var isSingular = !(tmp_2 instanceof ListType);
    var tmp_3;
    if (isSingular) {
      tmp_3 = Trackable_getInstance().n8v(source);
    } else {
      var tmp_4 = Trackable_getInstance().n8v(source);
      tmp_3 = (tmp_4 instanceof ListType ? tmp_4 : THROW_CCE()).d61_1;
    }
    var elementType = tmp_3;
    Trackable_getInstance().o8v(thisRef, elementType);
    var isExpression = $this.y8y_1.g7n().a6c(thisRef);
    if (!(isType == null) ? isInterface(isType, NamedType) : false) {
      isExpression.z75_1 = $this.x8y_1.dataTypeToQName(isType);
    } else {
      isExpression.a76_1 = $this.x8y_1.dataTypeToTypeSpecifier(isType);
    }
    Trackable_getInstance().o8v(isExpression, $this.x8y_1.l8w('System', 'Boolean'));
    tmp = createQuery($this, source, null, isExpression, null);
  }finally {
    exitQueryContext($this);
  }
  return tmp;
}
function createRepeat($this, target, functionName, ctx) {
  var source = enterQueryContext($this, target);
  var tmp;
  try {
    var tmp_0 = Trackable_getInstance().n8v(source);
    var isSingular = !(tmp_0 instanceof ListType);
    checkArgumentCount($this, ctx, functionName, 1);
    var tmp_1 = $this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
    var select = (tmp_1 == null ? true : tmp_1 instanceof Expression) ? tmp_1 : THROW_CCE();
    var repeat = $this.y8y_1.r7h();
    repeat.b80_1 = target;
    repeat.c80_1 = select;
    repeat.a80_1 = '$this';
    if (isSingular) {
      Trackable_getInstance().o8v(repeat, new ListType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(select)))));
    } else {
      Trackable_getInstance().o8v(repeat, Trackable_getInstance().n8v(ensureNotNull(select)));
    }
    tmp = repeat;
  }finally {
    exitQueryContext($this);
  }
  return tmp;
}
function createSelect($this, target, functionName, ctx) {
  var isListResult;
  var isSingular;
  var source = enterQueryContext($this, target);
  var tmp;
  try {
    var tmp_0 = Trackable_getInstance().n8v(source);
    isSingular = !(tmp_0 instanceof ListType);
    checkArgumentCount($this, ctx, functionName, 1);
    var tmp_1 = $this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
    var select = (tmp_1 == null ? true : tmp_1 instanceof Expression) ? tmp_1 : THROW_CCE();
    var queryContext = $this.x8y_1.peekQueryContext();
    var let_0 = $this.y8y_1.s7o().r69(select).y78('$a');
    Trackable_getInstance().o8v(let_0, Trackable_getInstance().n8v(ensureNotNull(select)));
    queryContext.g92(let_0);
    var tmp_2 = Trackable_getInstance().n8v(select);
    isListResult = tmp_2 instanceof ListType;
    var letRef = $this.y8y_1.t7i().q65('$a');
    Trackable_getInstance().o8v(letRef, Trackable_getInstance().n8v(select));
    var params = ArrayList_init_$Create$();
    params.e(letRef);
    var where = ensureNotNull($this.x8y_1.f91(null, 'IsNull', params));
    params = ArrayList_init_$Create$();
    params.e(where);
    where = ensureNotNull($this.x8y_1.f91(null, 'Not', params));
    var returnClause = $this.y8y_1.d7o();
    letRef = $this.y8y_1.t7i().q65('$a');
    Trackable_getInstance().o8v(letRef, Trackable_getInstance().n8v(select));
    returnClause.g82_1 = letRef;
    Trackable_getInstance().o8v(returnClause, isSingular ? Trackable_getInstance().n8v(letRef) : new ListType(ensureNotNull(Trackable_getInstance().n8v(letRef))));
    var query = createQuery($this, source, let_0, where, returnClause);
    var tmp_3;
    if (!isSingular && isListResult) {
      params = ArrayList_init_$Create$();
      params.e(query);
      tmp_3 = $this.x8y_1.f91(null, 'Flatten', params);
    } else {
      tmp_3 = query;
    }
    tmp = tmp_3;
  }finally {
    exitQueryContext($this);
  }
  return tmp;
}
function gatherChildTypes($this, dataType, recurse, dataTypes) {
  if (dataType instanceof ClassType) {
    var _iterator__ex2g4s = dataType.k60_1.g();
    while (_iterator__ex2g4s.h()) {
      var element = _iterator__ex2g4s.i();
      var tmp;
      var tmp_0 = element.y60_1;
      if (tmp_0 instanceof ListType) {
        var tmp_1 = element.y60_1;
        tmp = (tmp_1 instanceof ListType ? tmp_1 : THROW_CCE()).d61_1;
      } else {
        tmp = element.y60_1;
      }
      var elementType = tmp;
      dataTypes.e(elementType);
      if (recurse) {
        gatherChildTypes($this, elementType, true, dataTypes);
      }
    }
  } else {
    if (dataType instanceof TupleType) {
      var _iterator__ex2g4s_0 = dataType.r63_1.g();
      while (_iterator__ex2g4s_0.h()) {
        var element_0 = _iterator__ex2g4s_0.i();
        var tmp_2;
        var tmp_3 = element_0.j61_1;
        if (tmp_3 instanceof ListType) {
          var tmp_4 = element_0.j61_1;
          tmp_2 = (tmp_4 instanceof ListType ? tmp_4 : THROW_CCE()).d61_1;
        } else {
          tmp_2 = element_0.j61_1;
        }
        var elementType_0 = tmp_2;
        dataTypes.e(elementType_0);
        if (recurse) {
          gatherChildTypes($this, elementType_0, true, dataTypes);
        }
      }
    } else {
      if (dataType instanceof ListType) {
        var elementType_1 = dataType.d61_1;
        dataTypes.e(elementType_1);
        if (recurse) {
          gatherChildTypes($this, elementType_1, true, dataTypes);
        }
      } else {
        dataTypes.e(ensureNotNull($this.x8y_1.j90('System.Any')));
      }
    }
  }
}
function SystemMethodResolver(visitor, builder) {
  this.w8y_1 = visitor;
  this.x8y_1 = builder;
  this.y8y_1 = this.x8y_1.objectFactory;
}
protoOf(SystemMethodResolver).z8y = function (target, functionName, ctx, mustResolve) {
  var tmp;
  switch (functionName) {
    case 'aggregate':
      tmp = this.x8y_1.f91(null, 'Aggregate', getParams(this, target, ctx));
      break;
    case 'abs':
      tmp = this.x8y_1.f91(null, 'Abs', getParams(this, target, ctx));
      break;
    case 'all':
      var query = createWhere(this, target, functionName, ctx);
      var returnClause = this.y8y_1.d7o();
      returnClause.g82_1 = this.x8y_1.f8x(true);
      var tmp_0 = Trackable_getInstance().n8v(query);
      if (tmp_0 instanceof ListType) {
        Trackable_getInstance().o8v(returnClause, new ListType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(returnClause.g82_1)))));
      } else {
        Trackable_getInstance().o8v(returnClause, Trackable_getInstance().n8v(ensureNotNull(returnClause.g82_1)));
      }

      query.i7y_1 = returnClause;
      Trackable_getInstance().o8v(query, Trackable_getInstance().n8v(returnClause));
      var params = ArrayList_init_$Create$();
      params.e(query);
      tmp = this.x8y_1.f91(null, 'AllTrue', params);
      break;
    case 'allTrue':
      tmp = this.x8y_1.f91(null, 'AllTrue', getParams(this, target, ctx));
      break;
    case 'anyTrue':
      tmp = this.x8y_1.f91(null, 'AnyTrue', getParams(this, target, ctx));
      break;
    case 'allFalse':
      tmp = this.x8y_1.f91(null, 'AllFalse', getParams(this, target, ctx));
      break;
    case 'anyFalse':
      tmp = this.x8y_1.f91(null, 'AnyFalse', getParams(this, target, ctx));
      break;
    case 'ceiling':
      tmp = this.x8y_1.f91(null, 'Ceiling', getParams(this, target, ctx));
      break;
    case 'children':
      checkArgumentCount(this, ctx, functionName, 0);
      var children = this.y8y_1.k7l();
      children.j6g_1 = target;
      var dataTypes = HashSet_init_$Create$();
      gatherChildTypes(this, ensureNotNull(Trackable_getInstance().n8v(target)), false, dataTypes);
      if (dataTypes.j() === 1) {
        Trackable_getInstance().o8v(children, new ListType(dataTypes.g().i()));
      } else {
        Trackable_getInstance().o8v(children, new ListType(ChoiceType_init_$Create$(dataTypes)));
      }

      tmp = children;
      break;
    case 'combine':
      checkArgumentCount(this, ctx, functionName, 1);
      var elements = ArrayList_init_$Create$();
      var tmp_1 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      var argument = tmp_1 instanceof Expression ? tmp_1 : THROW_CCE();
      elements.e(target);
      elements.e(argument);
      var elementType = ensureNotNull(this.x8y_1.ensureCompatibleTypes(Trackable_getInstance().n8v(target), ensureNotNull(Trackable_getInstance().n8v(argument))));
      var list = this.y8y_1.n7k();
      Trackable_getInstance().o8v(list, new ListType(elementType));
      list.g5v().e(this.x8y_1.ensureCompatible(target, elementType));
      list.g5v().e(this.x8y_1.ensureCompatible(argument, elementType));
      var params_0 = ArrayList_init_$Create$();
      params_0.e(list);
      tmp = this.x8y_1.f91(null, 'Flatten', params_0);
      break;
    case 'contains':
      checkArgumentCount(this, ctx, functionName, 1);
      var params_1 = ArrayList_init_$Create$();
      var tmp_2 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      var argument_0 = tmp_2 instanceof Expression ? tmp_2 : THROW_CCE();
      params_1.e(argument_0);
      params_1.e(target);
      var result = ensureNotNull(this.x8y_1.f91(null, 'PositionOf', params_1));
      params_1 = ArrayList_init_$Create$();
      params_1.e(result);
      params_1.e(this.x8y_1.j8w(0));
      tmp = this.x8y_1.f91(null, 'GreaterOrEqual', params_1);
      break;
    case 'convertsToBoolean':
      tmp = this.x8y_1.f91(null, 'ConvertsToBoolean', getParams(this, target, ctx));
      break;
    case 'convertsToDate':
      tmp = this.x8y_1.f91(null, 'ConvertsToDate', getParams(this, target, ctx));
      break;
    case 'convertsToDateTime':
      tmp = this.x8y_1.f91(null, 'ConvertsToDateTime', getParams(this, target, ctx));
      break;
    case 'convertsToDecimal':
      tmp = this.x8y_1.f91(null, 'ConvertsToDecimal', getParams(this, target, ctx));
      break;
    case 'convertsToInteger':
      tmp = this.x8y_1.f91(null, 'ConvertsToInteger', getParams(this, target, ctx));
      break;
    case 'convertsToQuantity':
      tmp = this.x8y_1.f91(null, 'ConvertsToQuantity', getParams(this, target, ctx));
      break;
    case 'convertsToString':
      tmp = this.x8y_1.f91(null, 'ConvertsToString', getParams(this, target, ctx));
      break;
    case 'convertsToTime':
      tmp = this.x8y_1.f91(null, 'ConvertsToTime', getParams(this, target, ctx));
      break;
    case 'count':
      tmp = this.x8y_1.f91(null, 'Count', getParams(this, target, ctx));
      break;
    case 'descendents':
      checkArgumentCount(this, ctx, functionName, 0);
      var descendents = this.y8y_1.w7k();
      descendents.z6r_1 = target;
      var dataTypes_0 = HashSet_init_$Create$();
      gatherChildTypes(this, ensureNotNull(Trackable_getInstance().n8v(target)), true, dataTypes_0);
      if (dataTypes_0.j() === 1) {
        var tmp_3 = Trackable_getInstance();
        // Inline function 'kotlin.collections.toTypedArray' call
        var tmp$ret$0 = copyToArray(dataTypes_0);
        tmp_3.o8v(descendents, new ListType(tmp$ret$0[0]));
      } else {
        Trackable_getInstance().o8v(descendents, new ListType(ChoiceType_init_$Create$(dataTypes_0)));
      }

      tmp = descendents;
      break;
    case 'descendants':
      checkArgumentCount(this, ctx, functionName, 0);
      var descendants = this.y8y_1.k7i();
      descendants.s6r_1 = target;
      var dataTypes_1 = HashSet_init_$Create$();
      gatherChildTypes(this, ensureNotNull(Trackable_getInstance().n8v(target)), true, dataTypes_1);
      if (dataTypes_1.j() === 1) {
        var tmp_4 = Trackable_getInstance();
        // Inline function 'kotlin.collections.toTypedArray' call
        var tmp$ret$1 = copyToArray(dataTypes_1);
        tmp_4.o8v(descendants, new ListType(tmp$ret$1[0]));
      } else {
        Trackable_getInstance().o8v(descendants, new ListType(ChoiceType_init_$Create$(dataTypes_1)));
      }

      tmp = descendants;
      break;
    case 'distinct':
      tmp = this.x8y_1.f91(null, 'Distinct', getParams(this, target, ctx));
      break;
    case 'empty':
      var params_2 = getParams(this, target, ctx);
      var exists = ensureNotNull(this.x8y_1.f91(null, 'Exists', params_2));
      params_2 = ArrayList_init_$Create$();
      params_2.e(exists);
      tmp = this.x8y_1.f91(null, 'Not', params_2);
      break;
    case 'endsWith':
      tmp = this.x8y_1.f91(null, 'EndsWith', getParams(this, target, ctx));
      break;
    case 'exclude':
      tmp = this.x8y_1.f91(null, 'Except', getParams(this, target, ctx));
      break;
    case 'exists':
      var tmp_5;
      var tmp_6;
      if ((ctx == null ? null : ctx.j3w()) == null) {
        tmp_6 = true;
      } else {
        tmp_6 = ctx.j3w().q();
      }

      if (tmp_6) {
        var params_3 = getParams(this, target, ctx);
        tmp_5 = this.x8y_1.f91(null, 'Exists', params_3);
      } else {
        var query_0 = createWhere(this, target, functionName, ctx);
        var params_4 = ArrayList_init_$Create$();
        params_4.e(query_0);
        tmp_5 = this.x8y_1.f91(null, 'Exists', params_4);
      }

      tmp = tmp_5;
      break;
    case 'exp':
      tmp = this.x8y_1.f91(null, 'Exp', getParams(this, target, ctx));
      break;
    case 'first':
      tmp = this.x8y_1.f91(null, 'First', getParams(this, target, ctx));
      break;
    case 'floor':
      tmp = this.x8y_1.f91(null, 'Floor', getParams(this, target, ctx));
      break;
    case 'hasValue':
      var params_5 = getParams(this, target, ctx);
      var isNull = ensureNotNull(this.x8y_1.f91(null, 'IsNull', params_5));
      params_5 = ArrayList_init_$Create$();
      params_5.e(isNull);
      tmp = this.x8y_1.f91(null, 'Not', params_5);
      break;
    case 'iif':
      var result_0 = target;
      var params_6 = ArrayList_init_$Create$();
      var tmp_7 = Trackable_getInstance().n8v(ensureNotNull(result_0));
      if (tmp_7 instanceof ListType) {
        params_6.e(result_0);
        result_0 = this.x8y_1.f91(null, 'SingletonFrom', params_6);
      }

      var tmp_8 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      var thenExpression = (tmp_8 == null ? true : tmp_8 instanceof Expression) ? tmp_8 : THROW_CCE();
      var tmp_9;
      if (ctx.j3w().j() === 2) {
        var tmp_10 = this.w8y_1.d32(ensureNotNull(ctx.a4m(1)));
        tmp_9 = (tmp_10 == null ? true : tmp_10 instanceof Expression) ? tmp_10 : THROW_CCE();
      } else {
        tmp_9 = this.y8y_1.a7o();
      }

      var elseExpression = tmp_9;
      result_0 = this.y8y_1.y7m().p70(result_0).v6f(thenExpression).m6f(elseExpression);
      tmp = this.w8y_1.m91(result_0);
      break;
    case 'indexOf':
      checkArgumentCount(this, ctx, functionName, 1);
      var params_7 = ArrayList_init_$Create$();
      var tmp_11 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      var argument_1 = tmp_11 instanceof Expression ? tmp_11 : THROW_CCE();
      params_7.e(argument_1);
      params_7.e(target);
      tmp = this.x8y_1.f91(null, 'PositionOf', params_7);
      break;
    case 'intersect':
      tmp = this.x8y_1.f91(null, 'Intersect', getParams(this, target, ctx));
      break;
    case 'is':
    case 'as':
      checkArgumentCount(this, ctx, functionName, 1);
      this.x8y_1.pushTypeSpecifierContext();
      var tmp_12;
      try {
        var tmp_13 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
        tmp_12 = (tmp_13 == null ? true : tmp_13 instanceof Expression) ? tmp_13 : THROW_CCE();
      }finally {
        this.x8y_1.popTypeSpecifierContext();
      }

      var typeArgument = tmp_12;
      // Inline function 'kotlin.require' call

      if (!(typeArgument instanceof Literal)) {
        var message = 'Expected literal argument';
        throw IllegalArgumentException_init_$Create$(toString(message));
      }

      // Inline function 'kotlin.require' call

      if (!DataTypes_instance.q8z(Trackable_getInstance().n8v(typeArgument), this.x8y_1.l8w('System', 'String'))) {
        var message_0 = 'Expected string literal argument';
        throw IllegalArgumentException_init_$Create$(toString(message_0));
      }

      var typeSpecifier = typeArgument.u7a_1;
      var isType = this.x8y_1.resolveTypeSpecifier(typeSpecifier);
      tmp = functionName === 'is' ? this.x8y_1.buildIs(target, isType) : this.x8y_1.buildAs(target, isType);
      break;
    case 'last':
      tmp = this.x8y_1.f91(null, 'Last', getParams(this, target, ctx));
      break;
    case 'lastIndexOf':
      checkArgumentCount(this, ctx, functionName, 1);
      var params_8 = ArrayList_init_$Create$();
      var tmp_14 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      var argument_2 = tmp_14 instanceof Expression ? tmp_14 : THROW_CCE();
      params_8.e(argument_2);
      params_8.e(target);
      tmp = this.x8y_1.f91(null, 'LastPositionOf', params_8);
      break;
    case 'length':
      tmp = this.x8y_1.f91(null, 'Length', getParams(this, target, ctx));
      break;
    case 'ln':
      tmp = this.x8y_1.f91(null, 'Ln', getParams(this, target, ctx));
      break;
    case 'log':
      tmp = this.x8y_1.f91(null, 'Log', getParams(this, target, ctx));
      break;
    case 'lower':
      tmp = this.x8y_1.f91(null, 'Lower', getParams(this, target, ctx));
      break;
    case 'matches':
      tmp = this.x8y_1.f91(null, 'Matches', getParams(this, target, ctx));
      break;
    case 'memberOf':
      tmp = this.x8y_1.f91(null, 'InValueSet', getParams(this, target, ctx));
      break;
    case 'not':
      tmp = this.x8y_1.f91(null, 'Not', getParams(this, target, ctx));
      break;
    case 'ofType':
      tmp = createOfType(this, target, functionName, ctx);
      break;
    case 'power':
      tmp = this.x8y_1.f91(null, 'Power', getParams(this, target, ctx));
      break;
    case 'repeat':
      tmp = createRepeat(this, target, functionName, ctx);
      break;
    case 'replace':
      tmp = this.x8y_1.f91(null, 'Replace', getParams(this, target, ctx));
      break;
    case 'replaceMatches':
      tmp = this.x8y_1.f91(null, 'ReplaceMatches', getParams(this, target, ctx));
      break;
    case 'round':
      tmp = this.x8y_1.f91(null, 'Round', getParams(this, target, ctx));
      break;
    case 'select':
      tmp = createSelect(this, target, functionName, ctx);
      break;
    case 'single':
      tmp = this.x8y_1.f91(null, 'SingletonFrom', getParams(this, target, ctx));
      break;
    case 'skip':
      tmp = this.x8y_1.f91(null, 'Skip', getParams(this, target, ctx));
      break;
    case 'sqrt':
      checkArgumentCount(this, ctx, functionName, 0);
      var params_9 = ArrayList_init_$Create$();
      params_9.e(target);
      params_9.e(this.x8y_1.k8w(0.5));
      tmp = this.x8y_1.f91(null, 'Power', params_9);
      break;
    case 'startsWith':
      tmp = this.x8y_1.f91(null, 'StartsWith', getParams(this, target, ctx));
      break;
    case 'subsetOf':
      tmp = this.x8y_1.f91(null, 'IncludedIn', getParams(this, target, ctx));
      break;
    case 'substring':
      tmp = this.x8y_1.f91(null, 'Substring', getParams(this, target, ctx));
      break;
    case 'subsumes':
      tmp = this.x8y_1.f91(null, 'Subsumes', getParams(this, target, ctx));
      break;
    case 'subsumedBy':
      tmp = this.x8y_1.f91(null, 'SubsumedBy', getParams(this, target, ctx));
      break;
    case 'supersetOf':
      tmp = this.x8y_1.f91(null, 'Includes', getParams(this, target, ctx));
      break;
    case 'tail':
      tmp = this.x8y_1.f91(null, 'Tail', getParams(this, target, ctx));
      break;
    case 'take':
      tmp = this.x8y_1.f91(null, 'Take', getParams(this, target, ctx));
      break;
    case 'toBoolean':
      tmp = this.x8y_1.f91(null, 'ToBoolean', getParams(this, target, ctx));
      break;
    case 'toChars':
      tmp = this.x8y_1.f91(null, 'ToChars', getParams(this, target, ctx));
      break;
    case 'toDate':
      tmp = this.x8y_1.f91(null, 'ToDate', getParams(this, target, ctx));
      break;
    case 'toDateTime':
      tmp = this.x8y_1.f91(null, 'ToDateTime', getParams(this, target, ctx));
      break;
    case 'toDecimal':
      tmp = this.x8y_1.f91(null, 'ToDecimal', getParams(this, target, ctx));
      break;
    case 'toInteger':
      tmp = this.x8y_1.f91(null, 'ToInteger', getParams(this, target, ctx));
      break;
    case 'toQuantity':
      tmp = this.x8y_1.f91(null, 'ToQuantity', getParams(this, target, ctx));
      break;
    case 'toString':
      tmp = this.x8y_1.f91(null, 'ToString', getParams(this, target, ctx));
      break;
    case 'toTime':
      tmp = this.x8y_1.f91(null, 'ToTime', getParams(this, target, ctx));
      break;
    case 'trace':
      checkArgumentCount(this, ctx, functionName, 1);
      var params_10 = ArrayList_init_$Create$();
      params_10.e(target);
      params_10.e(this.x8y_1.f8x(true));
      params_10.e(this.x8y_1.z90('TRACE'));
      params_10.e(this.x8y_1.z90('Trace'));
      var tmp_15 = this.w8y_1.d32(ensureNotNull(ensureNotNull(ctx).a4m(0)));
      params_10.e(tmp_15 instanceof Expression ? tmp_15 : THROW_CCE());
      tmp = this.x8y_1.f91(null, 'Message', params_10);
      break;
    case 'truncate':
      tmp = this.x8y_1.f91(null, 'Truncate', getParams(this, target, ctx));
      break;
    case 'union':
      tmp = this.x8y_1.f91(null, 'Union', getParams(this, target, ctx));
      break;
    case 'upper':
      tmp = this.x8y_1.f91(null, 'Upper', getParams(this, target, ctx));
      break;
    case 'where':
      tmp = createWhere(this, target, functionName, ctx);
      break;
    default:
      tmp = this.w8y_1.p8y(null, functionName, getParams(this, target, ctx), mustResolve, false, true);
      break;
  }
  return tmp;
};
function InternalModelResolver(modelManager) {
  this.o9d_1 = modelManager;
}
protoOf(InternalModelResolver).x90 = function (modelName) {
  return this.o9d_1.resolveModel$default(modelName);
};
function TypeBuilder_init_$Init$(of, modelManager, $this) {
  TypeBuilder.call($this, of, new InternalModelResolver(modelManager));
  return $this;
}
function TypeBuilder_init_$Create$(of, modelManager) {
  return TypeBuilder_init_$Init$(of, modelManager, objectCreate(protoOf(TypeBuilder)));
}
function listTypeToTypeSpecifier($this, type) {
  return Trackable_getInstance().h90($this.w98_1.v7m().n7a($this.r9b(type.d61_1)), type);
}
function intervalTypeToTypeSpecifier($this, type) {
  return Trackable_getInstance().h90($this.w98_1.j7n().r75($this.r9b(type.g61_1)), type);
}
function tupleTypeToTypeSpecifier($this, type) {
  return Trackable_getInstance().h90($this.w98_1.a7m().c8g(tupleTypeElementsToTupleElementDefinitions($this, type.r63_1)), type);
}
function tupleTypeElementsToTupleElementDefinitions($this, elements) {
  var definitions = ArrayList_init_$Create$();
  var _iterator__ex2g4s = elements.g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    definitions.e($this.w98_1.s7l().q65(element.i61_1).n7a($this.r9b(element.j61_1)));
  }
  return definitions;
}
function choiceTypeToTypeSpecifier($this, type) {
  return Trackable_getInstance().h90($this.w98_1.u7j().r6g(choiceTypeTypesToTypeSpecifiers($this, type)), type);
}
function choiceTypeTypesToTypeSpecifiers($this, choiceType) {
  var specifiers = ArrayList_init_$Create$();
  var _iterator__ex2g4s = choiceType.b60_1.g();
  while (_iterator__ex2g4s.h()) {
    var type = _iterator__ex2g4s.i();
    specifiers.e($this.r9b(type));
  }
  return specifiers;
}
function typeParameterToTypeSpecifier($this, type) {
  return (new ParameterTypeSpecifier()).s7t(type.z61_1);
}
function TypeBuilder(of, mr) {
  this.w98_1 = of;
  this.x98_1 = mr;
}
protoOf(TypeBuilder).q9b = function (type) {
  if (!(type == null) ? isInterface(type, NamedType) : false) {
    var namedType = type;
    var modelInfo = this.x98_1.x90(namedType.n61()).q90_1;
    return QNameJs_init_$Create$(!(modelInfo.m5x_1 == null) ? ensureNotNull(modelInfo.m5x_1) : ensureNotNull(modelInfo.l5x_1), !(namedType.p61() == null) ? ensureNotNull(namedType.p61()) : namedType.lb());
  }
  throw IllegalArgumentException_init_$Create$('A named type is required in this context.');
};
protoOf(TypeBuilder).y98 = function (types) {
  var result = ArrayList_init_$Create$();
  var _iterator__ex2g4s = types.g();
  while (_iterator__ex2g4s.h()) {
    var type = _iterator__ex2g4s.i();
    result.e(this.r9b(type));
  }
  return result;
};
protoOf(TypeBuilder).r9b = function (type) {
  if (!(type == null) ? isInterface(type, NamedType) : false) {
    return Trackable_getInstance().h90(this.w98_1.c7k().c7g(this.q9b(type)), type);
  } else {
    if (type instanceof ListType) {
      return listTypeToTypeSpecifier(this, type);
    } else {
      if (type instanceof IntervalType) {
        return intervalTypeToTypeSpecifier(this, type);
      } else {
        if (type instanceof TupleType) {
          return tupleTypeToTypeSpecifier(this, type);
        } else {
          if (type instanceof ChoiceType) {
            return choiceTypeToTypeSpecifier(this, type);
          } else {
            if (type instanceof TypeParameter) {
              return typeParameterToTypeSpecifier(this, type);
            } else {
              throw IllegalArgumentException_init_$Create$('Could not convert type ' + toString_0(type) + ' to a type specifier.');
            }
          }
        }
      }
    }
  }
};
function removeAnnotations($this, annotations) {
  var inductionVariable = annotations.j() - 1 | 0;
  if (0 <= inductionVariable)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + -1 | 0;
      var x = annotations.o(i);
      if (x instanceof Annotation) {
        x.y63_1 = null;
        if (x.a64().q()) {
          annotations.l2(i);
        }
      }
    }
     while (0 <= inductionVariable);
}
function ElmEdit$REMOVE_LOCATOR() {
  ElmEdit.call(this, 'REMOVE_LOCATOR', 0);
  ElmEdit_REMOVE_LOCATOR_instance = this;
}
protoOf(ElmEdit$REMOVE_LOCATOR).r9d = function (element) {
  element.b66_1 = null;
};
var ElmEdit_REMOVE_LOCATOR_instance;
function ElmEdit$REMOVE_ANNOTATION() {
  ElmEdit.call(this, 'REMOVE_ANNOTATION', 1);
  ElmEdit_REMOVE_ANNOTATION_instance = this;
}
protoOf(ElmEdit$REMOVE_ANNOTATION).r9d = function (element) {
  element.a66_1 = null;
  removeAnnotations(this, element.n66());
};
var ElmEdit_REMOVE_ANNOTATION_instance;
function ElmEdit$REMOVE_RESULT_TYPE() {
  ElmEdit.call(this, 'REMOVE_RESULT_TYPE', 2);
  ElmEdit_REMOVE_RESULT_TYPE_instance = this;
}
protoOf(ElmEdit$REMOVE_RESULT_TYPE).r9d = function (element) {
  element.c66_1 = null;
  element.e66_1 = null;
};
var ElmEdit_REMOVE_RESULT_TYPE_instance;
var ElmEdit_entriesInitialized;
function ElmEdit_initEntries() {
  if (ElmEdit_entriesInitialized)
    return Unit_instance;
  ElmEdit_entriesInitialized = true;
  ElmEdit_REMOVE_LOCATOR_instance = new ElmEdit$REMOVE_LOCATOR();
  ElmEdit_REMOVE_ANNOTATION_instance = new ElmEdit$REMOVE_ANNOTATION();
  ElmEdit_REMOVE_RESULT_TYPE_instance = new ElmEdit$REMOVE_RESULT_TYPE();
}
function ElmEdit(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function ElmEdit_REMOVE_LOCATOR_getInstance() {
  ElmEdit_initEntries();
  return ElmEdit_REMOVE_LOCATOR_instance;
}
function ElmEdit_REMOVE_ANNOTATION_getInstance() {
  ElmEdit_initEntries();
  return ElmEdit_REMOVE_ANNOTATION_instance;
}
function ElmEdit_REMOVE_RESULT_TYPE_getInstance() {
  ElmEdit_initEntries();
  return ElmEdit_REMOVE_RESULT_TYPE_instance;
}
function aggregateResults($this, aggregate, nextResult) {
  if (nextResult == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    $this.w9d(nextResult);
  }
  return aggregate;
}
function ElmEditor$visitor$lambda(t, _unused_var__etf5q3) {
  return t;
}
function ElmEditor$visitor$lambda_0(this$0) {
  return function (current, next) {
    return aggregateResults(this$0, current, next);
  };
}
function ElmEditor(edits) {
  this.l94_1 = edits;
  var tmp = this;
  var tmp_0 = Companion_instance_0;
  var tmp_1 = ElmEditor$visitor$lambda;
  tmp.m94_1 = tmp_0.l8t(tmp_1, ElmEditor$visitor$lambda_0(this));
}
protoOf(ElmEditor).n94 = function (library) {
  this.m94_1.i8t(library, Unit_instance);
  this.w9d(library);
};
protoOf(ElmEditor).w9d = function (trackable) {
  var _iterator__ex2g4s = this.l94_1.g();
  while (_iterator__ex2g4s.h()) {
    var edit = _iterator__ex2g4s.i();
    edit.r9d(trackable);
  }
};
function CallContext_init_$Init$(libraryName, operatorName, allowPromotionAndDemotion, allowFluent, mustResolve, operandTypes, $this) {
  CallContext.call($this, libraryName, operatorName, allowPromotionAndDemotion, allowFluent, mustResolve, toList_0(operandTypes));
  return $this;
}
function CallContext_init_$Create$(libraryName, operatorName, allowPromotionAndDemotion, allowFluent, mustResolve, operandTypes) {
  return CallContext_init_$Init$(libraryName, operatorName, allowPromotionAndDemotion, allowFluent, mustResolve, operandTypes, objectCreate(protoOf(CallContext)));
}
function CallContext(libraryName, operatorName, allowPromotionAndDemotion, allowFluent, mustResolve, operandTypes) {
  this.b98_1 = libraryName;
  this.c98_1 = operatorName;
  this.d98_1 = allowPromotionAndDemotion;
  this.e98_1 = allowFluent;
  this.f98_1 = mustResolve;
  // Inline function 'kotlin.text.isNotEmpty' call
  var this_0 = this.c98_1;
  // Inline function 'kotlin.require' call
  if (!(charSequenceLength(this_0) > 0)) {
    var message = 'operatorName is empty';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.g98_1 = new Signature(operandTypes);
}
function Chunk_init_$Init$(interval, $this) {
  Chunk.call($this, interval, false);
  return $this;
}
function Chunk_init_$Create$(interval) {
  return Chunk_init_$Init$(interval, objectCreate(protoOf(Chunk)));
}
function ensureChunks($this) {
  if ($this.a9e_1.q()) {
    $this.a9e_1.e(Chunk_init_$Create$($this.x9d_1));
  }
}
function Chunk(interval, isHeaderChunk) {
  this.x9d_1 = interval;
  this.y9d_1 = isHeaderChunk;
  this.z9d_1 = null;
  this.a9e_1 = ArrayList_init_$Create$();
}
protoOf(Chunk).b9e = function () {
  ensureChunks(this);
  return this.a9e_1;
};
protoOf(Chunk).c9e = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  return !this.a9e_1.q();
};
protoOf(Chunk).d9e = function (chunk) {
  // Inline function 'kotlin.require' call
  if (!(chunk.x9d_1.a24_1 >= this.x9d_1.a24_1 && chunk.x9d_1.b24_1 <= this.x9d_1.b24_1)) {
    var message = 'Child chunk cannot be added because it is not contained within the parent chunk.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  ensureChunks(this);
  var chunkIndex = -1;
  var targetChunk = null;
  var inductionVariable = 0;
  var last = this.a9e_1.j() - 1 | 0;
  if (inductionVariable <= last)
    $l$loop: do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      if (chunk.x9d_1.a24_1 >= this.a9e_1.o(i).x9d_1.a24_1 && chunk.x9d_1.a24_1 <= this.a9e_1.o(i).x9d_1.b24_1) {
        chunkIndex = i;
        targetChunk = this.a9e_1.o(chunkIndex);
        break $l$loop;
      }
    }
     while (inductionVariable <= last);
  var tmp0 = targetChunk;
  $l$block: {
    // Inline function 'kotlin.checkNotNull' call
    if (tmp0 == null) {
      var message_0 = 'Unable to find target chunk for insertion.';
      throw IllegalStateException_init_$Create$(toString(message_0));
    } else {
      break $l$block;
    }
  }
  if (chunk.x9d_1.a24_1 === targetChunk.x9d_1.a24_1) {
    this.a9e_1.k2(chunkIndex, chunk);
    chunkIndex = chunkIndex + 1 | 0;
    var newA = chunk.x9d_1.b24_1 + 1 | 0;
    $l$loop_0: while (newA > this.a9e_1.o(chunkIndex).x9d_1.b24_1) {
      this.a9e_1.l2(chunkIndex);
      if (chunkIndex >= this.a9e_1.j()) {
        break $l$loop_0;
      }
    }
    if (chunkIndex < this.a9e_1.j()) {
      this.a9e_1.o(chunkIndex).x9d_1 = new Interval(newA, this.a9e_1.o(chunkIndex).x9d_1.b24_1);
    }
  } else {
    var newB = chunk.x9d_1.a24_1 - 1 | 0;
    var newA_0 = chunk.x9d_1.b24_1 + 1 | 0;
    var oldA = this.a9e_1.o(chunkIndex).x9d_1.a24_1;
    var oldB = this.a9e_1.o(chunkIndex).x9d_1.b24_1;
    this.a9e_1.o(chunkIndex).x9d_1 = new Interval(oldA, newB);
    chunkIndex = chunkIndex + 1 | 0;
    this.a9e_1.k2(chunkIndex, chunk);
    chunkIndex = chunkIndex + 1 | 0;
    if (newA_0 <= oldB) {
      this.a9e_1.k2(chunkIndex, Chunk_init_$Create$(new Interval(newA_0, oldB)));
    }
  }
};
function checkNamespace($this, identifier) {
  var existingResolvedIdentifierContext = $this.x9a(identifier);
  if (existingResolvedIdentifierContext.w9b() == null)
    null;
  else {
    // Inline function 'kotlin.let' call
    throw IllegalArgumentException_init_$Create$('Identifier ' + identifier + ' is already in use in this library.');
  }
}
function ensureLibrary($this, operator) {
  var tmp = operator;
  var tmp0_elvis_lhs = operator.e8x_1;
  var tmp_0;
  if (tmp0_elvis_lhs == null) {
    var tmp1_safe_receiver = $this.j8z_1;
    tmp_0 = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.b8i_1;
  } else {
    tmp_0 = tmp0_elvis_lhs;
  }
  tmp.e8x_1 = tmp_0;
  var tmp_1 = operator.e8x_1;
  var tmp2_safe_receiver = $this.j8z_1;
  // Inline function 'kotlin.require' call
  if (!(tmp_1 == (tmp2_safe_receiver == null ? null : tmp2_safe_receiver.b8i_1))) {
    var tmp0_safe_receiver = $this.j8z_1;
    var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.b8i_1;
    var message = 'Operator ' + operator.x8w_1 + ' cannot be registered in library ' + (tmp1_elvis_lhs == null ? '<anonymous>' : tmp1_elvis_lhs) + ('because it is defined in library ' + operator.e8x_1 + '.');
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
}
function resolveIdentifier_0($this, identifier, clazz) {
  return $this.x9a(identifier).e9e(clazz);
}
function _get_annotation__nxha9o($this) {
  var tmp0_safe_receiver = $this.k8z_1;
  var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.n66();
  var tmp;
  if (tmp1_safe_receiver == null) {
    tmp = null;
  } else {
    var tmp$ret$1;
    $l$block: {
      // Inline function 'kotlin.collections.firstOrNull' call
      var _iterator__ex2g4s = tmp1_safe_receiver.g();
      while (_iterator__ex2g4s.h()) {
        var element = _iterator__ex2g4s.i();
        if (element instanceof Annotation) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    tmp = tmp$ret$1;
  }
  var tmp_0 = tmp;
  return (tmp_0 == null ? true : tmp_0 instanceof Annotation) ? tmp_0 : THROW_CCE();
}
function getTag($this, tagName) {
  var tmp0_safe_receiver = _get_annotation__nxha9o($this);
  var tmp1_safe_receiver = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.a64();
  var tmp;
  if (tmp1_safe_receiver == null) {
    tmp = null;
  } else {
    var tmp$ret$1;
    $l$block: {
      // Inline function 'kotlin.collections.firstOrNull' call
      var _iterator__ex2g4s = tmp1_safe_receiver.g();
      while (_iterator__ex2g4s.h()) {
        var element = _iterator__ex2g4s.i();
        if (element.o65_1 === tagName) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    tmp = tmp$ret$1;
  }
  var tmp2_safe_receiver = tmp;
  return tmp2_safe_receiver == null ? null : tmp2_safe_receiver.p65_1;
}
function getBooleanTag($this, tagName) {
  var tmp0_safe_receiver = getTag($this, tagName);
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : toBoolean(tmp0_safe_receiver);
  return tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs;
}
function CompiledLibrary() {
  this.j8z_1 = null;
  this.k8z_1 = null;
  this.l8z_1 = HashMap_init_$Create$();
  this.m8z_1 = new OperatorMap();
  this.n8z_1 = HashMap_init_$Create$();
  this.o8z_1 = ArrayList_init_$Create$();
}
protoOf(CompiledLibrary).o97 = function (using) {
  checkNamespace(this, ensureNotNull(using.w8g_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(using.w8g_1);
  tmp0.u2(key, using);
};
protoOf(CompiledLibrary).a99 = function (include) {
  checkNamespace(this, ensureNotNull(include.d72_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(include.d72_1);
  tmp0.u2(key, include);
};
protoOf(CompiledLibrary).r9a = function (codesystem) {
  checkNamespace(this, ensureNotNull(codesystem.z6i_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(codesystem.z6i_1);
  tmp0.u2(key, codesystem);
};
protoOf(CompiledLibrary).s9a = function (valueset) {
  checkNamespace(this, ensureNotNull(valueset.f8h_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(valueset.f8h_1);
  tmp0.u2(key, valueset);
};
protoOf(CompiledLibrary).t9a = function (code) {
  checkNamespace(this, ensureNotNull(code.t6h_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(code.t6h_1);
  tmp0.u2(key, code);
};
protoOf(CompiledLibrary).u9a = function (concept) {
  checkNamespace(this, ensureNotNull(concept.v6k_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(concept.v6k_1);
  tmp0.u2(key, concept);
};
protoOf(CompiledLibrary).q9a = function (parameter) {
  checkNamespace(this, ensureNotNull(parameter.y7s_1));
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(parameter.y7s_1);
  tmp0.u2(key, parameter);
};
protoOf(CompiledLibrary).v9a = function (expression) {
  if (expression instanceof FunctionDef) {
    this.f9e(expression, Operator_init_$Create$_0(expression));
  } else {
    checkNamespace(this, ensureNotNull(expression.c6w_1));
    var tmp0 = this.l8z_1;
    // Inline function 'kotlin.collections.set' call
    var key = ensureNotNull(expression.c6w_1);
    tmp0.u2(key, expression);
  }
};
protoOf(CompiledLibrary).w9a = function (expression) {
  // Inline function 'kotlin.require' call
  if (!!(expression instanceof FunctionDef)) {
    var message = 'FunctionDef cannot be removed.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var tmp0 = this.l8z_1;
  // Inline function 'kotlin.collections.remove' call
  var key = expression.c6w_1;
  (isInterface(tmp0, KtMutableMap) ? tmp0 : THROW_CCE()).v2(key);
};
protoOf(CompiledLibrary).f9e = function (functionDef, operator) {
  ensureLibrary(this, operator);
  this.m8z_1.h9e(operator);
  // Inline function 'kotlin.collections.set' call
  this.n8z_1.u2(operator, functionDef);
};
protoOf(CompiledLibrary).s8z = function (functionDef) {
  return this.i9e(Operator_init_$Create$_0(functionDef));
};
protoOf(CompiledLibrary).i9e = function (operator) {
  return this.m8z_1.j9e(operator);
};
protoOf(CompiledLibrary).n97 = function (conversion) {
  // Inline function 'kotlin.require' call
  if (!!conversion.o98_1) {
    var message = 'Casting conversions cannot be registered as part of a library.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.o8z_1.e(conversion);
};
protoOf(CompiledLibrary).x9a = function (identifier) {
  if (this.l8z_1.o2(identifier)) {
    return Companion_instance_14.k9e(identifier, this.l8z_1.q2(identifier));
  }
  // Inline function 'kotlin.collections.filter' call
  var tmp0 = this.l8z_1.t2();
  // Inline function 'kotlin.collections.filterTo' call
  var destination = ArrayList_init_$Create$();
  var _iterator__ex2g4s = tmp0.g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    if (equals_0(element.m2(), identifier, true)) {
      destination.e(element);
    }
  }
  // Inline function 'kotlin.collections.map' call
  // Inline function 'kotlin.collections.mapTo' call
  var destination_0 = ArrayList_init_$Create$_0(collectionSizeOrDefault(destination, 10));
  var _iterator__ex2g4s_0 = destination.g();
  while (_iterator__ex2g4s_0.h()) {
    var item = _iterator__ex2g4s_0.i();
    var tmp$ret$3 = item.n2();
    destination_0.e(tmp$ret$3);
  }
  // Inline function 'kotlin.collections.map' call
  // Inline function 'kotlin.collections.mapTo' call
  var destination_1 = ArrayList_init_$Create$_0(collectionSizeOrDefault(destination_0, 10));
  var _iterator__ex2g4s_1 = destination_0.g();
  while (_iterator__ex2g4s_1.h()) {
    var item_0 = _iterator__ex2g4s_1.i();
    var tmp$ret$6 = Companion_instance_14.l9e(identifier, item_0);
    destination_1.e(tmp$ret$6);
  }
  var tmp0_elvis_lhs = firstOrNull(destination_1);
  return tmp0_elvis_lhs == null ? Companion_instance_14.l9e(identifier, null) : tmp0_elvis_lhs;
};
protoOf(CompiledLibrary).m9a = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(UsingDef));
};
protoOf(CompiledLibrary).z98 = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(IncludeDef));
};
protoOf(CompiledLibrary).s97 = function (identifier) {
  var tmp;
  var tmp_0;
  if (!(identifier == null)) {
    var tmp1_safe_receiver = this.k8z_1;
    var tmp2_safe_receiver = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.r79_1;
    tmp_0 = !((tmp2_safe_receiver == null ? null : tmp2_safe_receiver.a79()) == null);
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    var libraryPath = Companion_instance_1.getPath(identifier.c8i_1, ensureNotNull(identifier.b8i_1));
    var tmp0 = ensureNotNull(ensureNotNull(this.k8z_1).r79_1).a79();
    var tmp$ret$1;
    $l$block: {
      // Inline function 'kotlin.collections.firstOrNull' call
      var _iterator__ex2g4s = tmp0.g();
      while (_iterator__ex2g4s.h()) {
        var element = _iterator__ex2g4s.i();
        if (element.f72_1 === libraryPath) {
          tmp$ret$1 = element;
          break $l$block;
        }
      }
      tmp$ret$1 = null;
    }
    var tmp0_safe_receiver = tmp$ret$1;
    tmp = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.d72_1;
  } else {
    tmp = null;
  }
  return tmp;
};
protoOf(CompiledLibrary).g90 = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(CodeSystemDef));
};
protoOf(CompiledLibrary).y9a = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(ValueSetDef));
};
protoOf(CompiledLibrary).i90 = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(CodeDef));
};
protoOf(CompiledLibrary).z9a = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(ConceptDef));
};
protoOf(CompiledLibrary).a9b = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(ParameterDef));
};
protoOf(CompiledLibrary).b9b = function (identifier) {
  return resolveIdentifier_0(this, identifier, getKClass(ExpressionDef));
};
protoOf(CompiledLibrary).m9e = function (identifier) {
  var results = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ensureNotNull(ensureNotNull(this.k8z_1).y79_1).a79().g();
  while (_iterator__ex2g4s.h()) {
    var ed = _iterator__ex2g4s.i();
    var tmp;
    if (ed instanceof FunctionDef) {
      tmp = ed.c6w_1 === identifier;
    } else {
      tmp = false;
    }
    if (tmp) {
      results.e(ed);
    }
  }
  return results;
};
protoOf(CompiledLibrary).p8z = function (functionName, signature) {
  var tmp;
  if (signature == null) {
    tmp = this.m9e(functionName);
  } else {
    var cc = new CallContext(ensureNotNull(this.j8z_1).b8i_1, functionName, false, false, false, signature);
    var resolution = this.h98(cc, new ConversionMap());
    var results = ArrayList_init_$Create$();
    if (!(resolution == null)) {
      results.e(resolution.t92_1.a8x_1);
    }
    tmp = results;
  }
  return tmp;
};
protoOf(CompiledLibrary).h98 = function (callContext, conversionMap) {
  var resolution = this.m8z_1.n9e(callContext, conversionMap);
  if (!(resolution == null)) {
    if (callContext.e98_1 && !resolution.t92_1.c8x_1) {
      resolution.w92_1 = getBooleanTag(this, 'allowFluent');
    }
    resolution.x92_1 = this.j8z_1;
  }
  return resolution;
};
protoOf(CompiledLibrary).m97 = function () {
  return this.o8z_1;
};
function Conversion_init_$Init$(operator, isImplicit, $this) {
  Conversion.call($this, Companion_instance_11.o9e(operator), Companion_instance_11.p9e(operator), isImplicit, null, operator);
  return $this;
}
function Conversion_init_$Create$(operator, isImplicit) {
  return Conversion_init_$Init$(operator, isImplicit, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_0(fromType, toType, $this) {
  Conversion.call($this, fromType, toType, true);
  $this.o98_1 = true;
  return $this;
}
function Conversion_init_$Create$_0(fromType, toType) {
  return Conversion_init_$Init$_0(fromType, toType, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_1(fromType, toType, choiceConversion, $this) {
  Conversion.call($this, fromType, toType, true, choiceConversion);
  $this.o98_1 = true;
  return $this;
}
function Conversion_init_$Create$_1(fromType, toType, choiceConversion) {
  return Conversion_init_$Init$_1(fromType, toType, choiceConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_2(fromType, toType, choiceConversion, $this) {
  Conversion.call($this, fromType, toType, true, choiceConversion);
  $this.o98_1 = true;
  return $this;
}
function Conversion_init_$Create$_2(fromType, toType, choiceConversion) {
  return Conversion_init_$Init$_2(fromType, toType, choiceConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_3(fromType, toType, elementConversion, $this) {
  Conversion.call($this, fromType, toType, true, elementConversion);
  $this.p98_1 = true;
  return $this;
}
function Conversion_init_$Create$_3(fromType, toType, elementConversion) {
  return Conversion_init_$Init$_3(fromType, toType, elementConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_4(fromType, toType, elementConversion, $this) {
  Conversion.call($this, fromType, toType, true, elementConversion);
  $this.r98_1 = true;
  return $this;
}
function Conversion_init_$Create$_4(fromType, toType, elementConversion) {
  return Conversion_init_$Init$_4(fromType, toType, elementConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_5(fromType, toType, elementConversion, $this) {
  Conversion.call($this, fromType, toType, true, elementConversion);
  $this.q98_1 = true;
  return $this;
}
function Conversion_init_$Create$_5(fromType, toType, elementConversion) {
  return Conversion_init_$Init$_5(fromType, toType, elementConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_6(fromType, toType, elementConversion, $this) {
  Conversion.call($this, fromType, toType, true, elementConversion);
  $this.u98_1 = true;
  return $this;
}
function Conversion_init_$Create$_6(fromType, toType, elementConversion) {
  return Conversion_init_$Init$_6(fromType, toType, elementConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_7(fromType, toType, elementConversion, $this) {
  Conversion.call($this, fromType, toType, true, elementConversion);
  $this.t98_1 = true;
  return $this;
}
function Conversion_init_$Create$_7(fromType, toType, elementConversion) {
  return Conversion_init_$Init$_7(fromType, toType, elementConversion, objectCreate(protoOf(Conversion)));
}
function Conversion_init_$Init$_8(fromType, toType, pointConversion, $this) {
  Conversion.call($this, fromType, toType, true, pointConversion);
  $this.s98_1 = true;
  return $this;
}
function Conversion_init_$Create$_8(fromType, toType, pointConversion) {
  return Conversion_init_$Init$_8(fromType, toType, pointConversion, objectCreate(protoOf(Conversion)));
}
function Companion_8() {
}
protoOf(Companion_8).o9e = function (operator) {
  // Inline function 'kotlin.require' call
  if (!(operator.y8w_1.h8z_1.j() === 1)) {
    var message = 'Conversion operator must be unary.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return operator.y8w_1.h8z_1.o(0);
};
protoOf(Companion_8).p9e = function (operator) {
  var tmp0 = operator.z8w_1;
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (tmp0 == null) {
      var message = 'Conversion operator must have a result type.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  return ensureNotNull(operator.z8w_1);
};
var Companion_instance_11;
function Companion_getInstance_11() {
  return Companion_instance_11;
}
function Conversion(fromType, toType, isImplicit, conversion, operator) {
  isImplicit = isImplicit === VOID ? false : isImplicit;
  conversion = conversion === VOID ? null : conversion;
  operator = operator === VOID ? null : operator;
  this.i98_1 = fromType;
  this.j98_1 = toType;
  this.k98_1 = isImplicit;
  this.l98_1 = conversion;
  this.m98_1 = operator;
  var tmp = this;
  // Inline function 'kotlin.collections.mutableListOf' call
  tmp.n98_1 = ArrayList_init_$Create$();
  this.o98_1 = false;
  this.p98_1 = false;
  this.q98_1 = false;
  this.r98_1 = false;
  this.s98_1 = false;
  this.t98_1 = false;
  this.u98_1 = false;
}
protoOf(Conversion).o9b = function () {
  return this.n98_1;
};
protoOf(Conversion).p9b = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  return !this.n98_1.q();
};
protoOf(Conversion).q9e = function (alternativeConversion) {
  var tmp = this.i98_1;
  // Inline function 'kotlin.require' call
  if (!(tmp instanceof ChoiceType)) {
    var message = 'Alternative conversions can only be used with choice types';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.n98_1.e(alternativeConversion);
};
protoOf(Conversion).m9d = function () {
  var tmp0_safe_receiver = this.l98_1;
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m9d();
  var nestedScore = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
  var tmp;
  if (this.o98_1) {
    tmp = ConversionScore_Cast_getInstance().y97_1 + nestedScore | 0;
  } else {
    if (this.u98_1) {
      tmp = ConversionScore_IntervalDemotion_getInstance().y97_1 + nestedScore | 0;
    } else {
      if (this.r98_1) {
        tmp = ConversionScore_ListDemotion_getInstance().y97_1 + nestedScore | 0;
      } else {
        if (this.t98_1) {
          tmp = ConversionScore_IntervalPromotion_getInstance().y97_1 + nestedScore | 0;
        } else {
          if (this.q98_1) {
            tmp = ConversionScore_ListPromotion_getInstance().y97_1 + nestedScore | 0;
          } else {
            var tmp_0;
            var tmp_1;
            if (this.p98_1) {
              var tmp_2 = this.j98_1;
              tmp_1 = tmp_2 instanceof ListType;
            } else {
              tmp_1 = false;
            }
            if (tmp_1) {
              var tmp_3 = this.j98_1.d61_1;
              tmp_0 = tmp_3 instanceof SimpleType;
            } else {
              tmp_0 = false;
            }
            if (tmp_0) {
              tmp = ConversionScore_SimpleConversion_getInstance().y97_1 + nestedScore | 0;
            } else {
              if (this.p98_1) {
                tmp = ConversionScore_ComplexConversion_getInstance().y97_1 + nestedScore | 0;
              } else {
                var tmp_4;
                var tmp_5;
                if (this.s98_1) {
                  var tmp_6 = this.j98_1;
                  tmp_5 = tmp_6 instanceof IntervalType;
                } else {
                  tmp_5 = false;
                }
                if (tmp_5) {
                  var tmp_7 = this.j98_1.g61_1;
                  tmp_4 = tmp_7 instanceof SimpleType;
                } else {
                  tmp_4 = false;
                }
                if (tmp_4) {
                  tmp = ConversionScore_SimpleConversion_getInstance().y97_1 + nestedScore | 0;
                } else {
                  if (this.s98_1) {
                    tmp = ConversionScore_ComplexConversion_getInstance().y97_1 + nestedScore | 0;
                  } else {
                    var tmp_8 = this.j98_1;
                    if (tmp_8 instanceof ClassType) {
                      tmp = ConversionScore_ComplexConversion_getInstance().y97_1 + nestedScore | 0;
                    } else {
                      tmp = ConversionScore_SimpleConversion_getInstance().y97_1 + nestedScore | 0;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return tmp;
};
protoOf(Conversion).d60 = function () {
  var tmp = this.m98_1;
  return tmp instanceof GenericOperator;
};
var TypePrecedenceScore_Simple_instance;
var TypePrecedenceScore_Tuple_instance;
var TypePrecedenceScore_Class_instance;
var TypePrecedenceScore_Interval_instance;
var TypePrecedenceScore_List_instance;
var TypePrecedenceScore_Choice_instance;
var TypePrecedenceScore_Other_instance;
var TypePrecedenceScore_entriesInitialized;
function TypePrecedenceScore_initEntries() {
  if (TypePrecedenceScore_entriesInitialized)
    return Unit_instance;
  TypePrecedenceScore_entriesInitialized = true;
  TypePrecedenceScore_Simple_instance = new TypePrecedenceScore('Simple', 0, 1);
  TypePrecedenceScore_Tuple_instance = new TypePrecedenceScore('Tuple', 1, 2);
  TypePrecedenceScore_Class_instance = new TypePrecedenceScore('Class', 2, 3);
  TypePrecedenceScore_Interval_instance = new TypePrecedenceScore('Interval', 3, 4);
  TypePrecedenceScore_List_instance = new TypePrecedenceScore('List', 4, 5);
  TypePrecedenceScore_Choice_instance = new TypePrecedenceScore('Choice', 5, 6);
  TypePrecedenceScore_Other_instance = new TypePrecedenceScore('Other', 6, 7);
}
var ConversionScore_ExactMatch_instance;
var ConversionScore_SubType_instance;
var ConversionScore_Compatible_instance;
var ConversionScore_Cast_instance;
var ConversionScore_SimpleConversion_instance;
var ConversionScore_ComplexConversion_instance;
var ConversionScore_IntervalPromotion_instance;
var ConversionScore_ListDemotion_instance;
var ConversionScore_IntervalDemotion_instance;
var ConversionScore_ListPromotion_instance;
var ConversionScore_entriesInitialized;
function ConversionScore_initEntries() {
  if (ConversionScore_entriesInitialized)
    return Unit_instance;
  ConversionScore_entriesInitialized = true;
  ConversionScore_ExactMatch_instance = new ConversionScore('ExactMatch', 0, 0);
  ConversionScore_SubType_instance = new ConversionScore('SubType', 1, 1);
  ConversionScore_Compatible_instance = new ConversionScore('Compatible', 2, 2);
  ConversionScore_Cast_instance = new ConversionScore('Cast', 3, 3);
  ConversionScore_SimpleConversion_instance = new ConversionScore('SimpleConversion', 4, 4);
  ConversionScore_ComplexConversion_instance = new ConversionScore('ComplexConversion', 5, 5);
  ConversionScore_IntervalPromotion_instance = new ConversionScore('IntervalPromotion', 6, 6);
  ConversionScore_ListDemotion_instance = new ConversionScore('ListDemotion', 7, 7);
  ConversionScore_IntervalDemotion_instance = new ConversionScore('IntervalDemotion', 8, 8);
  ConversionScore_ListPromotion_instance = new ConversionScore('ListPromotion', 9, 9);
}
function TypePrecedenceScore(name, ordinal, score) {
  Enum.call(this, name, ordinal);
  this.t9e_1 = score;
}
function ConversionScore(name, ordinal, score) {
  Enum.call(this, name, ordinal);
  this.y97_1 = score;
}
function hasConversion($this, conversion, conversions) {
  var tmp$ret$0;
  $l$block_0: {
    // Inline function 'kotlin.collections.any' call
    var tmp;
    if (isInterface(conversions, Collection)) {
      tmp = conversions.q();
    } else {
      tmp = false;
    }
    if (tmp) {
      tmp$ret$0 = false;
      break $l$block_0;
    }
    var _iterator__ex2g4s = conversions.g();
    while (_iterator__ex2g4s.h()) {
      var element = _iterator__ex2g4s.i();
      if (equals(element.j98_1, conversion.j98_1)) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
    }
    tmp$ret$0 = false;
  }
  return tmp$ret$0;
}
function getAllConversions($this, fromType) {
  var conversions = ArrayList_init_$Create$();
  var currentType = fromType;
  while (!(currentType == null) && !equals(currentType, Companion_getInstance_1().v5z_1)) {
    conversions.n($this.u9e(currentType));
    currentType = currentType.u5z();
  }
  return conversions;
}
function findCompatibleConversion($this, fromType, toType) {
  if (fromType.z5z(toType)) {
    return Conversion_init_$Create$_0(fromType, toType);
  }
  return null;
}
function findChoiceConversion($this, fromType, toType, allowPromotionAndDemotion, operatorMap) {
  var result = null;
  var _iterator__ex2g4s = fromType.b60_1.g();
  while (_iterator__ex2g4s.h()) {
    var choice = _iterator__ex2g4s.i();
    var choiceConversion = $this.c9b(choice, toType, true, allowPromotionAndDemotion, operatorMap);
    if (!(choiceConversion == null)) {
      if (result == null) {
        result = Conversion_init_$Create$_1(fromType, toType, choiceConversion);
      } else {
        result.q9e(choiceConversion);
      }
    }
  }
  return result;
}
function findTargetChoiceConversion($this, fromType, toType, allowPromotionAndDemotion, operatorMap) {
  var _iterator__ex2g4s = toType.b60_1.g();
  while (_iterator__ex2g4s.h()) {
    var choice = _iterator__ex2g4s.i();
    var tmp0_safe_receiver = $this.c9b(fromType, choice, true, allowPromotionAndDemotion, operatorMap);
    if (tmp0_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      return Conversion_init_$Create$_2(fromType, toType, tmp0_safe_receiver);
    }
  }
  return null;
}
function findListConversion($this, fromType, toType, operatorMap) {
  var tmp0_safe_receiver = $this.c9b(fromType.d61_1, toType.d61_1, true, false, operatorMap);
  var tmp;
  if (tmp0_safe_receiver == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.let' call
    tmp = Conversion_init_$Create$_3(fromType, toType, tmp0_safe_receiver);
  }
  return tmp;
}
function findIntervalConversion($this, fromType, toType, operatorMap) {
  var tmp0_safe_receiver = $this.c9b(fromType.g61_1, toType.g61_1, true, false, operatorMap);
  var tmp;
  if (tmp0_safe_receiver == null) {
    tmp = null;
  } else {
    // Inline function 'kotlin.let' call
    tmp = Conversion_init_$Create$_8(fromType, toType, tmp0_safe_receiver);
  }
  return tmp;
}
function findListDemotion($this, fromType, toType, operatorMap) {
  var elementType = fromType.d61_1;
  var tmp;
  if (elementType.x5z(toType)) {
    tmp = Conversion_init_$Create$_4(fromType, toType, null);
  } else {
    var tmp0_safe_receiver = $this.c9b(elementType, toType, true, false, operatorMap);
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      // Inline function 'kotlin.let' call
      tmp_0 = Conversion_init_$Create$_4(fromType, toType, tmp0_safe_receiver);
    }
    tmp = tmp_0;
  }
  return tmp;
}
function findListPromotion($this, fromType, toType, operatorMap) {
  var tmp;
  if (fromType.x5z(toType.d61_1)) {
    tmp = Conversion_init_$Create$_5(fromType, toType, null);
  } else {
    var tmp0_safe_receiver = $this.c9b(fromType, toType.d61_1, true, false, operatorMap);
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      // Inline function 'kotlin.let' call
      tmp_0 = Conversion_init_$Create$_5(fromType, toType, tmp0_safe_receiver);
    }
    tmp = tmp_0;
  }
  return tmp;
}
function findIntervalDemotion($this, fromType, toType, operatorMap) {
  var pointType = fromType.g61_1;
  var tmp;
  if (pointType.x5z(toType)) {
    tmp = Conversion_init_$Create$_6(fromType, toType, null);
  } else {
    var tmp0_safe_receiver = $this.c9b(pointType, toType, true, false, operatorMap);
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      // Inline function 'kotlin.let' call
      tmp_0 = Conversion_init_$Create$_6(fromType, toType, tmp0_safe_receiver);
    }
    tmp = tmp_0;
  }
  return tmp;
}
function findIntervalPromotion($this, fromType, toType, operatorMap) {
  var tmp;
  if (fromType.x5z(toType.g61_1)) {
    tmp = Conversion_init_$Create$_7(fromType, toType, null);
  } else {
    var tmp0_safe_receiver = $this.c9b(fromType, toType.g61_1, true, false, operatorMap);
    var tmp_0;
    if (tmp0_safe_receiver == null) {
      tmp_0 = null;
    } else {
      // Inline function 'kotlin.let' call
      tmp_0 = Conversion_init_$Create$_7(fromType, toType, tmp0_safe_receiver);
    }
    tmp = tmp_0;
  }
  return tmp;
}
function ensureGenericConversionInstantiated($this, fromType, toType, isImplicit, operatorMap) {
  var operatorsInstantiated = false;
  var _iterator__ex2g4s = $this.r8w_1.g();
  while (_iterator__ex2g4s.h()) {
    var c = _iterator__ex2g4s.i();
    if (!(c.m98_1 == null)) {
      var tmp = c.m98_1;
      var instantiationResult = (tmp instanceof GenericOperator ? tmp : THROW_CCE()).e9f(Signature_init_$Create$([fromType]), operatorMap, $this, false);
      var operator = instantiationResult.g9f_1;
      if (!(operator == null) && !operatorMap.j9e(operator)) {
        operatorMap.h9e(operator);
        var conversion = Conversion_init_$Create$(operator, true);
        $this.n97(conversion);
        operatorsInstantiated = true;
      }
    }
  }
  return operatorsInstantiated;
}
function internalFindConversion($this, fromType, toType, isImplicit) {
  var result = null;
  var score = 2147483647;
  var _iterator__ex2g4s = getAllConversions($this, fromType).g();
  while (_iterator__ex2g4s.h()) {
    var conversion = _iterator__ex2g4s.i();
    if ((!isImplicit || conversion.k98_1) && (conversion.j98_1.y5z(toType) || conversion.j98_1.d60())) {
      var newScore = (equals(conversion.i98_1, fromType) ? 0 : conversion.i98_1.d60() ? 1 : 2) + (equals(conversion.j98_1, toType) ? 0 : conversion.j98_1.d60() ? 1 : 2) | 0;
      if (newScore < score) {
        result = conversion;
        score = newScore;
      } else {
        // Inline function 'kotlin.require' call
        if (!!(newScore === score)) {
          var message = 'Ambiguous implicit conversion from ' + toString(fromType) + ' to ' + toString(ensureNotNull(result).j98_1) + ' or ' + toString(conversion.j98_1) + '.';
          throw IllegalArgumentException_init_$Create$(toString(message));
        }
      }
    }
  }
  return result;
}
function Companion_9() {
}
protoOf(Companion_9).z97 = function (operand) {
  switch (getKClassFromExpression(operand).lb()) {
    case 'SimpleType':
      return TypePrecedenceScore_Simple_getInstance().t9e_1;
    case 'TupleType':
      return TypePrecedenceScore_Tuple_getInstance().t9e_1;
    case 'ClassType':
      return TypePrecedenceScore_Class_getInstance().t9e_1;
    case 'IntervalType':
      return TypePrecedenceScore_Interval_getInstance().t9e_1;
    case 'ListType':
      return TypePrecedenceScore_List_getInstance().t9e_1;
    case 'ChoiceType':
      return TypePrecedenceScore_Choice_getInstance().t9e_1;
    default:
      return TypePrecedenceScore_Other_getInstance().t9e_1;
  }
};
protoOf(Companion_9).i9f = function (callOperand, operand, conversion) {
  var tmp;
  if (equals(operand, callOperand)) {
    tmp = ConversionScore_ExactMatch_getInstance().y97_1;
  } else if (operand.y5z(callOperand)) {
    tmp = ConversionScore_SubType_getInstance().y97_1;
  } else if (callOperand.z5z(operand)) {
    tmp = ConversionScore_Compatible_getInstance().y97_1;
  } else if (!(conversion == null)) {
    tmp = conversion.m9d();
  } else {
    throw IllegalArgumentException_init_$Create$('Could not determine conversion score for conversion');
  }
  return tmp;
};
var Companion_instance_12;
function Companion_getInstance_12() {
  return Companion_instance_12;
}
function TypePrecedenceScore_Simple_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_Simple_instance;
}
function TypePrecedenceScore_Tuple_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_Tuple_instance;
}
function TypePrecedenceScore_Class_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_Class_instance;
}
function TypePrecedenceScore_Interval_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_Interval_instance;
}
function TypePrecedenceScore_List_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_List_instance;
}
function TypePrecedenceScore_Choice_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_Choice_instance;
}
function TypePrecedenceScore_Other_getInstance() {
  TypePrecedenceScore_initEntries();
  return TypePrecedenceScore_Other_instance;
}
function ConversionScore_ExactMatch_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_ExactMatch_instance;
}
function ConversionScore_SubType_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_SubType_instance;
}
function ConversionScore_Compatible_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_Compatible_instance;
}
function ConversionScore_Cast_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_Cast_instance;
}
function ConversionScore_SimpleConversion_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_SimpleConversion_instance;
}
function ConversionScore_ComplexConversion_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_ComplexConversion_instance;
}
function ConversionScore_IntervalPromotion_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_IntervalPromotion_instance;
}
function ConversionScore_ListDemotion_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_ListDemotion_instance;
}
function ConversionScore_IntervalDemotion_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_IntervalDemotion_instance;
}
function ConversionScore_ListPromotion_getInstance() {
  ConversionScore_initEntries();
  return ConversionScore_ListPromotion_instance;
}
function ConversionMap() {
  this.q8w_1 = HashMap_init_$Create$();
  this.r8w_1 = ArrayList_init_$Create$();
  this.s8w_1 = true;
  this.t8w_1 = true;
  this.u8w_1 = false;
  this.v8w_1 = false;
}
protoOf(ConversionMap).w8w = function (fromType, toType) {
  var tmp0 = this.u9e(fromType);
  var tmp$ret$1;
  $l$block: {
    // Inline function 'kotlin.collections.firstOrNull' call
    var _iterator__ex2g4s = tmp0.g();
    while (_iterator__ex2g4s.h()) {
      var element = _iterator__ex2g4s.i();
      if (equals(element.j98_1, toType)) {
        tmp$ret$1 = element;
        break $l$block;
      }
    }
    tmp$ret$1 = null;
  }
  var tmp0_safe_receiver = tmp$ret$1;
  return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.m98_1;
};
protoOf(ConversionMap).n97 = function (conversion) {
  if (conversion.d60()) {
    var conversions = this.r8w_1;
    // Inline function 'kotlin.check' call
    if (!!hasConversion(this, conversion, conversions)) {
      var message = 'Conversion from ' + toString(conversion.i98_1) + ' to ' + toString(conversion.j98_1) + ' is already defined.';
      throw IllegalStateException_init_$Create$(toString(message));
    }
    conversions.e(conversion);
  } else {
    var conversions_0 = this.u9e(conversion.i98_1);
    // Inline function 'kotlin.check' call
    if (!!hasConversion(this, conversion, conversions_0)) {
      var message_0 = 'Conversion from ' + toString(conversion.i98_1) + ' to ' + toString(conversion.j98_1) + ' is already defined.';
      throw IllegalStateException_init_$Create$(toString(message_0));
    }
    conversions_0.e(conversion);
  }
};
protoOf(ConversionMap).u9e = function (fromType) {
  // Inline function 'kotlin.collections.getOrPut' call
  var this_0 = this.q8w_1;
  var value = this_0.q2(fromType);
  var tmp;
  if (value == null) {
    var answer = ArrayList_init_$Create$();
    this_0.u2(fromType, answer);
    tmp = answer;
  } else {
    tmp = value;
  }
  return tmp;
};
protoOf(ConversionMap).c9b = function (fromType, toType, isImplicit, allowPromotionAndDemotion, operatorMap) {
  var tmp0_elvis_lhs = findCompatibleConversion(this, fromType, toType);
  var result = tmp0_elvis_lhs == null ? internalFindConversion(this, fromType, toType, isImplicit) : tmp0_elvis_lhs;
  if (result == null && ensureGenericConversionInstantiated(this, fromType, toType, isImplicit, operatorMap)) {
    result = internalFindConversion(this, fromType, toType, isImplicit);
  }
  if (result == null) {
    var tmp;
    var tmp_0;
    var tmp_1;
    if (fromType instanceof ListType) {
      tmp_1 = !(toType instanceof ListType);
    } else {
      tmp_1 = false;
    }
    if (tmp_1) {
      tmp_0 = allowPromotionAndDemotion || this.s8w_1;
    } else {
      tmp_0 = false;
    }
    if (tmp_0) {
      tmp = findListDemotion(this, fromType, toType, operatorMap);
    } else {
      var tmp_2;
      var tmp_3;
      if (!(fromType instanceof ListType)) {
        tmp_3 = toType instanceof ListType;
      } else {
        tmp_3 = false;
      }
      if (tmp_3) {
        tmp_2 = allowPromotionAndDemotion || this.t8w_1;
      } else {
        tmp_2 = false;
      }
      if (tmp_2) {
        tmp = findListPromotion(this, fromType, toType, operatorMap);
      } else {
        var tmp_4;
        var tmp_5;
        if (fromType instanceof IntervalType) {
          tmp_5 = !(toType instanceof IntervalType);
        } else {
          tmp_5 = false;
        }
        if (tmp_5) {
          tmp_4 = allowPromotionAndDemotion || this.u8w_1;
        } else {
          tmp_4 = false;
        }
        if (tmp_4) {
          tmp = findIntervalDemotion(this, fromType, toType, operatorMap);
        } else {
          var tmp_6;
          var tmp_7;
          if (!(fromType instanceof IntervalType)) {
            tmp_7 = toType instanceof IntervalType;
          } else {
            tmp_7 = false;
          }
          if (tmp_7) {
            tmp_6 = allowPromotionAndDemotion || this.v8w_1;
          } else {
            tmp_6 = false;
          }
          if (tmp_6) {
            tmp = findIntervalPromotion(this, fromType, toType, operatorMap);
          } else {
            if (fromType instanceof ChoiceType) {
              tmp = findChoiceConversion(this, fromType, toType, allowPromotionAndDemotion, operatorMap);
            } else {
              var tmp_8;
              if (!(fromType instanceof ChoiceType)) {
                tmp_8 = toType instanceof ChoiceType;
              } else {
                tmp_8 = false;
              }
              if (tmp_8) {
                tmp = findTargetChoiceConversion(this, fromType, toType, allowPromotionAndDemotion, operatorMap);
              } else {
                var tmp_9;
                if (fromType instanceof ListType) {
                  tmp_9 = toType instanceof ListType;
                } else {
                  tmp_9 = false;
                }
                if (tmp_9) {
                  tmp = findListConversion(this, fromType, toType, operatorMap);
                } else {
                  var tmp_10;
                  if (fromType instanceof IntervalType) {
                    tmp_10 = toType instanceof IntervalType;
                  } else {
                    tmp_10 = false;
                  }
                  if (tmp_10) {
                    tmp = findIntervalConversion(this, fromType, toType, operatorMap);
                  } else {
                    tmp = null;
                  }
                }
              }
            }
          }
        }
      }
    }
    result = tmp;
  }
  return result;
};
function FunctionHeader_init_$Init$(functionDef, $this) {
  FunctionHeader.call($this, functionDef, null);
  return $this;
}
function FunctionHeader_init_$Create$(functionDef) {
  return FunctionHeader_init_$Init$(functionDef, objectCreate(protoOf(FunctionHeader)));
}
function FunctionHeader$mangledName$delegate$lambda(this$0) {
  return function () {
    var sb = StringBuilder_init_$Create$();
    sb.j9(this$0.d8z_1.c6w_1);
    sb.j9('_');
    var _iterator__ex2g4s = this$0.d8z_1.o67().g();
    while (_iterator__ex2g4s.h()) {
      var od = _iterator__ex2g4s.i();
      var tmp;
      var tmp_0 = od.x7q_1;
      if (tmp_0 instanceof NamedTypeSpecifier) {
        var tmp_1 = od.x7q_1;
        tmp = (tmp_1 instanceof NamedTypeSpecifier ? tmp_1 : THROW_CCE()).b7g_1;
      } else {
        tmp = toString_0(od.x7q_1);
      }
      sb.i9(tmp);
    }
    sb.j9('_');
    return sb.toString();
  };
}
function FunctionHeader$_get_mangledName_$ref_5w5ze0() {
  return function (p0) {
    return p0.t8z();
  };
}
function FunctionHeader(functionDef, resultType) {
  this.d8z_1 = functionDef;
  this.e8z_1 = resultType;
  this.f8z_1 = false;
  var tmp = this;
  tmp.g8z_1 = lazy_0(FunctionHeader$mangledName$delegate$lambda(this));
}
protoOf(FunctionHeader).t8z = function () {
  var tmp0 = this.g8z_1;
  var tmp = KProperty1;
  // Inline function 'kotlin.getValue' call
  getPropertyCallableRef('mangledName', 1, tmp, FunctionHeader$_get_mangledName_$ref_5w5ze0(), null);
  return tmp0.n2();
};
protoOf(FunctionHeader).toString = function () {
  return joinToString(listOf(['functionDef=' + toString(this.d8z_1), 'resultType=' + toString_0(this.e8z_1)]), ', ', plus(getKClass(FunctionHeader).lb(), '['), ']');
};
protoOf(FunctionHeader).hashCode = function () {
  var result = this.d8z_1.hashCode();
  result = imul(result, 31) + (this.e8z_1 == null ? 0 : this.e8z_1.hashCode()) | 0;
  return result;
};
protoOf(FunctionHeader).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof FunctionHeader))
    return false;
  var tmp0_other_with_cast = other instanceof FunctionHeader ? other : THROW_CCE();
  if (!this.d8z_1.equals(tmp0_other_with_cast.d8z_1))
    return false;
  if (!equals(this.e8z_1, tmp0_other_with_cast.e8z_1))
    return false;
  return true;
};
function GenericOperator_init_$Init$(name, signature, resultType, typeParameters, $this) {
  GenericOperator.call($this, name, signature, resultType, toList_0(typeParameters));
  return $this;
}
function GenericOperator_init_$Create$(name, signature, resultType, typeParameters) {
  return GenericOperator_init_$Init$(name, signature, resultType, typeParameters, objectCreate(protoOf(GenericOperator)));
}
function instantiate($this, callSignature, parameters, operatorMap, conversionMap, allowPromotionAndDemotion) {
  var typeMap = HashMap_init_$Create$();
  var _iterator__ex2g4s = $this.d9f_1.g();
  while (_iterator__ex2g4s.h()) {
    var p = _iterator__ex2g4s.i();
    // Inline function 'kotlin.collections.set' call
    typeMap.u2(p, null);
  }
  if (!(parameters == null)) {
    typeMap.w2(parameters);
  }
  var context = new InstantiationContextImpl(typeMap, operatorMap, conversionMap, allowPromotionAndDemotion);
  var instantiable = $this.y8w_1.j9f(callSignature, context);
  if (instantiable) {
    var result = Operator_init_$Create$($this.x8w_1, $this.y8w_1.f60(context), ensureNotNull($this.z8w_1).f60(context));
    result.b8x_1 = $this.b8x_1;
    result.e8x_1 = $this.e8x_1;
    return new InstantiationResult($this, result, context.o9f_1);
  }
  return new InstantiationResult($this, null, context.o9f_1);
}
function GenericOperator(name, signature, resultType, typeParameters) {
  Operator_init_$Init$(name, signature, resultType, this);
  this.d9f_1 = typeParameters;
}
protoOf(GenericOperator).e9f = function (callSignature, operatorMap, conversionMap, allowPromotionAndDemotion) {
  return instantiate(this, callSignature, null, operatorMap, conversionMap, allowPromotionAndDemotion);
};
function InstantiationContextImpl(typeMap, operatorMap, conversionMap, allowPromotionAndDemotion) {
  this.k9f_1 = typeMap;
  this.l9f_1 = operatorMap;
  this.m9f_1 = conversionMap;
  this.n9f_1 = allowPromotionAndDemotion;
  this.o9f_1 = 0;
}
protoOf(InstantiationContextImpl).v63 = function (parameter, callType) {
  var boundType = this.k9f_1.q2(parameter);
  if (boundType == null) {
    var tmp;
    if (parameter.u63(callType)) {
      // Inline function 'kotlin.collections.set' call
      this.k9f_1.u2(parameter, callType);
      tmp = true;
    } else {
      tmp = false;
    }
    return tmp;
  } else {
    if (boundType.y5z(callType) || callType.z5z(boundType)) {
      return true;
    } else if (callType.y5z(boundType) || boundType.z5z(callType)) {
      var tmp_0;
      if (parameter.u63(callType)) {
        // Inline function 'kotlin.collections.set' call
        this.k9f_1.u2(parameter, callType);
        tmp_0 = true;
      } else {
        tmp_0 = false;
      }
      return tmp_0;
    } else {
      var conversion = this.m9f_1.c9b(callType, boundType, true, this.n9f_1, this.l9f_1);
      if (!(conversion == null)) {
        var tmp_1;
        if (boundType instanceof ListType) {
          tmp_1 = boundType.d61_1.y5z(callType) || callType.z5z(boundType.d61_1);
        } else {
          tmp_1 = false;
        }
        if (tmp_1) {
          var tmp_2;
          if (parameter.u63(callType)) {
            // Inline function 'kotlin.collections.set' call
            this.k9f_1.u2(parameter, callType);
            this.o9f_1 = this.o9f_1 - ConversionScore_ListPromotion_getInstance().y97_1 | 0;
            tmp_2 = true;
          } else {
            tmp_2 = false;
          }
          return tmp_2;
        }
        return true;
      }
      conversion = this.m9f_1.c9b(boundType, callType, true, this.n9f_1, this.l9f_1);
      if (!(conversion == null)) {
        var tmp_3;
        if (parameter.u63(callType)) {
          // Inline function 'kotlin.collections.set' call
          this.k9f_1.u2(parameter, callType);
          var tmp_4 = this;
          var tmp_5 = this.o9f_1;
          var tmp_6;
          var tmp_7 = conversion.j98_1;
          if (tmp_7 instanceof SimpleType) {
            tmp_6 = ConversionScore_SimpleConversion_getInstance().y97_1;
          } else {
            tmp_6 = ConversionScore_ComplexConversion_getInstance().y97_1;
          }
          tmp_4.o9f_1 = tmp_5 - tmp_6 | 0;
          tmp_3 = true;
        } else {
          tmp_3 = false;
        }
        return tmp_3;
      }
    }
  }
  return false;
};
protoOf(InstantiationContextImpl).w63 = function (parameter) {
  var tmp0_elvis_lhs = this.k9f_1.q2(parameter);
  var tmp;
  if (tmp0_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Could not resolve type parameter ' + parameter.z61_1 + '.');
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var result = tmp;
  return result;
};
protoOf(InstantiationContextImpl).o62 = function (callType) {
  var results = ArrayList_init_$Create$();
  var _iterator__ex2g4s = this.m9f_1.u9e(callType).g();
  while (_iterator__ex2g4s.h()) {
    var c = _iterator__ex2g4s.i();
    var tmp = c.j98_1;
    if (tmp instanceof IntervalType) {
      results.e(c.j98_1);
      this.o9f_1 = this.o9f_1 + ConversionScore_ComplexConversion_getInstance().y97_1 | 0;
    }
  }
  if (results.q()) {
    var _iterator__ex2g4s_0 = this.m9f_1.r8w_1.g();
    while (_iterator__ex2g4s_0.h()) {
      var c_0 = _iterator__ex2g4s_0.i();
      var tmp_0;
      if (!(c_0.m98_1 == null)) {
        var tmp_1 = c_0.j98_1;
        tmp_0 = tmp_1 instanceof IntervalType;
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        var tmp_2 = c_0.m98_1;
        var instantiationResult = (tmp_2 instanceof GenericOperator ? tmp_2 : THROW_CCE()).e9f(Signature_init_$Create$([callType]), this.l9f_1, this.m9f_1, false);
        var operator = instantiationResult.g9f_1;
        if (!(operator == null)) {
          this.l9f_1.h9e(operator);
          var conversion = Conversion_init_$Create$(operator, true);
          this.m9f_1.n97(conversion);
          var tmp_3 = conversion.j98_1;
          results.e(tmp_3 instanceof IntervalType ? tmp_3 : THROW_CCE());
        }
      }
    }
  }
  var tmp_4;
  var tmp_5;
  var tmp_6;
  if (results.q()) {
    tmp_6 = !(callType instanceof IntervalType);
  } else {
    tmp_6 = false;
  }
  if (tmp_6) {
    tmp_5 = this.l9f_1.p9f(callType);
  } else {
    tmp_5 = false;
  }
  if (tmp_5) {
    tmp_4 = this.n9f_1 || this.m9f_1.v8w_1;
  } else {
    tmp_4 = false;
  }
  if (tmp_4) {
    results.e(new IntervalType(callType));
    this.o9f_1 = this.o9f_1 + ConversionScore_IntervalPromotion_getInstance().y97_1 | 0;
  }
  return results;
};
protoOf(InstantiationContextImpl).p62 = function (callType) {
  var results = ArrayList_init_$Create$();
  var _iterator__ex2g4s = this.m9f_1.u9e(callType).g();
  while (_iterator__ex2g4s.h()) {
    var c = _iterator__ex2g4s.i();
    var tmp = c.j98_1;
    if (tmp instanceof ListType) {
      results.e(c.j98_1);
      this.o9f_1 = this.o9f_1 + ConversionScore_ComplexConversion_getInstance().y97_1 | 0;
    }
  }
  if (results.q()) {
    var _iterator__ex2g4s_0 = this.m9f_1.r8w_1.g();
    while (_iterator__ex2g4s_0.h()) {
      var c_0 = _iterator__ex2g4s_0.i();
      var tmp_0;
      if (!(c_0.m98_1 == null)) {
        var tmp_1 = c_0.j98_1;
        tmp_0 = tmp_1 instanceof ListType;
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        var tmp_2 = c_0.m98_1;
        var instantiationResult = (tmp_2 instanceof GenericOperator ? tmp_2 : THROW_CCE()).e9f(Signature_init_$Create$([callType]), this.l9f_1, this.m9f_1, false);
        var operator = instantiationResult.g9f_1;
        if (!(operator == null)) {
          this.l9f_1.h9e(operator);
          var conversion = Conversion_init_$Create$(operator, true);
          this.m9f_1.n97(conversion);
          var tmp_3 = conversion.j98_1;
          results.e(tmp_3 instanceof ListType ? tmp_3 : THROW_CCE());
        }
      }
    }
  }
  var tmp_4;
  var tmp_5;
  if (results.q()) {
    tmp_5 = !(callType instanceof ListType);
  } else {
    tmp_5 = false;
  }
  if (tmp_5) {
    tmp_4 = this.n9f_1 || this.m9f_1.t8w_1;
  } else {
    tmp_4 = false;
  }
  if (tmp_4) {
    results.e(new ListType(callType));
    this.o9f_1 = this.o9f_1 + ConversionScore_ListPromotion_getInstance().y97_1 | 0;
  }
  return results;
};
protoOf(InstantiationContextImpl).m63 = function (callType) {
  var results = ArrayList_init_$Create$();
  var _iterator__ex2g4s = this.m9f_1.u9e(callType).g();
  while (_iterator__ex2g4s.h()) {
    var c = _iterator__ex2g4s.i();
    var tmp = c.j98_1;
    if (tmp instanceof SimpleType) {
      results.e(c.j98_1);
      this.o9f_1 = this.o9f_1 + ConversionScore_SimpleConversion_getInstance().y97_1 | 0;
    }
  }
  if (results.q()) {
    var _iterator__ex2g4s_0 = this.m9f_1.r8w_1.g();
    while (_iterator__ex2g4s_0.h()) {
      var c_0 = _iterator__ex2g4s_0.i();
      var tmp_0;
      if (!(c_0.m98_1 == null)) {
        var tmp_1 = c_0.j98_1;
        tmp_0 = tmp_1 instanceof SimpleType;
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        var tmp_2 = c_0.m98_1;
        var instantiationResult = (tmp_2 instanceof GenericOperator ? tmp_2 : THROW_CCE()).e9f(Signature_init_$Create$([callType]), this.l9f_1, this.m9f_1, false);
        var operator = instantiationResult.g9f_1;
        if (!(operator == null)) {
          this.l9f_1.h9e(operator);
          var conversion = Conversion_init_$Create$(operator, true);
          this.m9f_1.n97(conversion);
          var tmp_3 = conversion.j98_1;
          results.e(tmp_3 instanceof SimpleType ? tmp_3 : THROW_CCE());
        }
      }
    }
  }
  var tmp_4;
  var tmp_5;
  var tmp_6;
  if (results.q()) {
    tmp_6 = callType instanceof IntervalType;
  } else {
    tmp_6 = false;
  }
  if (tmp_6) {
    var tmp_7 = callType.g61_1;
    tmp_5 = tmp_7 instanceof SimpleType;
  } else {
    tmp_5 = false;
  }
  if (tmp_5) {
    tmp_4 = this.n9f_1 || this.m9f_1.u8w_1;
  } else {
    tmp_4 = false;
  }
  if (tmp_4) {
    var tmp_8 = callType.g61_1;
    results.e(tmp_8 instanceof SimpleType ? tmp_8 : THROW_CCE());
    this.o9f_1 = this.o9f_1 + ConversionScore_IntervalDemotion_getInstance().y97_1 | 0;
  }
  var tmp_9;
  var tmp_10;
  var tmp_11;
  if (results.q()) {
    tmp_11 = callType instanceof ListType;
  } else {
    tmp_11 = false;
  }
  if (tmp_11) {
    var tmp_12 = callType.d61_1;
    tmp_10 = tmp_12 instanceof SimpleType;
  } else {
    tmp_10 = false;
  }
  if (tmp_10) {
    tmp_9 = this.n9f_1 || this.m9f_1.s8w_1;
  } else {
    tmp_9 = false;
  }
  if (tmp_9) {
    var tmp_13 = callType.d61_1;
    results.e(tmp_13 instanceof SimpleType ? tmp_13 : THROW_CCE());
    this.o9f_1 = this.o9f_1 + ConversionScore_ListDemotion_getInstance().y97_1 | 0;
  }
  return results;
};
function InstantiationResult(genericOperator, operator, conversionScore) {
  this.f9f_1 = genericOperator;
  this.g9f_1 = operator;
  this.h9f_1 = conversionScore;
}
protoOf(InstantiationResult).toString = function () {
  return 'InstantiationResult(genericOperator=' + toString(this.f9f_1) + ', operator=' + toString_0(this.g9f_1) + ', conversionScore=' + this.h9f_1 + ')';
};
protoOf(InstantiationResult).hashCode = function () {
  var result = hashCode(this.f9f_1);
  result = imul(result, 31) + (this.g9f_1 == null ? 0 : hashCode(this.g9f_1)) | 0;
  result = imul(result, 31) + this.h9f_1 | 0;
  return result;
};
protoOf(InstantiationResult).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof InstantiationResult))
    return false;
  var tmp0_other_with_cast = other instanceof InstantiationResult ? other : THROW_CCE();
  if (!equals(this.f9f_1, tmp0_other_with_cast.f9f_1))
    return false;
  if (!equals(this.g9f_1, tmp0_other_with_cast.g9f_1))
    return false;
  if (!(this.h9f_1 === tmp0_other_with_cast.h9f_1))
    return false;
  return true;
};
function LibraryRef(localId, libraryName) {
  Expression.call(this);
  this.v8y_1 = libraryName;
  this.a66_1 = localId;
}
function casify($this, typeName) {
  var tmp;
  if (!($this.q90_1.e5y() == null) && ensureNotNull($this.q90_1.e5y())) {
    // Inline function 'kotlin.text.lowercase' call
    // Inline function 'kotlin.js.asDynamic' call
    tmp = typeName.toLowerCase();
  } else {
    tmp = typeName;
  }
  return tmp;
}
function Model(modelInfo, modelManager) {
  this.q90_1 = modelInfo;
  this.r90_1 = HashMap_init_$Create$();
  this.s90_1 = HashMap_init_$Create$();
  this.t90_1 = ArrayList_init_$Create$();
  this.u90_1 = ArrayList_init_$Create$();
  this.v90_1 = HashMap_init_$Create$();
  var importer = new ModelImporter(this.q90_1, modelManager);
  this.r90_1 = importer.z9f();
  var _iterator__ex2g4s = importer.w9f_1.g();
  while (_iterator__ex2g4s.h()) {
    var c = _iterator__ex2g4s.i();
    this.t90_1.e(c);
  }
  var _iterator__ex2g4s_0 = importer.x9f_1.g();
  while (_iterator__ex2g4s_0.h()) {
    var c_0 = _iterator__ex2g4s_0.i();
    this.u90_1.e(c_0);
  }
  this.w90_1 = importer.a9g();
  var _iterator__ex2g4s_1 = this.r90_1.s2().g();
  while (_iterator__ex2g4s_1.h()) {
    var t = _iterator__ex2g4s_1.i();
    var tmp;
    if (t instanceof ClassType) {
      tmp = !(t.n60_1 == null);
    } else {
      tmp = false;
    }
    if (tmp) {
      var tmp0 = this.s90_1;
      // Inline function 'kotlin.collections.set' call
      var key = casify(this, ensureNotNull(t.n60_1));
      tmp0.u2(key, t);
    }
    if (isInterface(t, NamedType)) {
      var tmp0_0 = this.v90_1;
      // Inline function 'kotlin.collections.set' call
      var key_0 = casify(this, (isInterface(t, NamedType) ? t : THROW_CCE()).lb());
      tmp0_0.u2(key_0, t);
    }
  }
}
protoOf(Model).m97 = function () {
  return this.t90_1;
};
protoOf(Model).j90 = function (typeName) {
  var normalizedTypeName = casify(this, typeName);
  var tmp0_elvis_lhs = this.r90_1.q2(normalizedTypeName);
  return tmp0_elvis_lhs == null ? this.v90_1.q2(normalizedTypeName) : tmp0_elvis_lhs;
};
protoOf(Model).b9g = function (contextName, mustResolve) {
  var _iterator__ex2g4s = this.u90_1.g();
  while (_iterator__ex2g4s.h()) {
    var context = _iterator__ex2g4s.i();
    if (context.q62_1 === contextName) {
      return context;
    }
  }
  var contextType = this.j90(contextName);
  if (contextType instanceof ClassType) {
    var keyName = null;
    var _iterator__ex2g4s_0 = contextType.k60_1.g();
    $l$loop: while (_iterator__ex2g4s_0.h()) {
      var cte = _iterator__ex2g4s_0.i();
      if (cte.x60_1 === 'id') {
        keyName = cte.x60_1;
        break $l$loop;
      }
    }
    return new ModelContext(contextName, contextType, !(keyName == null) ? listOf_0(keyName) : emptyList(), null);
  }
  // Inline function 'kotlin.require' call
  if (!!mustResolve) {
    var message = 'Could not resolve context name ' + contextName + ' in model ' + this.q90_1.j5x_1 + '.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  return null;
};
protoOf(Model).l9a = function (contextName, mustResolve, $super) {
  mustResolve = mustResolve === VOID ? true : mustResolve;
  return $super === VOID ? this.b9g(contextName, mustResolve) : $super.b9g.call(this, contextName, mustResolve);
};
protoOf(Model).p97 = function (label) {
  return this.s90_1.q2(casify(this, label));
};
function casify_0($this, typeName, caseSensitive) {
  var tmp;
  if (caseSensitive) {
    // Inline function 'kotlin.text.lowercase' call
    // Inline function 'kotlin.js.asDynamic' call
    tmp = typeName.toLowerCase();
  } else {
    tmp = typeName;
  }
  return tmp;
}
function casify$default($this, typeName, caseSensitive, $super) {
  var tmp;
  if (caseSensitive === VOID) {
    var tmp0_elvis_lhs = $this.q9f_1.e5y();
    tmp = tmp0_elvis_lhs == null ? false : tmp0_elvis_lhs;
  } else {
    tmp = caseSensitive;
  }
  caseSensitive = tmp;
  return casify_0($this, typeName, caseSensitive);
}
function resolveTypeInfo($this, t) {
  var tmp;
  if (t instanceof SimpleTypeInfo) {
    tmp = resolveSimpleType($this, t);
  } else {
    if (t instanceof ClassInfo) {
      tmp = resolveClassType($this, t);
    } else {
      if (t instanceof TupleTypeInfo) {
        tmp = resolveTupleType($this, t);
      } else {
        if (t instanceof IntervalTypeInfo) {
          tmp = resolveIntervalType($this, t);
        } else {
          if (t instanceof ListTypeInfo) {
            tmp = resolveListType($this, t);
          } else {
            if (t instanceof ChoiceTypeInfo) {
              tmp = resolveChoiceType($this, t);
            } else {
              tmp = null;
            }
          }
        }
      }
    }
  }
  return tmp;
}
function resolveTypeSpecifier($this, typeSpecifier) {
  if (typeSpecifier instanceof NamedTypeSpecifier_0) {
    var qualifier = typeSpecifier.k5y_1;
    // Inline function 'kotlin.text.isNullOrEmpty' call
    var this_0 = qualifier;
    if (this_0 == null || charSequenceLength(this_0) === 0) {
      qualifier = typeSpecifier.j5y_1;
    }
    // Inline function 'kotlin.text.isNullOrEmpty' call
    var this_1 = qualifier;
    if (this_1 == null || charSequenceLength(this_1) === 0) {
      qualifier = $this.q9f_1.j5x_1;
    }
    var qualifiedTypeName = '' + qualifier + '.' + typeSpecifier.l5y_1;
    return resolveTypeName($this, qualifiedTypeName);
  }
  if (typeSpecifier instanceof IntervalTypeSpecifier) {
    var pointType = resolveTypeNameOrSpecifier($this, typeSpecifier.b5x_1, typeSpecifier.c5x_1);
    return new IntervalType(ensureNotNull(pointType));
  }
  if (typeSpecifier instanceof ListTypeSpecifier) {
    var elementType = resolveTypeNameOrSpecifier($this, typeSpecifier.h5x_1, typeSpecifier.i5x_1);
    if (!(elementType == null)) {
      return new ListType(elementType);
    }
  }
  if (typeSpecifier instanceof TupleTypeSpecifier) {
    // Inline function 'kotlin.collections.mutableListOf' call
    var elements = ArrayList_init_$Create$();
    var _iterator__ex2g4s = typeSpecifier.g5v().g();
    while (_iterator__ex2g4s.h()) {
      var specifierElement = _iterator__ex2g4s.i();
      var element = new TupleTypeElement(ensureNotNull(specifierElement.n5z_1), ensureNotNull(resolveTypeSpecifier($this, ensureNotNull(specifierElement.o5z_1))));
      elements.e(element);
    }
    return TupleType_init_$Create$(elements);
  }
  if (typeSpecifier instanceof ChoiceTypeSpecifier) {
    var choices = ArrayList_init_$Create$();
    var _iterator__ex2g4s_0 = typeSpecifier.f5u().g();
    while (_iterator__ex2g4s_0.h()) {
      var choice = _iterator__ex2g4s_0.i();
      var choiceType = ensureNotNull(resolveTypeSpecifier($this, choice));
      choices.e(choiceType);
    }
    return ChoiceType_init_$Create$(choices);
  }
  return null;
}
function resolveTypeName($this, typeName) {
  // Inline function 'kotlin.text.lowercase' call
  // Inline function 'kotlin.js.asDynamic' call
  var tmp$ret$1 = typeName.toLowerCase();
  if (startsWith(tmp$ret$1, 'interval<')) {
    var pointType = resolveTypeName($this, substring_0(typeName, indexOf_0(typeName, _Char___init__impl__6a9atx(60)) + 1 | 0, lastIndexOf(typeName, _Char___init__impl__6a9atx(62))));
    return new IntervalType(ensureNotNull(pointType));
  } else {
    // Inline function 'kotlin.text.lowercase' call
    // Inline function 'kotlin.js.asDynamic' call
    var tmp$ret$3 = typeName.toLowerCase();
    if (startsWith(tmp$ret$3, 'list<')) {
      var elementType = resolveTypeName($this, substring_0(typeName, indexOf_0(typeName, _Char___init__impl__6a9atx(60)) + 1 | 0, lastIndexOf(typeName, _Char___init__impl__6a9atx(62))));
      return new ListType(ensureNotNull(elementType));
    }
  }
  var result = lookupType($this, typeName);
  if (result == null) {
    var tmp0_elvis_lhs = lookupTypeInfo($this, ensureUnqualified($this, typeName));
    var tmp;
    if (tmp0_elvis_lhs == null) {
      throw IllegalArgumentException_init_$Create$('Could not resolve type info for type name ' + typeName + '.');
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var typeInfo = tmp;
    result = resolveTypeInfo($this, typeInfo);
  }
  return result;
}
function resolveTypeNameOrSpecifier($this, typeName, typeSpecifier) {
  var tmp;
  var tmp_0;
  // Inline function 'kotlin.text.isNullOrEmpty' call
  if (typeName == null || charSequenceLength(typeName) === 0) {
    tmp_0 = typeSpecifier == null;
  } else {
    tmp_0 = false;
  }
  if (tmp_0) {
    tmp = null;
  } else {
    if (!(typeSpecifier == null)) {
      tmp = resolveTypeSpecifier($this, typeSpecifier);
    } else {
      tmp = resolveTypeName($this, ensureNotNull(typeName));
    }
  }
  return tmp;
}
function lookupType($this, typeName) {
  var resolvedType = $this.u9f_1.q2(casify$default($this, typeName));
  if (!(resolvedType == null)) {
    return resolvedType;
  }
  var qualifierIndex = indexOf(typeName, '.');
  if (qualifierIndex < 0) {
    return null;
  }
  var qualifier = substring_0(typeName, 0, qualifierIndex);
  if (qualifier === '') {
    return null;
  }
  if (!(qualifier === $this.q9f_1.j5x_1)) {
    var tmp0_elvis_lhs = resolveModel($this, qualifier);
    var tmp;
    if (tmp0_elvis_lhs == null) {
      return null;
    } else {
      tmp = tmp0_elvis_lhs;
    }
    var model = tmp;
    return model.j90(typeName);
  }
  return null;
}
function resolveModel($this, localIdentifier) {
  return $this.s9f_1.q2(localIdentifier);
}
function lookupTypeInfo($this, typeName) {
  return $this.t9f_1.q2(typeName);
}
function ensureQualified($this, name) {
  var qualifier = '' + $this.q9f_1.j5x_1 + '.';
  if (!startsWith(name, qualifier)) {
    return qualifier + name;
  }
  return name;
}
function ensureUnqualified($this, name) {
  if (startsWith(name, '' + $this.q9f_1.j5x_1 + '.')) {
    return substring(name, indexOf_0(name, _Char___init__impl__6a9atx(46)) + 1 | 0);
  }
  return name;
}
function resolveSimpleType($this, t) {
  var qualifiedTypeName = ensureQualified($this, ensureNotNull(t.a5z_1));
  var lookupType_0 = lookupType($this, qualifiedTypeName);
  // Inline function 'kotlin.require' call
  if (!!(lookupType_0 instanceof ClassType)) {
    var message = 'Expected instance of SimpleType but found instance of ' + toString_0(lookupType_0) + ' instead.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var tmp = lookupType($this, qualifiedTypeName);
  var result = (tmp == null ? true : tmp instanceof SimpleType) ? tmp : THROW_CCE();
  if (result == null) {
    var tmp_0;
    if (qualifiedTypeName === Companion_getInstance_1().v5z_1.i63_1) {
      tmp_0 = Companion_getInstance_1().v5z_1;
    } else {
      tmp_0 = new SimpleType(qualifiedTypeName, resolveTypeNameOrSpecifier($this, t.g5u_1, t.h5u_1), t.b5z_1);
    }
    result = tmp_0;
    var tmp0 = $this.u9f_1;
    var tmp2 = casify$default($this, result.i63_1);
    // Inline function 'kotlin.collections.set' call
    var value = result;
    tmp0.u2(tmp2, value);
  }
  return result;
}
function resolveTypeNameOrSpecifier_0($this, element) {
  var result = resolveTypeNameOrSpecifier($this, element.h5z_1, element.l5z_1);
  if (result == null) {
    result = resolveTypeNameOrSpecifier($this, element.g5z_1, element.k5z_1);
  }
  return result;
}
function resolveTupleTypeElements($this, infoElements) {
  var elements = ArrayList_init_$Create$();
  var _iterator__ex2g4s = infoElements.g();
  while (_iterator__ex2g4s.h()) {
    var e = _iterator__ex2g4s.i();
    elements.e(new TupleTypeElement(ensureNotNull(e.f5z_1), ensureNotNull(resolveTypeNameOrSpecifier_0($this, e))));
  }
  return elements;
}
function resolveTupleType($this, t) {
  var tmp = t.g5v();
  var result = TupleType_init_$Create$(toMutableList(resolveTupleTypeElements($this, isInterface(tmp, Collection) ? tmp : THROW_CCE())));
  return result;
}
function resolveTypeNameOrSpecifier_1($this, element) {
  var result = resolveTypeNameOrSpecifier($this, element.p5v_1, element.b5w_1);
  if (result == null) {
    result = resolveTypeNameOrSpecifier($this, element.o5v_1, element.a5w_1);
  }
  return result;
}
function resolveGenericParameterDeclarations($this, parameterInfoList) {
  var genericParameters = ArrayList_init_$Create$();
  var _iterator__ex2g4s = parameterInfoList.g();
  while (_iterator__ex2g4s.h()) {
    var parameterInfo = _iterator__ex2g4s.i();
    var constraint = parameterInfo.q5z_1;
    var tmp;
    if (equals_0(constraint, 'NONE', true)) {
      tmp = TypeParameterConstraint_NONE_getInstance();
    } else if (equals_0(constraint, 'CLASS', true)) {
      tmp = TypeParameterConstraint_CLASS_getInstance();
    } else if (equals_0(constraint, 'TUPLE', true)) {
      tmp = TypeParameterConstraint_TUPLE_getInstance();
    } else if (equals_0(constraint, 'VALUE', true)) {
      tmp = TypeParameterConstraint_VALUE_getInstance();
    } else if (equals_0(constraint, 'CHOICE', true)) {
      tmp = TypeParameterConstraint_CHOICE_getInstance();
    } else if (equals_0(constraint, 'INTERVAL', true)) {
      tmp = TypeParameterConstraint_INTERVAL_getInstance();
    } else if (equals_0(constraint, 'TYPE', true)) {
      tmp = TypeParameterConstraint_TYPE_getInstance();
    } else {
      tmp = TypeParameterConstraint_NONE_getInstance();
    }
    var typeConstraint = tmp;
    genericParameters.e(new TypeParameter(ensureNotNull(parameterInfo.p5z_1), typeConstraint, resolveTypeName($this, ensureNotNull(parameterInfo.r5z_1))));
  }
  return genericParameters;
}
function resolveClassTypeElements($this, classType, infoElements) {
  var elements = ArrayList_init_$Create$();
  var _iterator__ex2g4s = infoElements.g();
  while (_iterator__ex2g4s.h()) {
    var e = _iterator__ex2g4s.i();
    var elementType;
    var tmp;
    if (isOpenType($this, e)) {
      tmp = resolveOpenType($this, classType, e);
    } else if (isBoundParameterType($this, e)) {
      tmp = resolveBoundType($this, classType, e);
    } else {
      tmp = resolveTypeNameOrSpecifier_1($this, e);
    }
    elementType = tmp;
    if (elementType == null) {
      elementType = resolveTypeName($this, 'System.Any');
    }
    var tmp_0 = ensureNotNull(e.n5v_1);
    var tmp_1 = ensureNotNull(elementType);
    var tmp0_elvis_lhs = e.e5w();
    var tmp_2 = tmp0_elvis_lhs == null ? false : tmp0_elvis_lhs;
    var tmp1_elvis_lhs = e.f5w();
    elements.e(new ClassTypeElement(tmp_0, tmp_1, tmp_2, tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs, e.s5v_1));
  }
  return elements;
}
function isBoundParameterType($this, element) {
  var tmp = element.b5w_1;
  return tmp instanceof BoundParameterTypeSpecifier;
}
function resolveBoundType($this, classType, e) {
  var boundType;
  var tmp = e.b5w_1;
  var boundParameterTypeSpecifier = tmp instanceof BoundParameterTypeSpecifier ? tmp : THROW_CCE();
  var parameterName = boundParameterTypeSpecifier.y5t_1;
  var genericParameter = ensureNotNull(classType).w61(ensureNotNull(parameterName));
  if (genericParameter == null) {
    throw RuntimeException_init_$Create$('Unknown symbol ' + parameterName);
  } else {
    boundType = resolveTypeName($this, ensureNotNull(boundParameterTypeSpecifier.z5t_1));
  }
  return boundType;
}
function isOpenType($this, element) {
  var tmp = element.b5w_1;
  return tmp instanceof ParameterTypeSpecifier_0;
}
function resolveOpenType($this, classType, e) {
  var elementType;
  var tmp = e.b5w_1;
  var parameterTypeSpecifier = tmp instanceof ParameterTypeSpecifier_0 ? tmp : THROW_CCE();
  var parameterName = parameterTypeSpecifier.m5y_1;
  // Inline function 'kotlin.text.isNullOrEmpty' call
  // Inline function 'kotlin.require' call
  if (!!(parameterName == null || charSequenceLength(parameterName) === 0)) {
    var message = 'Parameter name must not be null or empty';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  if (classType.w61(parameterName) == null) {
    throw RuntimeException_init_$Create$('Open types must reference a valid generic parameter and cannot be null or blank');
  }
  elementType = new TypeParameter(ensureNotNull(parameterTypeSpecifier.m5y_1), TypeParameterConstraint_TYPE_getInstance(), null);
  return elementType;
}
function resolveClassTypeSearch($this, t, s) {
  return new SearchType(ensureNotNull(s.p5y_1), ensureNotNull(s.q5y_1), ensureNotNull(resolveTypeNameOrSpecifier($this, s.r5y_1, s.w5y_1)));
}
function resolveClassType($this, t) {
  var tmp0 = t.m5u_1;
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (tmp0 == null) {
      var message = 'Class definition must have a name.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  var qualifiedName = ensureQualified($this, ensureNotNull(t.m5u_1));
  var tmp = lookupType($this, qualifiedName);
  var result = (tmp == null ? true : tmp instanceof ClassType) ? tmp : THROW_CCE();
  if (result == null) {
    var tmp_0;
    if (t instanceof ProfileInfo) {
      var tmp0_elvis_lhs = resolveTypeNameOrSpecifier($this, t.g5u_1, t.h5u_1);
      tmp_0 = new ProfileType(qualifiedName, tmp0_elvis_lhs == null ? Companion_getInstance_1().v5z_1 : tmp0_elvis_lhs);
    } else {
      var tmp_1;
      if (contains_0(ensureNotNull(t.m5u_1), '<')) {
        tmp_1 = handleGenericType($this, ensureNotNull(t.m5u_1), ensureNotNull(t.g5u_1));
      } else {
        var tmp_2;
        if (!(t.g5u_1 == null) && contains_0(ensureNotNull(t.g5u_1), '<')) {
          tmp_2 = handleGenericType($this, ensureNotNull(t.m5u_1), ensureNotNull(t.g5u_1));
        } else {
          var tmp1_elvis_lhs = resolveTypeNameOrSpecifier($this, t.g5u_1, t.h5u_1);
          tmp_2 = new ClassType(qualifiedName, tmp1_elvis_lhs == null ? Companion_getInstance_1().v5z_1 : tmp1_elvis_lhs);
        }
        tmp_1 = tmp_2;
      }
      tmp_0 = tmp_1;
    }
    result = tmp_0;
    var tmp0_0 = $this.u9f_1;
    var tmp2 = casify$default($this, result.j60_1);
    // Inline function 'kotlin.collections.set' call
    var value = result;
    tmp0_0.u2(tmp2, value);
    var tmp_3 = result;
    var tmp_4 = t.f5v();
    tmp_3.v61(resolveGenericParameterDeclarations($this, isInterface(tmp_4, KtList) ? tmp_4 : THROW_CCE()));
    var tmp_5 = result;
    var tmp_6 = result;
    var tmp_7 = t.g5v();
    tmp_5.f62(resolveClassTypeElements($this, tmp_6, isInterface(tmp_7, Collection) ? tmp_7 : THROW_CCE()));
    var _iterator__ex2g4s = t.j5v().g();
    while (_iterator__ex2g4s.h()) {
      var si = _iterator__ex2g4s.i();
      result.t61(resolveClassTypeSearch($this, result, si));
    }
    if ($this.d9g(result) && !contains_0(ensureNotNull(t.g5u_1), '<')) {
      $this.c9g(result, t);
    }
    // Inline function 'kotlin.apply' call
    var this_0 = result;
    this_0.m60_1 = t.n5u_1;
    this_0.n60_1 = t.o5u_1;
    this_0.o61(t.s5u_1);
    this_0.p60_1 = ensureNotNull(t.m5v());
    this_0.q60_1 = t.u5u_1;
  }
  return result;
}
function resolveContext($this, contextName) {
  var _iterator__ex2g4s = $this.x9f_1.g();
  while (_iterator__ex2g4s.h()) {
    var context = _iterator__ex2g4s.i();
    if (context.q62_1 === contextName) {
      return context;
    }
  }
  throw IllegalArgumentException_init_$Create$('Could not resolve context name ' + contextName + '.');
}
function resolveRelationship($this, relationshipInfo) {
  var modelContext = resolveContext($this, ensureNotNull(relationshipInfo.n5y_1));
  var tmp0 = split(ensureNotNull(relationshipInfo.o5y_1), [';']);
  var tmp$ret$2;
  $l$block: {
    // Inline function 'kotlin.collections.dropLastWhile' call
    if (!tmp0.q()) {
      var iterator = tmp0.c2(tmp0.j());
      while (iterator.v5()) {
        // Inline function 'kotlin.text.isEmpty' call
        var this_0 = iterator.x5();
        if (!(charSequenceLength(this_0) === 0)) {
          tmp$ret$2 = take(tmp0, iterator.w5() + 1 | 0);
          break $l$block;
        }
      }
    }
    tmp$ret$2 = emptyList();
  }
  var relationship = new Relationship(modelContext, tmp$ret$2);
  return relationship;
}
function importRelationships($this, c, t) {
  var _iterator__ex2g4s = c.h5v().g();
  while (_iterator__ex2g4s.h()) {
    var r = _iterator__ex2g4s.i();
    t.q61(resolveRelationship($this, r));
  }
  var _iterator__ex2g4s_0 = c.i5v().g();
  while (_iterator__ex2g4s_0.h()) {
    var r_0 = _iterator__ex2g4s_0.i();
    t.r61(resolveRelationship($this, r_0));
  }
}
function resolveIntervalType($this, t) {
  var result = new IntervalType(ensureNotNull(resolveTypeNameOrSpecifier($this, t.z5w_1, t.a5x_1)));
  return result;
}
function resolveListType($this, t) {
  var result = new ListType(ensureNotNull(resolveTypeNameOrSpecifier($this, t.f5x_1, t.g5x_1)));
  return result;
}
function resolveChoiceType($this, t) {
  var types = ArrayList_init_$Create$();
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!t.f5u().q()) {
    var _iterator__ex2g4s = t.f5u().g();
    while (_iterator__ex2g4s.h()) {
      var typeSpecifier = _iterator__ex2g4s.i();
      types.e(ensureNotNull(resolveTypeSpecifier($this, typeSpecifier)));
    }
  } else {
    var _iterator__ex2g4s_0 = t.s23().g();
    while (_iterator__ex2g4s_0.h()) {
      var typeSpecifier_0 = _iterator__ex2g4s_0.i();
      types.e(ensureNotNull(resolveTypeSpecifier($this, typeSpecifier_0)));
    }
  }
  return ChoiceType_init_$Create$(types);
}
function handleGenericType($this, genericSignature, baseType) {
  var parser = new GenericClassSignatureParser(genericSignature, baseType, $this.u9f_1);
  var genericClassType = parser.m62();
  return genericClassType;
}
function ModelImporter(modelInfo, modelManager) {
  this.q9f_1 = modelInfo;
  this.r9f_1 = modelManager;
  this.s9f_1 = HashMap_init_$Create$();
  this.t9f_1 = HashMap_init_$Create$();
  this.u9f_1 = HashMap_init_$Create$();
  this.v9f_1 = ArrayList_init_$Create$();
  this.w9f_1 = ArrayList_init_$Create$();
  this.x9f_1 = ArrayList_init_$Create$();
  this.y9f_1 = null;
  if (!(this.r9f_1 == null)) {
    var _iterator__ex2g4s = this.q9f_1.a5y().g();
    while (_iterator__ex2g4s.h()) {
      var requiredModel = _iterator__ex2g4s.i();
      var tmp0_system = requiredModel.g5y_1;
      var tmp1_id = ensureNotNull(requiredModel.h5y_1);
      var tmp2_version = requiredModel.i5y_1;
      var model = this.r9f_1.l97(new ModelIdentifier(tmp1_id, tmp0_system, tmp2_version));
      var tmp0 = this.s9f_1;
      // Inline function 'kotlin.collections.set' call
      var key = ensureNotNull(requiredModel.h5y_1);
      tmp0.u2(key, model);
    }
    if (!this.s9f_1.o2('System')) {
      var systemModel = this.r9f_1.l97(new ModelIdentifier('System'));
      // Inline function 'kotlin.collections.set' call
      this.s9f_1.u2('System', systemModel);
    }
  }
  var _iterator__ex2g4s_0 = this.q9f_1.b5y().g();
  while (_iterator__ex2g4s_0.h()) {
    var t = _iterator__ex2g4s_0.i();
    if (t instanceof SimpleTypeInfo) {
      var tmp0_0 = this.t9f_1;
      // Inline function 'kotlin.collections.set' call
      var key_0 = ensureUnqualified(this, ensureNotNull(t.a5z_1));
      tmp0_0.u2(key_0, t);
    } else {
      var tmp;
      if (t instanceof ClassInfo) {
        tmp = !(t.m5u_1 == null);
      } else {
        tmp = false;
      }
      if (tmp) {
        var tmp0_1 = this.t9f_1;
        // Inline function 'kotlin.collections.set' call
        var key_1 = ensureUnqualified(this, ensureNotNull(t.m5u_1));
        tmp0_1.u2(key_1, t);
      }
    }
  }
  var _iterator__ex2g4s_1 = this.q9f_1.c5y().g();
  while (_iterator__ex2g4s_1.h()) {
    var c = _iterator__ex2g4s_1.i();
    var fromType = resolveTypeNameOrSpecifier(this, c.r5w_1, c.t5w_1);
    var toType = resolveTypeNameOrSpecifier(this, c.s5w_1, c.u5w_1);
    var qualifierIndex = indexOf_0(ensureNotNull(c.q5w_1), _Char___init__impl__6a9atx(46));
    var libraryName = qualifierIndex >= 0 ? substring_0(ensureNotNull(c.q5w_1), 0, qualifierIndex) : null;
    var functionName = qualifierIndex >= 0 ? substring(ensureNotNull(c.q5w_1), qualifierIndex + 1 | 0) : null;
    var operator = Operator_init_$Create$(ensureNotNull(functionName), Signature_init_$Create$([ensureNotNull(fromType)]), toType);
    operator.e8x_1 = libraryName;
    var conversion = Conversion_init_$Create$(operator, true);
    this.w9f_1.e(conversion);
  }
  var _iterator__ex2g4s_2 = this.q9f_1.d5y().g();
  while (_iterator__ex2g4s_2.h()) {
    var c_0 = _iterator__ex2g4s_2.i();
    var contextType = resolveTypeSpecifier(this, ensureNotNull(c_0.p5w_1));
    // Inline function 'kotlin.require' call
    if (!(contextType instanceof ClassType)) {
      var message = 'Model context ' + c_0.m5w_1 + ' must be a class type.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    }
    var tmp_0 = ensureNotNull(c_0.m5w_1);
    var tmp0_2 = ensureNotNull(c_0.n5w_1);
    // Inline function 'kotlin.text.toRegex' call
    // Inline function 'kotlin.text.split' call
    var tmp0_3 = Regex_init_$Create$(';').wd(tmp0_2, 0);
    var tmp$ret$10;
    $l$block: {
      // Inline function 'kotlin.collections.dropLastWhile' call
      if (!tmp0_3.q()) {
        var iterator = tmp0_3.c2(tmp0_3.j());
        while (iterator.v5()) {
          // Inline function 'kotlin.text.isEmpty' call
          var this_0 = iterator.x5();
          if (!(charSequenceLength(this_0) === 0)) {
            tmp$ret$10 = take(tmp0_3, iterator.w5() + 1 | 0);
            break $l$block;
          }
        }
      }
      tmp$ret$10 = emptyList();
    }
    var modelContext = new ModelContext(tmp_0, contextType, tmp$ret$10, c_0.o5w_1);
    this.x9f_1.e(modelContext);
  }
  if (this.x9f_1.q() && !(this.q9f_1.q5x_1 == null)) {
    var contextType_0 = resolveTypeName(this, ensureNotNull(this.q9f_1.q5x_1));
    if (contextType_0 instanceof ClassType) {
      var modelContext_0 = new ModelContext(contextType_0.lb(), contextType_0, mutableListOf(['id']), this.q9f_1.s5x_1);
      this.x9f_1.e(modelContext_0);
      this.y9f_1 = modelContext_0;
    }
  }
  var _iterator__ex2g4s_3 = this.q9f_1.b5y().g();
  while (_iterator__ex2g4s_3.h()) {
    var t_0 = _iterator__ex2g4s_3.i();
    var type = resolveTypeInfo(this, t_0);
    if (!(type == null)) {
      this.v9f_1.e(type);
    }
    if (t_0 instanceof ClassInfo) {
      importRelationships(this, t_0, type instanceof ClassType ? type : THROW_CCE());
    }
  }
}
protoOf(ModelImporter).z9f = function () {
  return this.u9f_1;
};
protoOf(ModelImporter).a9g = function () {
  if (!(this.q9f_1.v5x_1 == null)) {
    return this.q9f_1.v5x_1;
  }
  var tmp0_safe_receiver = this.y9f_1;
  return tmp0_safe_receiver == null ? null : tmp0_safe_receiver.q62_1;
};
protoOf(ModelImporter).c9g = function (type, definition) {
  var coveredParameters = ArrayList_init_$Create$();
  var boundParameters = ArrayList_init_$Create$();
  var tmp = ensureNotNull(type).u5z();
  // Inline function 'kotlin.collections.forEach' call
  var _iterator__ex2g4s = (tmp instanceof ClassType ? tmp : THROW_CCE()).l60_1.g();
  while (_iterator__ex2g4s.h()) {
    var element = _iterator__ex2g4s.i();
    var parameterName = element.z61_1;
    if (!(type.x61(parameterName, true) == null)) {
      coveredParameters.e(parameterName);
    } else {
      boundParameters.e(parameterName);
    }
  }
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!boundParameters.q()) {
    // Inline function 'kotlin.collections.forEach' call
    var _iterator__ex2g4s_0 = definition.g5v().g();
    while (_iterator__ex2g4s_0.h()) {
      var element_0 = _iterator__ex2g4s_0.i();
      var tmp_0 = element_0.b5w_1;
      if (tmp_0 instanceof BoundParameterTypeSpecifier) {
        var tmp_1 = element_0.b5w_1;
        var name = ensureNotNull((tmp_1 instanceof BoundParameterTypeSpecifier ? tmp_1 : THROW_CCE()).y5t_1);
        var paramIndex = boundParameters.r(name);
        if (paramIndex >= 0) {
          boundParameters.l2(paramIndex);
        }
      }
    }
    // Inline function 'kotlin.collections.isNotEmpty' call
    if (!boundParameters.q()) {
      throw RuntimeException_init_$Create$('Unknown symbols ' + toString(boundParameters));
    }
  }
};
protoOf(ModelImporter).d9g = function (type) {
  var tmp;
  var tmp_0 = type.u5z();
  if (tmp_0 instanceof ClassType) {
    tmp = type.u5z().d60();
  } else {
    tmp = false;
  }
  return tmp;
};
function Operator_init_$Init$(name, signature, resultType, $this) {
  Operator.call($this, name, signature, resultType, null);
  return $this;
}
function Operator_init_$Create$(name, signature, resultType) {
  return Operator_init_$Init$(name, signature, resultType, objectCreate(protoOf(Operator)));
}
function Operator_init_$Init$_0(functionDef, $this) {
  var tmp = ensureNotNull(functionDef.c6w_1);
  // Inline function 'kotlin.collections.map' call
  var this_0 = functionDef.o67();
  // Inline function 'kotlin.collections.mapTo' call
  var destination = ArrayList_init_$Create$_0(collectionSizeOrDefault(this_0, 10));
  var _iterator__ex2g4s = this_0.g();
  while (_iterator__ex2g4s.h()) {
    var item = _iterator__ex2g4s.i();
    var tmp$ret$0 = ensureNotNull(Trackable_getInstance().n8v(item));
    destination.e(tmp$ret$0);
  }
  var tmp_0 = new Signature(destination);
  var tmp_1 = Trackable_getInstance().n8v(functionDef);
  var tmp_2 = ensureNotNull(functionDef.z6h());
  var tmp0_elvis_lhs = functionDef.n6y();
  var tmp_3 = tmp0_elvis_lhs == null ? false : tmp0_elvis_lhs;
  var tmp1_elvis_lhs = functionDef.m6y();
  Operator.call($this, tmp, tmp_0, tmp_1, functionDef, tmp_2, tmp_3, tmp1_elvis_lhs == null ? false : tmp1_elvis_lhs);
  return $this;
}
function Operator_init_$Create$_0(functionDef) {
  return Operator_init_$Init$_0(functionDef, objectCreate(protoOf(Operator)));
}
function Operator(name, signature, resultType, functionDef, accessLevel, fluent, external) {
  accessLevel = accessLevel === VOID ? AccessModifier_PUBLIC_getInstance() : accessLevel;
  fluent = fluent === VOID ? false : fluent;
  external = external === VOID ? false : external;
  this.x8w_1 = name;
  this.y8w_1 = signature;
  this.z8w_1 = resultType;
  this.a8x_1 = functionDef;
  this.b8x_1 = accessLevel;
  this.c8x_1 = fluent;
  this.d8x_1 = external;
  // Inline function 'kotlin.text.isNotEmpty' call
  var this_0 = this.x8w_1;
  // Inline function 'kotlin.require' call
  if (!(charSequenceLength(this_0) > 0)) {
    var message = 'name is null or empty';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.e8x_1 = null;
}
function getInvocationSignature($this, callSignature, operatorSignature) {
  if (callSignature.j() === operatorSignature.j()) {
    // Inline function 'kotlin.collections.mutableListOf' call
    var invocationTypes = ArrayList_init_$Create$();
    var callTypes = callSignature.h8z_1;
    var operatorTypes = operatorSignature.h8z_1;
    var isResolved = false;
    var inductionVariable = 0;
    var last = callTypes.j() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var callType = callTypes.o(i);
        var operatorType = operatorTypes.o(i);
        if (equals(callType, Companion_getInstance_1().v5z_1) && !equals(operatorType, Companion_getInstance_1().v5z_1)) {
          isResolved = true;
          invocationTypes.e(operatorType);
        } else {
          invocationTypes.e(callType);
        }
      }
       while (inductionVariable <= last);
    if (isResolved) {
      return new Signature(invocationTypes);
    }
  }
  return callSignature;
}
function getOperatorResolution($this, operator, callSignature, invocationSignature, conversionMap, operatorMap, allowPromotionAndDemotion, requireConversions) {
  var conversions = getConversions($this, callSignature, operator.y8w_1, conversionMap, operatorMap, allowPromotionAndDemotion);
  if (requireConversions && conversions == null) {
    return null;
  }
  var result = OperatorResolution_init_$Create$(operator, conversions);
  return result;
}
function getConversions($this, callSignature, operatorSignature, conversionMap, operatorMap, allowPromotionAndDemotion) {
  if (callSignature == null || operatorSignature == null || !(callSignature.j() === operatorSignature.j())) {
    return null;
  }
  // Inline function 'kotlin.arrayOfNulls' call
  var size = callSignature.j();
  var conversions = Array(size);
  var isConvertible = callSignature.e9g(operatorSignature, conversionMap, operatorMap, allowPromotionAndDemotion, conversions);
  if (isConvertible) {
    return conversions;
  }
  return null;
}
function SignatureNode(operator) {
  this.f9g_1 = operator;
  this.g9g_1 = new SignatureNodes();
}
protoOf(SignatureNode).m66 = function () {
  return this.f9g_1.y8w_1;
};
protoOf(SignatureNode).h9g = function (callContext, conversionMap, operatorMap) {
  var results = ArrayList_init_$Create$();
  var invocationSignature = getInvocationSignature(this, callContext.g98_1, this.f9g_1.y8w_1);
  if (this.f9g_1.y8w_1.equals(invocationSignature)) {
    var result = getOperatorResolution(this, this.f9g_1, callContext.g98_1, invocationSignature, conversionMap, operatorMap, callContext.d98_1, false);
    if (!(result == null)) {
      results.e(result);
      return results;
    }
  }
  results = this.g9g_1.h9g(callContext, conversionMap, operatorMap);
  if (results.q() && this.f9g_1.y8w_1.j9g(invocationSignature)) {
    var result_0 = getOperatorResolution(this, this.f9g_1, callContext.g98_1, invocationSignature, conversionMap, operatorMap, callContext.d98_1, false);
    if (!(result_0 == null)) {
      results.e(result_0);
      return results;
    }
  }
  if (results.q()) {
    var result_1 = getOperatorResolution(this, this.f9g_1, callContext.g98_1, invocationSignature, conversionMap, operatorMap, callContext.d98_1, true);
    if (!(result_1 == null)) {
      results.e(result_1);
    }
  }
  return results;
};
protoOf(SignatureNode).k9g = function () {
  return this.g9g_1.l9g();
};
protoOf(SignatureNode).hashCode = function () {
  return this.f9g_1.y8w_1.hashCode();
};
protoOf(SignatureNode).equals = function (other) {
  if (other instanceof SignatureNode) {
    return this.f9g_1.x8w_1 === other.f9g_1.x8w_1 && this.m66().equals(other.m66());
  }
  return false;
};
protoOf(SignatureNode).toString = function () {
  return toString(this.f9g_1);
};
function SignatureNodes() {
  this.i9g_1 = HashMap_init_$Create$();
}
protoOf(SignatureNodes).l9g = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  return !this.i9g_1.q();
};
protoOf(SignatureNodes).m9g = function (operator) {
  var result = this.i9g_1.o2(ensureNotNull(operator).y8w_1);
  if (!result) {
    var _iterator__ex2g4s = this.i9g_1.s2().g();
    $l$loop: while (_iterator__ex2g4s.h()) {
      var n = _iterator__ex2g4s.i();
      result = n.g9g_1.m9g(operator);
      if (result) {
        break $l$loop;
      }
    }
  }
  return result;
};
protoOf(SignatureNodes).n9g = function (node) {
  $l$block: {
    // Inline function 'kotlin.requireNotNull' call
    if (node == null) {
      var message = 'node is null.';
      throw IllegalArgumentException_init_$Create$(toString(message));
    } else {
      break $l$block;
    }
  }
  // Inline function 'kotlin.require' call
  if (!!this.i9g_1.o2(node.m66())) {
    var message_0 = 'Operator ' + node.f9g_1.x8w_1 + ' already has a registration for signature: ' + node.m66().toString() + '.';
    throw IllegalArgumentException_init_$Create$(toString(message_0));
  }
  var added = false;
  var _iterator__ex2g4s = this.i9g_1.s2().g();
  $l$loop: while (_iterator__ex2g4s.h()) {
    var n = _iterator__ex2g4s.i();
    if (n.m66().j9g(node.m66())) {
      n.g9g_1.n9g(node);
      added = true;
      break $l$loop;
    }
  }
  if (!added) {
    // Inline function 'kotlin.collections.toTypedArray' call
    var this_0 = this.i9g_1.s2();
    var indexedObject = copyToArray(this_0);
    var inductionVariable = 0;
    var last = indexedObject.length;
    while (inductionVariable < last) {
      var n_0 = indexedObject[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      if (node.m66().j9g(n_0.m66())) {
        this.i9g_1.v2(n_0.m66());
        node.g9g_1.n9g(n_0);
      }
    }
    var tmp0 = this.i9g_1;
    // Inline function 'kotlin.collections.set' call
    var key = node.m66();
    tmp0.u2(key, node);
  }
};
protoOf(SignatureNodes).h9g = function (callContext, conversionMap, operatorMap) {
  // Inline function 'kotlin.collections.arrayListOf' call
  var results = ArrayList_init_$Create$();
  var signatureCount = 0;
  var _iterator__ex2g4s = this.i9g_1.s2().g();
  while (_iterator__ex2g4s.h()) {
    var n = _iterator__ex2g4s.i();
    if (n.m66().j() === callContext.g98_1.j()) {
      signatureCount = signatureCount + 1 | 0;
      if (n.k9g()) {
        signatureCount = signatureCount + 1 | 0;
      }
    }
    var nodeResults = n.h9g(callContext, conversionMap, operatorMap);
    results.n(nodeResults);
  }
  if (signatureCount > 1) {
    var _iterator__ex2g4s_0 = results.g();
    while (_iterator__ex2g4s_0.h()) {
      var result = _iterator__ex2g4s_0.i();
      result.z92_1 = true;
    }
  }
  return results;
};
function containsGenericOperator($this, operator) {
  return $this.q9g_1.o2(operator.y8w_1);
}
function addGenericOperator($this, operator) {
  // Inline function 'kotlin.require' call
  if (!!$this.q9g_1.o2(operator.y8w_1)) {
    var message = 'Operator ' + $this.o9g_1 + ' already has a generic registration for signature: ' + operator.y8w_1.toString() + '.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var tmp0 = $this.q9g_1;
  // Inline function 'kotlin.collections.set' call
  var key = operator.y8w_1;
  tmp0.u2(key, operator);
}
function expandChoices($this, callSignature) {
  var signatures = ArrayList_init_$Create$();
  if (callSignature.r9g()) {
    var operandList = ArrayList_init_$Create$();
    var _iterator__ex2g4s = callSignature.h8z_1.g();
    while (_iterator__ex2g4s.h()) {
      var operand = _iterator__ex2g4s.i();
      var list = ArrayList_init_$Create$();
      if (operand instanceof ChoiceType) {
        var _iterator__ex2g4s_0 = operand.b60_1.g();
        while (_iterator__ex2g4s_0.h()) {
          var type = _iterator__ex2g4s_0.i();
          list.e(type);
        }
      } else {
        list.e(operand);
      }
      operandList.e(list);
    }
    // Inline function 'kotlin.arrayOfNulls' call
    var size = callSignature.j();
    var result = Array(size);
    collectSignatures($this, operandList, result, 0, signatures);
  } else {
    signatures.e(callSignature);
  }
  return signatures;
}
function collectSignatures($this, operandList, result, k, signatures) {
  if (k === operandList.j()) {
    var noNulls = requireNoNulls(toList_0(result));
    signatures.e(new Signature(noNulls));
  } else {
    var inductionVariable = 0;
    var last = operandList.o(k).j() - 1 | 0;
    if (inductionVariable <= last)
      do {
        var j = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        result[k] = operandList.o(k).o(j);
        collectSignatures($this, operandList, result, k + 1 | 0, signatures);
      }
       while (inductionVariable <= last);
  }
}
function instantiate_0($this, signature, operatorMap, conversionMap, allowPromotionAndDemotion) {
  // Inline function 'kotlin.collections.map' call
  var this_0 = $this.q9g_1.s2();
  // Inline function 'kotlin.collections.mapTo' call
  var destination = ArrayList_init_$Create$_0(collectionSizeOrDefault(this_0, 10));
  var _iterator__ex2g4s = this_0.g();
  while (_iterator__ex2g4s.h()) {
    var item = _iterator__ex2g4s.i();
    var tmp$ret$0 = item.e9f(signature, operatorMap, conversionMap, allowPromotionAndDemotion);
    destination.e(tmp$ret$0);
  }
  // Inline function 'kotlin.collections.mapNotNull' call
  // Inline function 'kotlin.collections.mapNotNullTo' call
  var destination_0 = ArrayList_init_$Create$();
  // Inline function 'kotlin.collections.forEach' call
  var _iterator__ex2g4s_0 = destination.g();
  while (_iterator__ex2g4s_0.h()) {
    var element = _iterator__ex2g4s_0.i();
    var tmp0_safe_receiver = element.g9f_1;
    if (tmp0_safe_receiver == null)
      null;
    else {
      // Inline function 'kotlin.let' call
      destination_0.e(tmp0_safe_receiver);
    }
  }
  return destination_0;
}
function OperatorEntry(name) {
  this.o9g_1 = name;
  this.p9g_1 = new SignatureNodes();
  this.q9g_1 = HashMap_init_$Create$();
  // Inline function 'kotlin.text.isNotEmpty' call
  var this_0 = this.o9g_1;
  // Inline function 'kotlin.require' call
  if (!(charSequenceLength(this_0) > 0)) {
    var message = 'name is empty';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
}
protoOf(OperatorEntry).s9g = function (operator) {
  var tmp;
  if (operator instanceof GenericOperator) {
    tmp = containsGenericOperator(this, operator);
  } else {
    tmp = this.p9g_1.m9g(operator);
  }
  return tmp;
};
protoOf(OperatorEntry).h9e = function (operator) {
  if (operator instanceof GenericOperator) {
    addGenericOperator(this, operator);
  } else {
    this.p9g_1.n9g(new SignatureNode(operator));
  }
};
protoOf(OperatorEntry).t9g = function (callContext, operatorMap, conversionMap) {
  var callSignatures = expandChoices(this, callContext.g98_1);
  var _iterator__ex2g4s = callSignatures.g();
  while (_iterator__ex2g4s.h()) {
    var callSignature = _iterator__ex2g4s.i();
    var instantiations = instantiate_0(this, callSignature, operatorMap, conversionMap, callContext.d98_1);
    var _iterator__ex2g4s_0 = instantiations.g();
    while (_iterator__ex2g4s_0.h()) {
      var instantiation = _iterator__ex2g4s_0.i();
      if (!this.p9g_1.m9g(instantiation)) {
        this.p9g_1.n9g(new SignatureNode(instantiation));
      }
    }
  }
  return this.p9g_1.h9g(callContext, conversionMap, operatorMap);
};
function getEntry($this, operatorName) {
  // Inline function 'kotlin.collections.getOrPut' call
  var this_0 = $this.g9e_1;
  var value = this_0.q2(operatorName);
  var tmp;
  if (value == null) {
    var answer = new OperatorEntry(operatorName);
    this_0.u2(operatorName, answer);
    tmp = answer;
  } else {
    tmp = value;
  }
  return tmp;
}
function supportsOperator($this, libraryName, operatorName, signature) {
  var call = CallContext_init_$Create$(libraryName, operatorName, false, false, false, signature.slice());
  return !($this.n9e(call, new ConversionMap()) == null);
}
function OperatorMap() {
  this.g9e_1 = HashMap_init_$Create$();
}
protoOf(OperatorMap).j9e = function (operator) {
  var entry = getEntry(this, operator.x8w_1);
  return entry.s9g(operator);
};
protoOf(OperatorMap).h9e = function (operator) {
  var entry = getEntry(this, operator.x8w_1);
  entry.h9e(operator);
};
protoOf(OperatorMap).p9f = function (type) {
  return supportsOperator(this, 'System', 'LessOrEqual', [type, type]) && supportsOperator(this, 'System', 'Successor', [type]);
};
protoOf(OperatorMap).n9e = function (callContext, conversionMap) {
  var entry = getEntry(this, callContext.c98_1);
  var results = entry.t9g(callContext, this, conversionMap);
  var result = null;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!results.q()) {
    var lowestScore = 2147483647;
    var lowestScoringResults = ArrayList_init_$Create$();
    var _iterator__ex2g4s = results.g();
    while (_iterator__ex2g4s.h()) {
      var resolution = _iterator__ex2g4s.i();
      var operands = resolution.t92_1.y8w_1.h8z_1;
      var callOperands = callContext.g98_1.h8z_1;
      var conversions = resolution.g9b() ? resolution.u92_1 : null;
      var score = ConversionScore_ExactMatch_getInstance().y97_1;
      var inductionVariable = 0;
      var last = operands.j() - 1 | 0;
      if (inductionVariable <= last)
        do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var operand = operands.o(i);
          var callOperand = callOperands.o(i);
          var conversion = conversions == null ? null : conversions.o(i);
          score = score + Companion_instance_12.i9f(callOperand, operand, conversion) | 0;
        }
         while (inductionVariable <= last);
      resolution.v92_1 = score;
      if (score < lowestScore) {
        lowestScore = score;
        lowestScoringResults.i2();
        lowestScoringResults.e(resolution);
      } else if (score === lowestScore) {
        lowestScoringResults.e(resolution);
      }
    }
    if (lowestScoringResults.j() > 1) {
      var lowestTypeScore = 2147483647;
      var lowestTypeScoringResults = ArrayList_init_$Create$();
      var _iterator__ex2g4s_0 = lowestScoringResults.g();
      while (_iterator__ex2g4s_0.h()) {
        var resolution_0 = _iterator__ex2g4s_0.i();
        var typeScore = ConversionScore_ExactMatch_getInstance().y97_1;
        var _iterator__ex2g4s_1 = resolution_0.t92_1.y8w_1.h8z_1.g();
        while (_iterator__ex2g4s_1.h()) {
          var operand_0 = _iterator__ex2g4s_1.i();
          typeScore = typeScore + Companion_instance_12.z97(operand_0) | 0;
        }
        if (typeScore < lowestTypeScore) {
          lowestTypeScore = typeScore;
          lowestTypeScoringResults.i2();
          lowestTypeScoringResults.e(resolution_0);
        } else if (typeScore === lowestTypeScore) {
          lowestTypeScoringResults.e(resolution_0);
        }
      }
      lowestScoringResults = lowestTypeScoringResults;
    }
    if (lowestScoringResults.j() > 1) {
      if (callContext.f98_1) {
        var message = (new StringBuilder('Call to operator ')).j9(callContext.c98_1).i9(callContext.g98_1).j9(' is ambiguous with: ');
        var _iterator__ex2g4s_2 = lowestScoringResults.g();
        while (_iterator__ex2g4s_2.h()) {
          var operator = _iterator__ex2g4s_2.i().tg();
          message.j9('\n  - ').j9(operator.x8w_1).i9(operator.y8w_1);
        }
        throw IllegalArgumentException_init_$Create$(message.toString());
      } else {
        return null;
      }
    } else {
      result = lowestScoringResults.o(0);
    }
  }
  return result;
};
function OperatorResolution_init_$Init$(operator, conversions, $this) {
  var tmp1_elvis_lhs = conversions == null ? null : toList_0(conversions);
  OperatorResolution.call($this, operator, tmp1_elvis_lhs == null ? emptyList() : tmp1_elvis_lhs);
  return $this;
}
function OperatorResolution_init_$Create$(operator, conversions) {
  return OperatorResolution_init_$Init$(operator, conversions, objectCreate(protoOf(OperatorResolution)));
}
function OperatorResolution(operator, conversions) {
  this.t92_1 = operator;
  this.u92_1 = conversions;
  this.v92_1 = 0;
  this.w92_1 = false;
  this.x92_1 = null;
  this.y92_1 = null;
  this.z92_1 = false;
}
protoOf(OperatorResolution).g9b = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  return !filterNotNull_0(this.u92_1).q();
};
protoOf(OperatorResolution).tg = function () {
  return this.t92_1;
};
protoOf(OperatorResolution).toString = function () {
  return 'OperatorResolution(operator=' + toString(this.t92_1) + ', conversions=' + toString(this.u92_1) + ')';
};
protoOf(OperatorResolution).hashCode = function () {
  var result = hashCode(this.t92_1);
  result = imul(result, 31) + hashCode(this.u92_1) | 0;
  return result;
};
protoOf(OperatorResolution).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof OperatorResolution))
    return false;
  var tmp0_other_with_cast = other instanceof OperatorResolution ? other : THROW_CCE();
  if (!equals(this.t92_1, tmp0_other_with_cast.t92_1))
    return false;
  if (!equals(this.u92_1, tmp0_other_with_cast.u92_1))
    return false;
  return true;
};
function toTargetMapString($this, _this__u8e3s4) {
  var tmp;
  // Inline function 'kotlin.collections.isNullOrEmpty' call
  if (_this__u8e3s4 == null || _this__u8e3s4.q()) {
    tmp = null;
  } else {
    var builder = StringBuilder_init_$Create$();
    // Inline function 'kotlin.collections.iterator' call
    var _iterator__ex2g4s = _this__u8e3s4.t2().g();
    while (_iterator__ex2g4s.h()) {
      var _destruct__k2r9zo = _iterator__ex2g4s.i();
      // Inline function 'kotlin.collections.component1' call
      var key = _destruct__k2r9zo.m2();
      // Inline function 'kotlin.collections.component2' call
      var value = _destruct__k2r9zo.n2();
      // Inline function 'kotlin.text.isNotEmpty' call
      if (charSequenceLength(builder) > 0) {
        builder.j9(';');
      }
      if (_this__u8e3s4.j() > 1) {
        builder.j9(toString(key));
        builder.j9(':');
      }
      builder.j9(value);
    }
    tmp = builder.toString();
  }
  return tmp;
}
function PropertyResolution_init_$Init$(e, $this) {
  PropertyResolution.call($this, e.y60_1, e.x60_1, e.b61_1);
  return $this;
}
function PropertyResolution_init_$Create$(e) {
  return PropertyResolution_init_$Init$(e, objectCreate(protoOf(PropertyResolution)));
}
function PropertyResolution_init_$Init$_0(e, $this) {
  PropertyResolution_init_$Init$_2(e.j61_1, e.i61_1, VOID, $this);
  return $this;
}
function PropertyResolution_init_$Create$_0(e) {
  return PropertyResolution_init_$Init$_0(e, objectCreate(protoOf(PropertyResolution)));
}
function PropertyResolution_init_$Init$_1(s, $this) {
  PropertyResolution.call($this, s.g63_1, s.e63_1, VOID, true);
  return $this;
}
function PropertyResolution_init_$Create$_1(s) {
  return PropertyResolution_init_$Init$_1(s, objectCreate(protoOf(PropertyResolution)));
}
function PropertyResolution_init_$Init$_2(type, name, targetMaps, $this) {
  targetMaps = targetMaps === VOID ? null : targetMaps;
  PropertyResolution.call($this, type, name, toTargetMapString(Companion_instance_13, targetMaps));
  return $this;
}
function PropertyResolution_init_$Create$_2(type, name, targetMaps) {
  return PropertyResolution_init_$Init$_2(type, name, targetMaps, objectCreate(protoOf(PropertyResolution)));
}
function Companion_10() {
}
var Companion_instance_13;
function Companion_getInstance_13() {
  return Companion_instance_13;
}
function PropertyResolution(type, name, targetMap, isSearch) {
  targetMap = targetMap === VOID ? null : targetMap;
  isSearch = isSearch === VOID ? false : isSearch;
  this.a91_1 = type;
  this.b91_1 = name;
  this.c91_1 = targetMap;
  this.d91_1 = isSearch;
}
protoOf(PropertyResolution).toString = function () {
  return 'PropertyResolution(type=' + toString(this.a91_1) + ', name=' + this.b91_1 + ', targetMap=' + this.c91_1 + ', isSearch=' + this.d91_1 + ')';
};
protoOf(PropertyResolution).hashCode = function () {
  var result = hashCode(this.a91_1);
  result = imul(result, 31) + getStringHashCode(this.b91_1) | 0;
  result = imul(result, 31) + (this.c91_1 == null ? 0 : getStringHashCode(this.c91_1)) | 0;
  result = imul(result, 31) + getBooleanHashCode(this.d91_1) | 0;
  return result;
};
protoOf(PropertyResolution).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof PropertyResolution))
    return false;
  var tmp0_other_with_cast = other instanceof PropertyResolution ? other : THROW_CCE();
  if (!equals(this.a91_1, tmp0_other_with_cast.a91_1))
    return false;
  if (!(this.b91_1 === tmp0_other_with_cast.b91_1))
    return false;
  if (!(this.c91_1 == tmp0_other_with_cast.c91_1))
    return false;
  if (!(this.d91_1 === tmp0_other_with_cast.d91_1))
    return false;
  return true;
};
function internalAddQuerySource($this, source) {
  var tmp0 = $this.q91_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(source.o69_1);
  tmp0.u2(key, source);
}
function removeLetClause($this, let_0) {
  var tmp0 = $this.r91_1;
  // Inline function 'kotlin.collections.remove' call
  var key = let_0.w78_1;
  (isInterface(tmp0, KtMutableMap) ? tmp0 : THROW_CCE()).v2(key);
}
function QueryContext() {
  this.q91_1 = HashMap_init_$Create$();
  this.r91_1 = HashMap_init_$Create$();
  this.s91_1 = true;
  this.t91_1 = false;
  this.u91_1 = false;
  this.v91_1 = false;
  this.w91_1 = null;
  this.x91_1 = false;
}
protoOf(QueryContext).h92 = function (source) {
  internalAddQuerySource(this, source);
};
protoOf(QueryContext).a92 = function (sources) {
  var _iterator__ex2g4s = sources.g();
  while (_iterator__ex2g4s.h()) {
    var source = _iterator__ex2g4s.i();
    internalAddQuerySource(this, source);
    var tmp = Trackable_getInstance().n8v(source);
    if (tmp instanceof ListType) {
      this.s91_1 = false;
    }
  }
};
protoOf(QueryContext).n9d = function () {
  return this.q91_1.s2();
};
protoOf(QueryContext).i92 = function (source) {
  var tmp0 = this.q91_1;
  // Inline function 'kotlin.collections.remove' call
  var key = source.o69_1;
  (isInterface(tmp0, KtMutableMap) ? tmp0 : THROW_CCE()).v2(key);
};
protoOf(QueryContext).c92 = function (sources) {
  var _iterator__ex2g4s = sources.g();
  while (_iterator__ex2g4s.h()) {
    var source = _iterator__ex2g4s.i();
    this.i92(source);
  }
};
protoOf(QueryContext).g92 = function (let_0) {
  var tmp0 = this.r91_1;
  // Inline function 'kotlin.collections.set' call
  var key = ensureNotNull(let_0.w78_1);
  tmp0.u2(key, let_0);
};
protoOf(QueryContext).d92 = function (lets) {
  var _iterator__ex2g4s = lets.g();
  while (_iterator__ex2g4s.h()) {
    var let_0 = _iterator__ex2g4s.i();
    removeLetClause(this, let_0);
  }
};
protoOf(QueryContext).h99 = function (identifier) {
  return this.q91_1.q2(identifier);
};
protoOf(QueryContext).i99 = function (identifier) {
  return this.r91_1.q2(identifier);
};
protoOf(QueryContext).y91 = function () {
  this.t91_1 = true;
};
protoOf(QueryContext).z91 = function () {
  this.t91_1 = false;
};
protoOf(QueryContext).j99 = function () {
  return this.t91_1;
};
protoOf(QueryContext).e92 = function () {
  this.u91_1 = true;
};
protoOf(QueryContext).f92 = function () {
  this.u91_1 = false;
};
protoOf(QueryContext).b99 = function () {
  return this.u91_1;
};
var ResolvedIdentifierMatchType_EXACT_instance;
var ResolvedIdentifierMatchType_CASE_INSENSITIVE_instance;
var ResolvedIdentifierMatchType_entriesInitialized;
function ResolvedIdentifierMatchType_initEntries() {
  if (ResolvedIdentifierMatchType_entriesInitialized)
    return Unit_instance;
  ResolvedIdentifierMatchType_entriesInitialized = true;
  ResolvedIdentifierMatchType_EXACT_instance = new ResolvedIdentifierMatchType('EXACT', 0);
  ResolvedIdentifierMatchType_CASE_INSENSITIVE_instance = new ResolvedIdentifierMatchType('CASE_INSENSITIVE', 1);
}
function getName($this, element) {
  var tmp;
  if (element instanceof ExpressionDef) {
    tmp = element.c6w_1;
  } else {
    if (element instanceof ValueSetDef) {
      tmp = element.f8h_1;
    } else {
      if (element instanceof OperandDef) {
        tmp = element.v7q_1;
      } else {
        if (element instanceof TupleElementDefinition) {
          tmp = element.t8f_1;
        } else {
          if (element instanceof CodeDef) {
            tmp = element.t6h_1;
          } else {
            if (element instanceof ConceptDef) {
              tmp = element.v6k_1;
            } else {
              if (element instanceof ParameterDef) {
                tmp = element.y7s_1;
              } else {
                if (element instanceof CodeSystemDef) {
                  tmp = element.z6i_1;
                } else {
                  if (element instanceof ContextDef) {
                    tmp = element.t6l_1;
                  } else {
                    tmp = null;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return tmp;
}
function ResolvedIdentifierMatchType(name, ordinal) {
  Enum.call(this, name, ordinal);
}
function _get_isExactMatch__jvcvwl($this) {
  return ResolvedIdentifierMatchType_EXACT_getInstance().equals($this.v9b_1);
}
function Companion_11() {
}
protoOf(Companion_11).k9e = function (identifier, element) {
  return new ResolvedIdentifierContext(identifier, element, ResolvedIdentifierMatchType_EXACT_getInstance());
};
protoOf(Companion_11).l9e = function (identifier, element) {
  return new ResolvedIdentifierContext(identifier, element, ResolvedIdentifierMatchType_CASE_INSENSITIVE_getInstance());
};
var Companion_instance_14;
function Companion_getInstance_14() {
  return Companion_instance_14;
}
function ResolvedIdentifierMatchType_EXACT_getInstance() {
  ResolvedIdentifierMatchType_initEntries();
  return ResolvedIdentifierMatchType_EXACT_instance;
}
function ResolvedIdentifierMatchType_CASE_INSENSITIVE_getInstance() {
  ResolvedIdentifierMatchType_initEntries();
  return ResolvedIdentifierMatchType_CASE_INSENSITIVE_instance;
}
function ResolvedIdentifierContext(identifier, element, matchType) {
  this.t9b_1 = identifier;
  this.u9b_1 = element;
  this.v9b_1 = matchType;
}
protoOf(ResolvedIdentifierContext).w9b = function () {
  return _get_isExactMatch__jvcvwl(this) ? this.u9b_1 : null;
};
protoOf(ResolvedIdentifierContext).x9b = function () {
  if (!(this.u9b_1 == null) && !_get_isExactMatch__jvcvwl(this)) {
    var tmp0_safe_receiver = getName(Companion_instance_14, this.u9b_1);
    var tmp;
    if (tmp0_safe_receiver == null) {
      tmp = null;
    } else {
      // Inline function 'kotlin.let' call
      tmp = 'Could not resolve identifier ' + this.t9b_1 + '. Consider whether the identifier ' + tmp0_safe_receiver + ' (differing only in case) was intended.';
    }
    return tmp;
  }
  return null;
};
protoOf(ResolvedIdentifierContext).e9e = function (clazz) {
  var tmp;
  if (!(this.w9b() == null) && clazz.mb(this.u9b_1)) {
    tmp = cast(clazz, this.u9b_1);
  } else {
    tmp = null;
  }
  return tmp;
};
protoOf(ResolvedIdentifierContext).y9b = function (clazz) {
  if (clazz.mb(this.u9b_1)) {
    return cast(clazz, this.u9b_1);
  }
  return null;
};
protoOf(ResolvedIdentifierContext).toString = function () {
  return 'ResolvedIdentifierContext(identifier=' + this.t9b_1 + ', element=' + toString_0(this.u9b_1) + ', matchType=' + this.v9b_1.toString() + ')';
};
protoOf(ResolvedIdentifierContext).hashCode = function () {
  var result = getStringHashCode(this.t9b_1);
  result = imul(result, 31) + (this.u9b_1 == null ? 0 : this.u9b_1.hashCode()) | 0;
  result = imul(result, 31) + this.v9b_1.hashCode() | 0;
  return result;
};
protoOf(ResolvedIdentifierContext).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof ResolvedIdentifierContext))
    return false;
  var tmp0_other_with_cast = other instanceof ResolvedIdentifierContext ? other : THROW_CCE();
  if (!(this.t9b_1 === tmp0_other_with_cast.t9b_1))
    return false;
  if (!equals(this.u9b_1, tmp0_other_with_cast.u9b_1))
    return false;
  if (!this.v9b_1.equals(tmp0_other_with_cast.v9b_1))
    return false;
  return true;
};
function Signature_init_$Init$(types, $this) {
  Signature.call($this, toList_0(types));
  return $this;
}
function Signature_init_$Create$(types) {
  return Signature_init_$Init$(types, objectCreate(protoOf(Signature)));
}
function Signature$containsChoices$delegate$lambda(this$0) {
  return function () {
    var tmp0 = this$0.h8z_1;
    var tmp$ret$0;
    $l$block_0: {
      // Inline function 'kotlin.collections.any' call
      var tmp;
      if (isInterface(tmp0, Collection)) {
        tmp = tmp0.q();
      } else {
        tmp = false;
      }
      if (tmp) {
        tmp$ret$0 = false;
        break $l$block_0;
      }
      var _iterator__ex2g4s = tmp0.g();
      while (_iterator__ex2g4s.h()) {
        var element = _iterator__ex2g4s.i();
        if (element instanceof ChoiceType) {
          tmp$ret$0 = true;
          break $l$block_0;
        }
      }
      tmp$ret$0 = false;
    }
    return tmp$ret$0;
  };
}
function Signature$_get_containsChoices_$ref_3mrkov() {
  return function (p0) {
    return p0.r9g();
  };
}
function Signature$toString$lambda(it) {
  return toString(it);
}
function Signature(operandTypes) {
  this.h8z_1 = operandTypes;
  var tmp = this;
  tmp.i8z_1 = lazy_0(Signature$containsChoices$delegate$lambda(this));
}
protoOf(Signature).r9g = function () {
  var tmp0 = this.i8z_1;
  var tmp = KProperty1;
  // Inline function 'kotlin.getValue' call
  getPropertyCallableRef('containsChoices', 1, tmp, Signature$_get_containsChoices_$ref_3mrkov(), null);
  return tmp0.n2();
};
protoOf(Signature).j = function () {
  return this.h8z_1.j();
};
protoOf(Signature).j9g = function (other) {
  var tmp;
  if (this.j() === other.j()) {
    var tmp0 = zip(this.h8z_1, other.h8z_1);
    var tmp$ret$0;
    $l$block_0: {
      // Inline function 'kotlin.collections.all' call
      var tmp_0;
      if (isInterface(tmp0, Collection)) {
        tmp_0 = tmp0.q();
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var _iterator__ex2g4s = tmp0.g();
      while (_iterator__ex2g4s.h()) {
        var element = _iterator__ex2g4s.i();
        if (!element.rg_1.y5z(element.sg_1)) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    tmp = tmp$ret$0;
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(Signature).j9f = function (callSignature, context) {
  var tmp;
  if (this.j() === callSignature.j()) {
    var tmp0 = zip(this.h8z_1, callSignature.h8z_1);
    var tmp$ret$0;
    $l$block_0: {
      // Inline function 'kotlin.collections.all' call
      var tmp_0;
      if (isInterface(tmp0, Collection)) {
        tmp_0 = tmp0.q();
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        tmp$ret$0 = true;
        break $l$block_0;
      }
      var _iterator__ex2g4s = tmp0.g();
      while (_iterator__ex2g4s.h()) {
        var element = _iterator__ex2g4s.i();
        if (!element.rg_1.e60(element.sg_1, context)) {
          tmp$ret$0 = false;
          break $l$block_0;
        }
      }
      tmp$ret$0 = true;
    }
    tmp = tmp$ret$0;
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(Signature).f60 = function (context) {
  // Inline function 'kotlin.collections.map' call
  var this_0 = this.h8z_1;
  // Inline function 'kotlin.collections.mapTo' call
  var destination = ArrayList_init_$Create$_0(collectionSizeOrDefault(this_0, 10));
  var _iterator__ex2g4s = this_0.g();
  while (_iterator__ex2g4s.h()) {
    var item = _iterator__ex2g4s.i();
    var tmp$ret$0 = item.f60(context);
    destination.e(tmp$ret$0);
  }
  return new Signature(destination);
};
protoOf(Signature).e9g = function (other, conversionMap, operatorMap, allowPromotionAndDemotion, conversions) {
  var tmp;
  if (this.j() === other.j()) {
    // Inline function 'kotlin.run' call
    var tmp$ret$0;
    $l$block: {
      var inductionVariable = 0;
      var last = this.h8z_1.j() - 1 | 0;
      if (inductionVariable <= last)
        $l$loop: do {
          var i = inductionVariable;
          inductionVariable = inductionVariable + 1 | 0;
          var first = this.h8z_1.o(i);
          var second = other.h8z_1.o(i);
          if (first.x5z(second)) {
            continue $l$loop;
          }
          conversions[i] = conversionMap == null ? null : conversionMap.c9b(first, second, true, allowPromotionAndDemotion, operatorMap);
          if (conversions[i] == null) {
            tmp$ret$0 = false;
            break $l$block;
          }
        }
         while (inductionVariable <= last);
      tmp$ret$0 = true;
    }
    tmp = tmp$ret$0;
  } else {
    tmp = false;
  }
  return tmp;
};
protoOf(Signature).toString = function () {
  return '(' + joinToString(this.h8z_1, VOID, VOID, VOID, VOID, VOID, Signature$toString$lambda) + ')';
};
protoOf(Signature).hashCode = function () {
  return hashCode(this.h8z_1);
};
protoOf(Signature).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof Signature))
    return false;
  var tmp0_other_with_cast = other instanceof Signature ? other : THROW_CCE();
  if (!equals(this.h8z_1, tmp0_other_with_cast.h8z_1))
    return false;
  return true;
};
function add($this, systemLibrary, tb, operator) {
  var fd = new FunctionDef();
  fd.c6w_1 = operator.x8w_1;
  var n = 0;
  var _iterator__ex2g4s = operator.y8w_1.h8z_1.g();
  while (_iterator__ex2g4s.h()) {
    var dataType = _iterator__ex2g4s.i();
    n = n + 1 | 0;
    var od = (new OperandDef()).q65('param' + n);
    if (isInterface(dataType, NamedType)) {
      od.w7q_1 = tb.q9b(dataType);
    } else {
      od.x7q_1 = tb.r9b(dataType);
    }
    Trackable_getInstance().o8v(od, dataType);
    fd.o67().e(od);
  }
  operator.a8x_1 = fd;
  systemLibrary.f9e(fd, operator);
}
function add_0($this, systemLibrary, tb, conversion) {
  systemLibrary.n97(conversion);
}
function SystemLibraryHelper() {
}
protoOf(SystemLibraryHelper).r97 = function (systemModel, tb) {
  var system = new CompiledLibrary();
  system.j8z_1 = (new VersionedIdentifier()).a6i('System').d6j('1.0');
  add(this, system, tb, Operator_init_$Create$('And', Signature_init_$Create$([systemModel.b9h(), systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Or', Signature_init_$Create$([systemModel.b9h(), systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Xor', Signature_init_$Create$([systemModel.b9h(), systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Not', Signature_init_$Create$([systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Implies', Signature_init_$Create$([systemModel.b9h(), systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('IsNull', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('IsTrue', Signature_init_$Create$([systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('IsFalse', Signature_init_$Create$([systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, GenericOperator_init_$Create$('Coalesce', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Coalesce', Signature_init_$Create$([TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T')]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Coalesce', Signature_init_$Create$([TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T')]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Coalesce', Signature_init_$Create$([TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T')]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Coalesce', Signature_init_$Create$([TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T'), TypeParameter_init_$Create$('T')]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  var booleanToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.b9h()]), systemModel.d9h());
  add(this, system, tb, booleanToString);
  add_0(this, system, tb, Conversion_init_$Create$(booleanToString, false));
  var integerToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.e9h()]), systemModel.d9h());
  add(this, system, tb, integerToString);
  add_0(this, system, tb, Conversion_init_$Create$(integerToString, false));
  var longToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.f9h()]), systemModel.d9h());
  add(this, system, tb, longToString);
  add_0(this, system, tb, Conversion_init_$Create$(longToString, false));
  var decimalToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.g9h()]), systemModel.d9h());
  add(this, system, tb, decimalToString);
  add_0(this, system, tb, Conversion_init_$Create$(decimalToString, false));
  var dateTimeToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.h9h()]), systemModel.d9h());
  add(this, system, tb, dateTimeToString);
  add_0(this, system, tb, Conversion_init_$Create$(dateTimeToString, false));
  var dateToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.i9h()]), systemModel.d9h());
  add(this, system, tb, dateToString);
  add_0(this, system, tb, Conversion_init_$Create$(dateToString, false));
  var timeToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.j9h()]), systemModel.d9h());
  add(this, system, tb, timeToString);
  add_0(this, system, tb, Conversion_init_$Create$(timeToString, false));
  var quantityToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.k9h()]), systemModel.d9h());
  add(this, system, tb, quantityToString);
  add_0(this, system, tb, Conversion_init_$Create$(quantityToString, false));
  var ratioToString = Operator_init_$Create$('ToString', Signature_init_$Create$([systemModel.l9h()]), systemModel.d9h());
  add(this, system, tb, ratioToString);
  add_0(this, system, tb, Conversion_init_$Create$(ratioToString, false));
  var stringToBoolean = Operator_init_$Create$('ToBoolean', Signature_init_$Create$([systemModel.d9h()]), systemModel.b9h());
  add(this, system, tb, stringToBoolean);
  add_0(this, system, tb, Conversion_init_$Create$(stringToBoolean, false));
  var integerToBoolean = Operator_init_$Create$('ToBoolean', Signature_init_$Create$([systemModel.e9h()]), systemModel.b9h());
  add(this, system, tb, integerToBoolean);
  add_0(this, system, tb, Conversion_init_$Create$(integerToBoolean, false));
  var decimalToBoolean = Operator_init_$Create$('ToBoolean', Signature_init_$Create$([systemModel.g9h()]), systemModel.b9h());
  add(this, system, tb, decimalToBoolean);
  add_0(this, system, tb, Conversion_init_$Create$(decimalToBoolean, false));
  var longToBoolean = Operator_init_$Create$('ToBoolean', Signature_init_$Create$([systemModel.f9h()]), systemModel.b9h());
  add(this, system, tb, longToBoolean);
  add_0(this, system, tb, Conversion_init_$Create$(longToBoolean, false));
  var toChars = Operator_init_$Create$('ToChars', Signature_init_$Create$([systemModel.d9h()]), new ListType(systemModel.d9h()));
  add(this, system, tb, toChars);
  add_0(this, system, tb, Conversion_init_$Create$(toChars, false));
  var stringToInteger = Operator_init_$Create$('ToInteger', Signature_init_$Create$([systemModel.d9h()]), systemModel.e9h());
  add(this, system, tb, stringToInteger);
  add_0(this, system, tb, Conversion_init_$Create$(stringToInteger, false));
  var longToInteger = Operator_init_$Create$('ToInteger', Signature_init_$Create$([systemModel.f9h()]), systemModel.e9h());
  add(this, system, tb, longToInteger);
  add_0(this, system, tb, Conversion_init_$Create$(longToInteger, false));
  var booleanToInteger = Operator_init_$Create$('ToInteger', Signature_init_$Create$([systemModel.b9h()]), systemModel.e9h());
  add(this, system, tb, booleanToInteger);
  add_0(this, system, tb, Conversion_init_$Create$(booleanToInteger, false));
  var stringToLong = Operator_init_$Create$('ToLong', Signature_init_$Create$([systemModel.d9h()]), systemModel.f9h());
  add(this, system, tb, stringToLong);
  add_0(this, system, tb, Conversion_init_$Create$(stringToLong, false));
  var integerToLong = Operator_init_$Create$('ToLong', Signature_init_$Create$([systemModel.e9h()]), systemModel.f9h());
  add(this, system, tb, integerToLong);
  add_0(this, system, tb, Conversion_init_$Create$(integerToLong, true));
  var booleanToLong = Operator_init_$Create$('ToLong', Signature_init_$Create$([systemModel.b9h()]), systemModel.f9h());
  add(this, system, tb, booleanToLong);
  add_0(this, system, tb, Conversion_init_$Create$(booleanToLong, false));
  var stringToDecimal = Operator_init_$Create$('ToDecimal', Signature_init_$Create$([systemModel.d9h()]), systemModel.g9h());
  add(this, system, tb, stringToDecimal);
  add_0(this, system, tb, Conversion_init_$Create$(stringToDecimal, false));
  var integerToDecimal = Operator_init_$Create$('ToDecimal', Signature_init_$Create$([systemModel.e9h()]), systemModel.g9h());
  add(this, system, tb, integerToDecimal);
  add_0(this, system, tb, Conversion_init_$Create$(integerToDecimal, true));
  var longToDecimal = Operator_init_$Create$('ToDecimal', Signature_init_$Create$([systemModel.f9h()]), systemModel.g9h());
  add(this, system, tb, longToDecimal);
  add_0(this, system, tb, Conversion_init_$Create$(longToDecimal, true));
  var booleanToDecimal = Operator_init_$Create$('ToDecimal', Signature_init_$Create$([systemModel.b9h()]), systemModel.g9h());
  add(this, system, tb, booleanToDecimal);
  add_0(this, system, tb, Conversion_init_$Create$(booleanToDecimal, false));
  var stringToDateTime = Operator_init_$Create$('ToDateTime', Signature_init_$Create$([systemModel.d9h()]), systemModel.h9h());
  add(this, system, tb, stringToDateTime);
  add_0(this, system, tb, Conversion_init_$Create$(stringToDateTime, false));
  var dateToDateTime = Operator_init_$Create$('ToDateTime', Signature_init_$Create$([systemModel.i9h()]), systemModel.h9h());
  add(this, system, tb, dateToDateTime);
  add_0(this, system, tb, Conversion_init_$Create$(dateToDateTime, true));
  var stringToDate = Operator_init_$Create$('ToDate', Signature_init_$Create$([systemModel.d9h()]), systemModel.i9h());
  add(this, system, tb, stringToDate);
  add_0(this, system, tb, Conversion_init_$Create$(stringToDate, false));
  var dateTimeToDate = Operator_init_$Create$('ToDate', Signature_init_$Create$([systemModel.h9h()]), systemModel.i9h());
  add(this, system, tb, dateTimeToDate);
  add_0(this, system, tb, Conversion_init_$Create$(dateTimeToDate, false));
  var stringToTime = Operator_init_$Create$('ToTime', Signature_init_$Create$([systemModel.d9h()]), systemModel.j9h());
  add(this, system, tb, stringToTime);
  add_0(this, system, tb, Conversion_init_$Create$(stringToTime, false));
  var stringToQuantity = Operator_init_$Create$('ToQuantity', Signature_init_$Create$([systemModel.d9h()]), systemModel.k9h());
  add(this, system, tb, stringToQuantity);
  add_0(this, system, tb, Conversion_init_$Create$(stringToQuantity, false));
  var ratioToQuantity = Operator_init_$Create$('ToQuantity', Signature_init_$Create$([systemModel.l9h()]), systemModel.k9h());
  add(this, system, tb, ratioToQuantity);
  add_0(this, system, tb, Conversion_init_$Create$(ratioToQuantity, false));
  var integerToQuantity = Operator_init_$Create$('ToQuantity', Signature_init_$Create$([systemModel.e9h()]), systemModel.k9h());
  add(this, system, tb, integerToQuantity);
  add_0(this, system, tb, Conversion_init_$Create$(integerToQuantity, true));
  var decimalToQuantity = Operator_init_$Create$('ToQuantity', Signature_init_$Create$([systemModel.g9h()]), systemModel.k9h());
  add(this, system, tb, decimalToQuantity);
  add_0(this, system, tb, Conversion_init_$Create$(decimalToQuantity, true));
  var stringToRatio = Operator_init_$Create$('ToRatio', Signature_init_$Create$([systemModel.d9h()]), systemModel.l9h());
  add(this, system, tb, stringToRatio);
  add_0(this, system, tb, Conversion_init_$Create$(stringToRatio, false));
  var convertsTo = Operator_init_$Create$('ConvertsToBoolean', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToInteger', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToLong', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToDecimal', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToDateTime', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToDate', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToTime', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToString', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToQuantity', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  convertsTo = Operator_init_$Create$('ConvertsToRatio', Signature_init_$Create$([systemModel.c9h()]), systemModel.b9h());
  add(this, system, tb, convertsTo);
  var canConvertToQuantity = Operator_init_$Create$('CanConvertQuantity', Signature_init_$Create$([systemModel.k9h(), systemModel.d9h()]), systemModel.b9h());
  add(this, system, tb, canConvertToQuantity);
  var convertToQuantity = Operator_init_$Create$('ConvertQuantity', Signature_init_$Create$([systemModel.k9h(), systemModel.d9h()]), systemModel.k9h());
  add(this, system, tb, convertToQuantity);
  var C = new TypeParameter('C', TypeParameterConstraint_CLASS_getInstance(), null);
  add(this, system, tb, GenericOperator_init_$Create$('Equal', Signature_init_$Create$([C, C]), systemModel.b9h(), [C]));
  var R = new TypeParameter('R', TypeParameterConstraint_TUPLE_getInstance(), null);
  add(this, system, tb, GenericOperator_init_$Create$('Equal', Signature_init_$Create$([R, R]), systemModel.b9h(), [R]));
  var H = new TypeParameter('H', TypeParameterConstraint_CHOICE_getInstance(), null);
  add(this, system, tb, GenericOperator_init_$Create$('Equal', Signature_init_$Create$([H, H]), systemModel.b9h(), [H]));
  C = new TypeParameter('C', TypeParameterConstraint_CLASS_getInstance(), null);
  add(this, system, tb, GenericOperator_init_$Create$('Equivalent', Signature_init_$Create$([C, C]), systemModel.b9h(), [C]));
  R = new TypeParameter('R', TypeParameterConstraint_TUPLE_getInstance(), null);
  add(this, system, tb, GenericOperator_init_$Create$('Equivalent', Signature_init_$Create$([R, R]), systemModel.b9h(), [R]));
  H = new TypeParameter('H', TypeParameterConstraint_CHOICE_getInstance(), null);
  add(this, system, tb, GenericOperator_init_$Create$('Equivalent', Signature_init_$Create$([H, H]), systemModel.b9h(), [H]));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.b9h(), systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.b9h(), systemModel.b9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Less', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('LessOrEqual', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Greater', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('GreaterOrEqual', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.l9h(), systemModel.l9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.l9h(), systemModel.l9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.p6k(), systemModel.p6k()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.p6k(), systemModel.p6k()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equal', Signature_init_$Create$([systemModel.m9h(), systemModel.m9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Equivalent', Signature_init_$Create$([systemModel.m9h(), systemModel.m9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Abs', Signature_init_$Create$([systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Abs', Signature_init_$Create$([systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Abs', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Abs', Signature_init_$Create$([systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Ceiling', Signature_init_$Create$([systemModel.g9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Divide', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Divide', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Exp', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Floor', Signature_init_$Create$([systemModel.g9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('HighBoundary', Signature_init_$Create$([systemModel.g9h(), systemModel.e9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('HighBoundary', Signature_init_$Create$([systemModel.i9h(), systemModel.e9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('HighBoundary', Signature_init_$Create$([systemModel.h9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('HighBoundary', Signature_init_$Create$([systemModel.j9h(), systemModel.e9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Log', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('LowBoundary', Signature_init_$Create$([systemModel.g9h(), systemModel.e9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('LowBoundary', Signature_init_$Create$([systemModel.i9h(), systemModel.e9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('LowBoundary', Signature_init_$Create$([systemModel.h9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('LowBoundary', Signature_init_$Create$([systemModel.j9h(), systemModel.e9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Ln', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Modulo', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Modulo', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Modulo', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Modulo', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Multiply', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Multiply', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Multiply', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Multiply', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Negate', Signature_init_$Create$([systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Negate', Signature_init_$Create$([systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Negate', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Negate', Signature_init_$Create$([systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Precision', Signature_init_$Create$([systemModel.g9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Precision', Signature_init_$Create$([systemModel.i9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Precision', Signature_init_$Create$([systemModel.h9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Precision', Signature_init_$Create$([systemModel.j9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.i9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.h9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.j9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Predecessor', Signature_init_$Create$([systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Power', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Power', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Power', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Round', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Round', Signature_init_$Create$([systemModel.g9h(), systemModel.e9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.i9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.h9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.j9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Successor', Signature_init_$Create$([systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Truncate', Signature_init_$Create$([systemModel.g9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('TruncatedDivide', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('TruncatedDivide', Signature_init_$Create$([systemModel.f9h(), systemModel.f9h()]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('TruncatedDivide', Signature_init_$Create$([systemModel.g9h(), systemModel.g9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('TruncatedDivide', Signature_init_$Create$([systemModel.k9h(), systemModel.k9h()]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Combine', Signature_init_$Create$([new ListType(systemModel.d9h())]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Combine', Signature_init_$Create$([new ListType(systemModel.d9h()), systemModel.d9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Concatenate', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('EndsWith', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Indexer', Signature_init_$Create$([systemModel.d9h(), systemModel.e9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('LastPositionOf', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Length', Signature_init_$Create$([systemModel.d9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Lower', Signature_init_$Create$([systemModel.d9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Matches', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('PositionOf', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('ReplaceMatches', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h(), systemModel.d9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Split', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), new ListType(systemModel.d9h())));
  add(this, system, tb, Operator_init_$Create$('SplitOnMatches', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), new ListType(systemModel.d9h())));
  add(this, system, tb, Operator_init_$Create$('StartsWith', Signature_init_$Create$([systemModel.d9h(), systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Substring', Signature_init_$Create$([systemModel.d9h(), systemModel.e9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Substring', Signature_init_$Create$([systemModel.d9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Upper', Signature_init_$Create$([systemModel.d9h()]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.h9h(), systemModel.k9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.i9h(), systemModel.k9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Add', Signature_init_$Create$([systemModel.j9h(), systemModel.k9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('After', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('After', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('After', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Before', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Before', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Before', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('DateTime', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.g9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Date', Signature_init_$Create$([systemModel.e9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Date', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Date', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('DateFrom', Signature_init_$Create$([systemModel.h9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('TimeFrom', Signature_init_$Create$([systemModel.h9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('TimezoneFrom', Signature_init_$Create$([systemModel.h9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('TimezoneOffsetFrom', Signature_init_$Create$([systemModel.h9h()]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('DateTimeComponentFrom', Signature_init_$Create$([systemModel.h9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DateTimeComponentFrom', Signature_init_$Create$([systemModel.i9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DateTimeComponentFrom', Signature_init_$Create$([systemModel.j9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DifferenceBetween', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DifferenceBetween', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DifferenceBetween', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DurationBetween', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DurationBetween', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('DurationBetween', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Now', Signature_init_$Create$([]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('now', Signature_init_$Create$([]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('SameAs', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameAs', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameAs', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameOrAfter', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameOrAfter', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameOrAfter', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameOrBefore', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameOrBefore', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SameOrBefore', Signature_init_$Create$([systemModel.j9h(), systemModel.j9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.h9h(), systemModel.k9h()]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.i9h(), systemModel.k9h()]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Subtract', Signature_init_$Create$([systemModel.j9h(), systemModel.k9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Today', Signature_init_$Create$([]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('today', Signature_init_$Create$([]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Time', Signature_init_$Create$([systemModel.e9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Time', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Time', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Time', Signature_init_$Create$([systemModel.e9h(), systemModel.e9h(), systemModel.e9h(), systemModel.e9h()]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('TimeOfDay', Signature_init_$Create$([]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('timeOfDay', Signature_init_$Create$([]), systemModel.j9h()));
  add(this, system, tb, GenericOperator_init_$Create$('After', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Before', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Collapse', Signature_init_$Create$([new ListType(new IntervalType(TypeParameter_init_$Create$('T'))), systemModel.k9h()]), new ListType(new IntervalType(TypeParameter_init_$Create$('T'))), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Contains', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), TypeParameter_init_$Create$('T')]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('End', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Ends', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Equal', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Equivalent', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Except', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), new IntervalType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Expand', Signature_init_$Create$([new ListType(new IntervalType(TypeParameter_init_$Create$('T'))), systemModel.k9h()]), new ListType(new IntervalType(TypeParameter_init_$Create$('T'))), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Expand', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), systemModel.k9h()]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('In', Signature_init_$Create$([TypeParameter_init_$Create$('T'), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Includes', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('IncludedIn', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Intersect', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), new IntervalType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Meets', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('MeetsBefore', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('MeetsAfter', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Overlaps', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('OverlapsBefore', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('OverlapsAfter', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  var pointFrom = GenericOperator_init_$Create$('PointFrom', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]);
  add(this, system, tb, pointFrom);
  add(this, system, tb, GenericOperator_init_$Create$('ProperContains', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), TypeParameter_init_$Create$('T')]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperIn', Signature_init_$Create$([TypeParameter_init_$Create$('T'), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperIncludes', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperIncludedIn', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('SameAs', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('SameOrAfter', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('SameOrBefore', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Size', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Start', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Starts', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Union', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T')), new IntervalType(TypeParameter_init_$Create$('T'))]), new IntervalType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Width', Signature_init_$Create$([new IntervalType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Contains', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), TypeParameter_init_$Create$('T')]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Distinct', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Equal', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Equivalent', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Except', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Exists', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Flatten', Signature_init_$Create$([new ListType(new ListType(TypeParameter_init_$Create$('T')))]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('First', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('In', Signature_init_$Create$([TypeParameter_init_$Create$('T'), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Includes', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('IncludedIn', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Indexer', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), systemModel.e9h()]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('IndexOf', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), TypeParameter_init_$Create$('T')]), systemModel.e9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Intersect', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Last', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Length', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), systemModel.e9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperContains', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), TypeParameter_init_$Create$('T')]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperIn', Signature_init_$Create$([TypeParameter_init_$Create$('T'), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperIncludes', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('ProperIncludedIn', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), systemModel.b9h(), [TypeParameter_init_$Create$('T')]));
  var singletonFrom = GenericOperator_init_$Create$('SingletonFrom', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]);
  add(this, system, tb, singletonFrom);
  add(this, system, tb, GenericOperator_init_$Create$('Skip', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), systemModel.e9h()]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Tail', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Take', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), systemModel.e9h()]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, GenericOperator_init_$Create$('Union', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T')), new ListType(TypeParameter_init_$Create$('T'))]), new ListType(TypeParameter_init_$Create$('T')), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, Operator_init_$Create$('AllTrue', Signature_init_$Create$([new ListType(systemModel.b9h())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyTrue', Signature_init_$Create$([new ListType(systemModel.b9h())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Avg', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Avg', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, GenericOperator_init_$Create$('Count', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), systemModel.e9h(), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, Operator_init_$Create$('GeometricMean', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.e9h())]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.f9h())]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.h9h())]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.i9h())]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.j9h())]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Max', Signature_init_$Create$([new ListType(systemModel.d9h())]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.e9h())]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.f9h())]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.h9h())]), systemModel.h9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.i9h())]), systemModel.i9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.j9h())]), systemModel.j9h()));
  add(this, system, tb, Operator_init_$Create$('Min', Signature_init_$Create$([new ListType(systemModel.d9h())]), systemModel.d9h()));
  add(this, system, tb, Operator_init_$Create$('Median', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Median', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, GenericOperator_init_$Create$('Mode', Signature_init_$Create$([new ListType(TypeParameter_init_$Create$('T'))]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  add(this, system, tb, Operator_init_$Create$('PopulationStdDev', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('PopulationStdDev', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('PopulationVariance', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('PopulationVariance', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Product', Signature_init_$Create$([new ListType(systemModel.e9h())]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Product', Signature_init_$Create$([new ListType(systemModel.f9h())]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Product', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Product', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('StdDev', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('StdDev', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Sum', Signature_init_$Create$([new ListType(systemModel.e9h())]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('Sum', Signature_init_$Create$([new ListType(systemModel.f9h())]), systemModel.f9h()));
  add(this, system, tb, Operator_init_$Create$('Sum', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Sum', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  add(this, system, tb, Operator_init_$Create$('Variance', Signature_init_$Create$([new ListType(systemModel.g9h())]), systemModel.g9h()));
  add(this, system, tb, Operator_init_$Create$('Variance', Signature_init_$Create$([new ListType(systemModel.k9h())]), systemModel.k9h()));
  var codeToConcept = Operator_init_$Create$('ToConcept', Signature_init_$Create$([systemModel.p6k()]), systemModel.m9h());
  add(this, system, tb, codeToConcept);
  add_0(this, system, tb, Conversion_init_$Create$(codeToConcept, true));
  var codesToConcept = Operator_init_$Create$('ToConcept', Signature_init_$Create$([new ListType(systemModel.p6k())]), systemModel.m9h());
  add(this, system, tb, codesToConcept);
  add_0(this, system, tb, Conversion_init_$Create$(codesToConcept, false));
  add(this, system, tb, Operator_init_$Create$('CalculateAge', Signature_init_$Create$([systemModel.h9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('CalculateAge', Signature_init_$Create$([systemModel.i9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('CalculateAgeAt', Signature_init_$Create$([systemModel.h9h(), systemModel.h9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('CalculateAgeAt', Signature_init_$Create$([systemModel.i9h(), systemModel.i9h()]), systemModel.e9h()));
  add(this, system, tb, Operator_init_$Create$('InValueSet', Signature_init_$Create$([systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InValueSet', Signature_init_$Create$([systemModel.p6k()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InValueSet', Signature_init_$Create$([systemModel.m9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InValueSet', Signature_init_$Create$([systemModel.d9h(), systemModel.n9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InValueSet', Signature_init_$Create$([systemModel.p6k(), systemModel.n9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InValueSet', Signature_init_$Create$([systemModel.m9h(), systemModel.n9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInValueSet', Signature_init_$Create$([new ListType(systemModel.d9h())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInValueSet', Signature_init_$Create$([new ListType(systemModel.p6k())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInValueSet', Signature_init_$Create$([new ListType(systemModel.m9h())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInValueSet', Signature_init_$Create$([new ListType(systemModel.d9h()), systemModel.n9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInValueSet', Signature_init_$Create$([new ListType(systemModel.p6k()), systemModel.n9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInValueSet', Signature_init_$Create$([new ListType(systemModel.m9h()), systemModel.n9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InCodeSystem', Signature_init_$Create$([systemModel.d9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InCodeSystem', Signature_init_$Create$([systemModel.p6k()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InCodeSystem', Signature_init_$Create$([systemModel.m9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InCodeSystem', Signature_init_$Create$([systemModel.d9h(), systemModel.k8h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InCodeSystem', Signature_init_$Create$([systemModel.p6k(), systemModel.k8h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('InCodeSystem', Signature_init_$Create$([systemModel.m9h(), systemModel.k8h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInCodeSystem', Signature_init_$Create$([new ListType(systemModel.d9h())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInCodeSystem', Signature_init_$Create$([new ListType(systemModel.p6k())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInCodeSystem', Signature_init_$Create$([new ListType(systemModel.m9h())]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInCodeSystem', Signature_init_$Create$([new ListType(systemModel.d9h()), systemModel.k8h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInCodeSystem', Signature_init_$Create$([new ListType(systemModel.p6k()), systemModel.k8h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('AnyInCodeSystem', Signature_init_$Create$([new ListType(systemModel.m9h()), systemModel.k8h()]), systemModel.b9h()));
  var expandValueSet = Operator_init_$Create$('ExpandValueSet', Signature_init_$Create$([systemModel.n9h()]), new ListType(systemModel.p6k()));
  add(this, system, tb, expandValueSet);
  add_0(this, system, tb, Conversion_init_$Create$(expandValueSet, true));
  add(this, system, tb, Operator_init_$Create$('Subsumes', Signature_init_$Create$([systemModel.p6k(), systemModel.p6k()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('Subsumes', Signature_init_$Create$([systemModel.m9h(), systemModel.m9h()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SubsumedBy', Signature_init_$Create$([systemModel.p6k(), systemModel.p6k()]), systemModel.b9h()));
  add(this, system, tb, Operator_init_$Create$('SubsumedBy', Signature_init_$Create$([systemModel.m9h(), systemModel.m9h()]), systemModel.b9h()));
  add(this, system, tb, GenericOperator_init_$Create$('Message', Signature_init_$Create$([TypeParameter_init_$Create$('T'), systemModel.b9h(), systemModel.d9h(), systemModel.d9h(), systemModel.d9h()]), TypeParameter_init_$Create$('T'), [TypeParameter_init_$Create$('T')]));
  return system;
};
var SystemLibraryHelper_instance;
function SystemLibraryHelper_getInstance() {
  return SystemLibraryHelper_instance;
}
function SystemModel(modelInfo) {
  Model.call(this, modelInfo, null);
}
protoOf(SystemModel).c9h = function () {
  return ensureNotNull(this.j90('Any'));
};
protoOf(SystemModel).b9h = function () {
  return ensureNotNull(this.j90('Boolean'));
};
protoOf(SystemModel).e9h = function () {
  return ensureNotNull(this.j90('Integer'));
};
protoOf(SystemModel).f9h = function () {
  return ensureNotNull(this.j90('Long'));
};
protoOf(SystemModel).g9h = function () {
  return ensureNotNull(this.j90('Decimal'));
};
protoOf(SystemModel).d9h = function () {
  return ensureNotNull(this.j90('String'));
};
protoOf(SystemModel).h9h = function () {
  return ensureNotNull(this.j90('DateTime'));
};
protoOf(SystemModel).i9h = function () {
  return ensureNotNull(this.j90('Date'));
};
protoOf(SystemModel).j9h = function () {
  return ensureNotNull(this.j90('Time'));
};
protoOf(SystemModel).k9h = function () {
  return ensureNotNull(this.j90('Quantity'));
};
protoOf(SystemModel).l9h = function () {
  return ensureNotNull(this.j90('Ratio'));
};
protoOf(SystemModel).p6k = function () {
  return ensureNotNull(this.j90('Code'));
};
protoOf(SystemModel).m9h = function () {
  return ensureNotNull(this.j90('Concept'));
};
protoOf(SystemModel).k8h = function () {
  return ensureNotNull(this.j90('CodeSystem'));
};
protoOf(SystemModel).n9h = function () {
  return ensureNotNull(this.j90('ValueSet'));
};
function TimingOperatorContext(left, right) {
  this.h91_1 = left;
  this.i91_1 = right;
}
function initVersion($this) {
  var tmp0 = Companion_getInstance_15().p9h_1.xd($this.f9a_1);
  var tmp$ret$2;
  $l$block: {
    // Inline function 'kotlin.collections.dropLastWhile' call
    if (!tmp0.q()) {
      var iterator = tmp0.c2(tmp0.j());
      while (iterator.v5()) {
        // Inline function 'kotlin.text.isEmpty' call
        var this_0 = iterator.x5();
        if (!(charSequenceLength(this_0) === 0)) {
          tmp$ret$2 = take(tmp0, iterator.w5() + 1 | 0);
          break $l$block;
        }
      }
    }
    tmp$ret$2 = emptyList();
  }
  var parts = tmp$ret$2;
  var inductionVariable = 0;
  // Inline function 'kotlin.math.max' call
  var a = parts.j();
  var last = Math.max(a, 4);
  if (inductionVariable < last)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var part = i < parts.j() ? parts.o(i) : '';
      if (startsWith(part, 'v')) {
        part = substring(part, 1);
      }
      switch (i) {
        case 0:
          $this.g9a_1 = toUnsignedIntOrNull($this, part);
          break;
        case 1:
          $this.h9a_1 = toUnsignedIntOrNull($this, part);
          break;
        case 2:
          $this.i9a_1 = toUnsignedIntOrNull($this, part);
          break;
        case 3:
          $this.j9a_1 = part;
          break;
        default:
          $this.j9a_1 = plus($this.j9a_1, '-' + part);
          break;
      }
    }
     while (inductionVariable < last);
}
function compareTo_1($this, that, level) {
  // Inline function 'kotlin.require' call
  if (!($this.q9h() && that.q9h())) {
    var message = 'The versions are not comparable';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  var inductionVariable = 0;
  // Inline function 'kotlin.math.max' call
  var last = Math.max(level, 4);
  if (inductionVariable < last)
    do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      var comparison;
      switch (i) {
        case 0:
          comparison = compareToNullable_0($this, $this.g9a_1, that.g9a_1);
          break;
        case 1:
          comparison = compareToNullable_0($this, $this.h9a_1, that.h9a_1);
          break;
        case 2:
          comparison = compareToNullable_0($this, $this.i9a_1, that.i9a_1);
          break;
        case 3:
          comparison = compareToNullable($this, $this.j9a_1, that.j9a_1);
          break;
        default:
          comparison = 0;
          break;
      }
      if (!(comparison === 0))
        return comparison;
    }
     while (inductionVariable < last);
  return 0;
}
function compareToNullable($this, _this__u8e3s4, that) {
  return _this__u8e3s4 == null && that == null ? 0 : _this__u8e3s4 == null ? -1 : that == null ? 1 : compareTo(_this__u8e3s4, that, true);
}
function compareToNullable_0($this, _this__u8e3s4, that) {
  return _this__u8e3s4 == null && that == null ? 0 : _this__u8e3s4 == null ? -1 : that == null ? 1 : compareTo_0(_this__u8e3s4, that);
}
function toUnsignedIntOrNull($this, _this__u8e3s4) {
  return Companion_getInstance_15().o9h_1.od(_this__u8e3s4) ? toInt(_this__u8e3s4) : null;
}
function isComparable($this, level) {
  switch (level) {
    case 0:
      return !($this.g9a_1 == null);
    case 1:
      return !($this.g9a_1 == null) && !($this.h9a_1 == null);
    case 2:
      return !($this.g9a_1 == null) && !($this.h9a_1 == null) && !($this.i9a_1 == null);
    case 3:
      return !($this.g9a_1 == null) && !($this.h9a_1 == null) && !($this.i9a_1 == null) && !($this.j9a_1 == null);
    default:
      return false;
  }
}
function Companion_12() {
  Companion_instance_15 = this;
  this.o9h_1 = Regex_init_$Create$('[0-9]+');
  this.p9h_1 = Regex_init_$Create$('[.\\-]');
}
var Companion_instance_15;
function Companion_getInstance_15() {
  if (Companion_instance_15 == null)
    new Companion_12();
  return Companion_instance_15;
}
function Version(version) {
  Companion_getInstance_15();
  this.f9a_1 = version;
  initVersion(this);
  this.g9a_1 = null;
  this.h9a_1 = null;
  this.i9a_1 = null;
  this.j9a_1 = null;
}
protoOf(Version).r9h = function (other) {
  return other == null ? 1 : compareTo_1(this, other, 4);
};
protoOf(Version).d = function (other) {
  return this.r9h((other == null ? true : other instanceof Version) ? other : THROW_CCE());
};
protoOf(Version).k9a = function (that) {
  return that == null ? false : this.q9h() && that.q9h() ? compareTo_1(this, that, 2) >= 0 : this.s9h(that);
};
protoOf(Version).s9h = function (that) {
  return this.f9a_1 === that.f9a_1;
};
protoOf(Version).q9h = function () {
  return isComparable(this, 2);
};
protoOf(Version).toString = function () {
  return this.f9a_1;
};
protoOf(Version).hashCode = function () {
  return getStringHashCode(this.f9a_1);
};
protoOf(Version).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof Version))
    return false;
  var tmp0_other_with_cast = other instanceof Version ? other : THROW_CCE();
  if (!(this.f9a_1 === tmp0_other_with_cast.f9a_1))
    return false;
  return true;
};
function AbstractExpressionInvocation(expression) {
  this.a93_1 = expression;
  this.b93_1 = null;
}
protoOf(AbstractExpressionInvocation).l5w = function () {
  return this.a93_1;
};
protoOf(AbstractExpressionInvocation).c93 = function (resultType) {
  Trackable_getInstance().o8v(this.l5w(), resultType);
};
protoOf(AbstractExpressionInvocation).j9b = function (_set____db54di) {
  this.b93_1 = _set____db54di;
};
protoOf(AbstractExpressionInvocation).s92 = function () {
  return this.b93_1;
};
function AggregateExpressionInvocation(expression) {
  AbstractExpressionInvocation.call(this, expression);
}
protoOf(AggregateExpressionInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 1)) {
    var message = 'Unary operator expected.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().r68_1 = operands.o(0);
};
protoOf(AggregateExpressionInvocation).f9b = function () {
  return listOf_0(ensureNotNull(this.l5w().r68_1));
};
protoOf(AggregateExpressionInvocation).i9b = function (signature) {
  this.l5w().l66(toMutableList(signature));
};
function AnyInCodeSystemInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(AnyInCodeSystemInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'AnyInCodeSystem operator requires one or two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().n6a_1 = operands.o(0);
  if (operands.j() > 1) {
    this.l5w().p6a_1 = operands.o(1);
  }
};
protoOf(AnyInCodeSystemInvocation).f9b = function () {
  return listOfNotNull([this.l5w().n6a_1, this.l5w().p6a_1]);
};
function AnyInValueSetInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(AnyInValueSetInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'AnyInValueSet operator requires one or two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().z6a_1 = operands.o(0);
  if (operands.j() > 1) {
    this.l5w().b6b_1 = operands.o(1);
  }
};
protoOf(AnyInValueSetInvocation).f9b = function () {
  return listOfNotNull([this.l5w().z6a_1, this.l5w().b6b_1]);
};
function BinaryExpressionInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(BinaryExpressionInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'BinaryExpression requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().n67(toMutableList(operands));
};
protoOf(BinaryExpressionInvocation).f9b = function () {
  return this.l5w().o67();
};
function CombineInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(CombineInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'Combine operator requires one or two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().y6j_1 = operands.o(0);
  if (operands.j() > 1) {
    this.l5w().z6j_1 = operands.o(1);
  }
};
protoOf(CombineInvocation).f9b = function () {
  return listOfNotNull([this.l5w().y6j_1, this.l5w().z6j_1]);
};
function Companion_13() {
}
protoOf(Companion_13).k9d = function (dt, operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 3 : false)) {
    var message = 'Date operator requires one to three operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  dt.w6p_1 = operands.o(0);
  if (operands.j() > 1) {
    dt.x6p_1 = operands.o(1);
  }
  if (operands.j() > 2) {
    dt.y6p_1 = operands.o(2);
  }
};
var Companion_instance_16;
function Companion_getInstance_16() {
  return Companion_instance_16;
}
function DateInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(DateInvocation).h9b = function (operands) {
  Companion_instance_16.k9d(this.l5w(), operands);
};
protoOf(DateInvocation).f9b = function () {
  return listOfNotNull([this.l5w().w6p_1, this.l5w().x6p_1, this.l5w().y6p_1]);
};
function Companion_14() {
}
protoOf(Companion_14).j9d = function (dt, operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 8 : false)) {
    var message = 'DateTime operator requires one to eight operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  dt.w6q_1 = operands.o(0);
  if (operands.j() > 1) {
    dt.x6q_1 = operands.o(1);
  }
  if (operands.j() > 2) {
    dt.y6q_1 = operands.o(2);
  }
  if (operands.j() > 3) {
    dt.z6q_1 = operands.o(3);
  }
  if (operands.j() > 4) {
    dt.a6r_1 = operands.o(4);
  }
  if (operands.j() > 5) {
    dt.b6r_1 = operands.o(5);
  }
  if (operands.j() > 6) {
    dt.c6r_1 = operands.o(6);
  }
  if (operands.j() > 7) {
    dt.d6r_1 = operands.o(7);
  }
};
var Companion_instance_17;
function Companion_getInstance_17() {
  return Companion_instance_17;
}
function DateTimeInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(DateTimeInvocation).h9b = function (operands) {
  Companion_instance_17.j9d(this.l5w(), operands);
};
protoOf(DateTimeInvocation).f9b = function () {
  return listOfNotNull([this.l5w().w6q_1, this.l5w().x6q_1, this.l5w().y6q_1, this.l5w().z6q_1, this.l5w().a6r_1, this.l5w().b6r_1, this.l5w().c6r_1, this.l5w().d6r_1]);
};
function FirstInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(FirstInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 1)) {
    var message = 'Unary operator expected.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().d6x_1 = operands.o(0);
};
protoOf(FirstInvocation).f9b = function () {
  return listOf_0(ensureNotNull(this.l5w().d6x_1));
};
function FunctionRefInvocation(expression) {
  AbstractExpressionInvocation.call(this, expression);
}
protoOf(FunctionRefInvocation).h9b = function (operands) {
  this.l5w().n67(toMutableList(operands));
};
protoOf(FunctionRefInvocation).f9b = function () {
  return this.l5w().o67();
};
protoOf(FunctionRefInvocation).i9b = function (signature) {
  this.l5w().l66(toMutableList(signature));
};
protoOf(FunctionRefInvocation).j9b = function (resolution) {
  protoOf(AbstractExpressionInvocation).j9b.call(this, resolution);
  if (!((resolution == null ? null : resolution.y92_1) == this.l5w().n6w_1)) {
    var tmp = this.l5w();
    tmp.n6w_1 = resolution == null ? null : resolution.y92_1;
  }
};
protoOf(FunctionRefInvocation).s92 = function () {
  return protoOf(AbstractExpressionInvocation).s92.call(this);
};
function InCodeSystemInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(InCodeSystemInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'InCodeSystem operator requires one or two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().l71_1 = operands.o(0);
  if (operands.j() > 1) {
    this.l5w().n71_1 = operands.o(1);
  }
};
protoOf(InCodeSystemInvocation).f9b = function () {
  return listOfNotNull([this.l5w().l71_1, this.l5w().n71_1]);
};
function InValueSetInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(InValueSetInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'InValueSet operator requires one or two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().v71_1 = operands.o(0);
  if (operands.j() > 1) {
    this.l5w().x71_1 = operands.o(1);
  }
};
protoOf(InValueSetInvocation).f9b = function () {
  return listOfNotNull([this.l5w().v71_1, this.l5w().x71_1]);
};
function IndexOfInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(IndexOfInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'IndexOf operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().q73_1 = operands.o(0);
  this.l5w().r73_1 = operands.o(1);
};
protoOf(IndexOfInvocation).f9b = function () {
  return listOfNotNull([this.l5w().q73_1, this.l5w().r73_1]);
};
function LastInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(LastInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 1)) {
    var message = 'Unary operator expected.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().l77_1 = operands.o(0);
};
protoOf(LastInvocation).f9b = function () {
  return listOf_0(ensureNotNull(this.l5w().l77_1));
};
function LastPositionOfInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(LastPositionOfInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'LastPositionOf operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().s77_1 = operands.o(0);
  this.l5w().t77_1 = operands.o(1);
};
protoOf(LastPositionOfInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().s77_1), ensureNotNull(this.l5w().t77_1)]);
};
function MessageInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(MessageInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 5)) {
    var message = 'Message operator requires five operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().f7e_1 = operands.o(0);
  this.l5w().g7e_1 = operands.o(1);
  this.l5w().h7e_1 = operands.o(2);
  this.l5w().i7e_1 = operands.o(3);
  this.l5w().j7e_1 = operands.o(4);
};
protoOf(MessageInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().f7e_1), ensureNotNull(this.l5w().g7e_1), ensureNotNull(this.l5w().h7e_1), ensureNotNull(this.l5w().i7e_1), ensureNotNull(this.l5w().j7e_1)]);
};
function NaryExpressionInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(NaryExpressionInvocation).h9b = function (operands) {
  this.l5w().n67(toMutableList(operands));
};
protoOf(NaryExpressionInvocation).f9b = function () {
  return this.l5w().o67();
};
function OperatorExpressionInvocation(expression) {
  AbstractExpressionInvocation.call(this, expression);
}
protoOf(OperatorExpressionInvocation).i9b = function (signature) {
  this.l5w().l66(toMutableList(signature));
};
function PositionOfInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(PositionOfInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'PositionOf operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().w7u_1 = operands.o(0);
  this.l5w().x7u_1 = operands.o(1);
};
protoOf(PositionOfInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().w7u_1), ensureNotNull(this.l5w().x7u_1)]);
};
function RoundInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(RoundInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 2 : false)) {
    var message = 'Round operator requires one or two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().o82_1 = operands.o(0);
  if (operands.j() > 1) {
    this.l5w().p82_1 = operands.o(1);
  }
};
protoOf(RoundInvocation).f9b = function () {
  return listOfNotNull([this.l5w().o82_1, this.l5w().p82_1]);
};
function SkipInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(SkipInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'Skip operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().q84_1 = operands.o(0);
  this.l5w().r84_1 = operands.o(1);
};
protoOf(SkipInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().q84_1), ensureNotNull(this.l5w().r84_1)]);
};
function SplitInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(SplitInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'Split operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().p85_1 = operands.o(0);
  this.l5w().q85_1 = operands.o(1);
};
protoOf(SplitInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().p85_1), ensureNotNull(this.l5w().q85_1)]);
};
function SplitOnMatchesInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(SplitOnMatchesInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'SplitOnMatches operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().z85_1 = operands.o(0);
  this.l5w().a86_1 = operands.o(1);
};
protoOf(SplitOnMatchesInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().z85_1), ensureNotNull(this.l5w().a86_1)]);
};
function SubstringInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(SubstringInvocation).h9b = function (operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(2 <= containsArg ? containsArg <= 3 : false)) {
    var message = 'Substring operator requires two or three operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().m87_1 = operands.o(0);
  this.l5w().n87_1 = operands.o(1);
  if (operands.j() > 2) {
    this.l5w().o87_1 = operands.o(2);
  }
};
protoOf(SubstringInvocation).f9b = function () {
  return listOfNotNull([this.l5w().m87_1, this.l5w().n87_1, this.l5w().o87_1]);
};
function TailInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(TailInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 1)) {
    var message = 'Unary operator expected.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().q84_1 = operands.o(0);
};
protoOf(TailInvocation).f9b = function () {
  return listOf_0(ensureNotNull(this.l5w().q84_1));
};
function TakeInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(TakeInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 2)) {
    var message = 'Take operator requires two operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().q84_1 = operands.o(0);
  this.l5w().s84_1 = operands.o(1);
};
protoOf(TakeInvocation).f9b = function () {
  return listOf([ensureNotNull(this.l5w().q84_1), ensureNotNull(this.l5w().s84_1)]);
};
function TernaryExpressionInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(TernaryExpressionInvocation).h9b = function (operands) {
  this.l5w().n67(toMutableList(operands));
};
protoOf(TernaryExpressionInvocation).f9b = function () {
  return this.l5w().o67();
};
function Companion_15() {
}
protoOf(Companion_15).l9d = function (t, operands) {
  var containsArg = operands.j();
  // Inline function 'kotlin.require' call
  if (!(1 <= containsArg ? containsArg <= 4 : false)) {
    var message = 'Time operator requires at one to four operands.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  t.h89_1 = operands.o(0);
  if (operands.j() > 1) {
    t.i89_1 = operands.o(1);
  }
  if (operands.j() > 2) {
    t.j89_1 = operands.o(2);
  }
  if (operands.j() > 3) {
    t.k89_1 = operands.o(3);
  }
};
var Companion_instance_18;
function Companion_getInstance_18() {
  return Companion_instance_18;
}
function TimeInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(TimeInvocation).h9b = function (operands) {
  Companion_instance_18.l9d(this.l5w(), operands);
};
protoOf(TimeInvocation).f9b = function () {
  return listOfNotNull([this.l5w().h89_1, this.l5w().i89_1, this.l5w().j89_1, this.l5w().k89_1]);
};
function UnaryExpressionInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(UnaryExpressionInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!(operands.j() === 1)) {
    var message = 'Unary operator expected.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.l5w().u66_1 = operands.o(0);
};
protoOf(UnaryExpressionInvocation).f9b = function () {
  return listOf_0(ensureNotNull(this.l5w().u66_1));
};
function ZeroOperandExpressionInvocation(expression) {
  OperatorExpressionInvocation.call(this, expression);
}
protoOf(ZeroOperandExpressionInvocation).h9b = function (operands) {
  // Inline function 'kotlin.require' call
  if (!operands.q()) {
    var message = 'Zero operand operator expected.';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
};
protoOf(ZeroOperandExpressionInvocation).f9b = function () {
  return emptyList();
};
function BaseInfo(definition) {
  this.x9j_1 = definition;
  this.y9j_1 = null;
  this.z9j_1 = null;
}
protoOf(BaseInfo).a9k = function () {
  return this.x9j_1;
};
function CodeDefinitionInfo(name, definition) {
  BaseInfo.call(this, definition);
  this.e9k_1 = name;
  this.f9k_1 = definition;
}
protoOf(CodeDefinitionInfo).a9k = function () {
  return this.f9k_1;
};
function CodesystemDefinitionInfo(name, definition) {
  BaseInfo.call(this, definition);
  this.j9k_1 = name;
  this.k9k_1 = definition;
}
protoOf(CodesystemDefinitionInfo).a9k = function () {
  return this.k9k_1;
};
function ConceptDefinitionInfo(name, definition) {
  BaseInfo.call(this, definition);
  this.o9k_1 = name;
  this.p9k_1 = definition;
}
protoOf(ConceptDefinitionInfo).a9k = function () {
  return this.p9k_1;
};
function ContextDefinitionInfo(definition) {
  BaseInfo.call(this, definition);
  this.t9k_1 = definition;
  this.u9k_1 = null;
}
protoOf(ContextDefinitionInfo).a9k = function () {
  return this.t9k_1;
};
function processHeader($this, ctx, info) {
  var sourceInterval = ctx.l2f();
  var beforeDefinition = sourceInterval.a24_1 - 1 | 0;
  if (beforeDefinition >= $this.k9l_1) {
    var header = new Interval($this.k9l_1 + 1 | 0, sourceInterval.a24_1 - 1 | 0);
    $this.k9l_1 = sourceInterval.b24_1;
    info.z9j_1 = header;
    info.y9j_1 = $this.x8t_1.z23(header);
  }
}
function CqlPreprocessor(libraryBuilder, tokenStream) {
  CqlPreprocessorElmCommonVisitor.call(this, libraryBuilder, tokenStream);
  this.k9l_1 = -1;
}
protoOf(CqlPreprocessor).i33 = function (ctx) {
  var lastResult = null;
  var identifier = (new VersionedIdentifier()).a6i(this.d8u_1.k8x_1).d6j(this.d8u_1.l8x_1);
  if (!(this.d8u_1.j8x_1 == null)) {
    identifier.c8i_1 = this.w8t_1.resolveNamespaceUri(ensureNotNull(this.d8u_1.j8x_1), true);
  } else if (!(this.w8t_1.namespaceInfo == null)) {
    identifier.c8i_1 = this.w8t_1.namespaceInfo.z62_1;
  }
  this.w8t_1.e90(identifier);
  this.w8t_1.beginTranslation();
  var tmp;
  try {
    var inductionVariable = 0;
    var last = ctx.k2f();
    if (inductionVariable < last)
      $l$loop: do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        var tree = ctx.o2f(i);
        var terminalNode = (!(tree == null) ? isInterface(tree, TerminalNode) : false) ? tree : null;
        if (!(terminalNode == null) && terminalNode.r2f().s23() === -1) {
          continue $l$loop;
        }
        var childResult = this.d32(ensureNotNull(tree));
        if (!(childResult == null)) {
          lastResult = childResult;
        }
      }
       while (inductionVariable < last);
    tmp = lastResult;
  }finally {
    this.w8t_1.endTranslation();
  }
  return tmp;
};
protoOf(CqlPreprocessor).j33 = function (ctx) {
  var tmp = this.d32(ctx.f3u());
  var identifiers = (!(tmp == null) ? isInterface(tmp, KtMutableList) : false) ? tmp : THROW_CCE();
  var libraryName = identifiers.l2(identifiers.j() - 1 | 0);
  var tmp_0;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    tmp_0 = joinToString(identifiers, '.');
  } else {
    tmp_0 = null;
  }
  var namespaceName = tmp_0;
  var tmp_1;
  if (!(ctx.g3u() == null)) {
    var tmp_2 = this.d32(ensureNotNull(ctx.g3u()));
    tmp_1 = (!(tmp_2 == null) ? typeof tmp_2 === 'string' : false) ? tmp_2 : THROW_CCE();
  } else {
    tmp_1 = null;
  }
  var version = tmp_1;
  var newLibraryInfo = new LibraryInfo(namespaceName, libraryName, version, ctx);
  this.d8u_1 = newLibraryInfo;
  processHeader(this, ctx, newLibraryInfo);
  return protoOf(CqlPreprocessorElmCommonVisitor).j33.call(this, ctx);
};
protoOf(CqlPreprocessor).l33 = function (ctx) {
  var tmp = this.d32(ctx.f3u());
  var identifiers = (!(tmp == null) ? isInterface(tmp, KtMutableList) : false) ? tmp : THROW_CCE();
  var name = identifiers.l2(identifiers.j() - 1 | 0);
  var tmp_0;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    tmp_0 = joinToString(identifiers, '.');
  } else {
    tmp_0 = null;
  }
  var namespaceName = tmp_0;
  var tmp_1;
  if (!(ctx.g3u() == null)) {
    var tmp_2 = this.d32(ensureNotNull(ctx.g3u()));
    tmp_1 = (!(tmp_2 == null) ? typeof tmp_2 === 'string' : false) ? tmp_2 : THROW_CCE();
  } else {
    tmp_1 = null;
  }
  var version = tmp_1;
  var localName = !(ctx.r3u() == null) ? ensureNotNull(this.k8v(ctx.r3u())) : name;
  var includeDefinition = new IncludeDefinitionInfo(namespaceName, name, version, localName, ctx);
  processHeader(this, ctx, includeDefinition);
  this.d8u_1.l9l(includeDefinition);
  return includeDefinition;
};
protoOf(CqlPreprocessor).k33 = function (ctx) {
  var tmp = this.d32(ctx.f3u());
  var identifiers = (!(tmp == null) ? isInterface(tmp, KtMutableList) : false) ? tmp : THROW_CCE();
  var unqualifiedIdentifier = identifiers.l2(identifiers.j() - 1 | 0);
  var tmp_0;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    tmp_0 = joinToString(identifiers, '.');
  } else {
    tmp_0 = null;
  }
  var namespaceNameForUsingDefinition = tmp_0;
  var tmp_1;
  if (!(ctx.g3u() == null)) {
    var tmp_2 = this.d32(ensureNotNull(ctx.g3u()));
    tmp_1 = (!(tmp_2 == null) ? typeof tmp_2 === 'string' : false) ? tmp_2 : THROW_CCE();
  } else {
    tmp_1 = null;
  }
  var version = tmp_1;
  var localName = !(ctx.r3u() == null) ? ensureNotNull(this.k8v(ctx.r3u())) : unqualifiedIdentifier;
  var usingDefinition = new UsingDefinitionInfo(namespaceNameForUsingDefinition, unqualifiedIdentifier, version, localName, ctx);
  processHeader(this, ctx, usingDefinition);
  this.d8u_1.m9l(usingDefinition);
  var tmp_3;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!identifiers.q()) {
    tmp_3 = joinToString(identifiers, '.');
  } else {
    if (this.w8t_1.isWellKnownModelName(unqualifiedIdentifier)) {
      tmp_3 = null;
    } else {
      if (!(this.w8t_1.namespaceInfo == null)) {
        tmp_3 = this.w8t_1.namespaceInfo.y62_1;
      } else {
        tmp_3 = null;
      }
    }
  }
  var namespaceName = tmp_3;
  var modelNamespace = null;
  if (!(namespaceName == null)) {
    var namespaceUri = this.w8t_1.resolveNamespaceUri(namespaceName, true);
    modelNamespace = new NamespaceInfo(namespaceName, ensureNotNull(namespaceUri));
  }
  var localIdentifier = ctx.r3u() == null ? unqualifiedIdentifier : ensureNotNull(this.k8v(ctx.r3u()));
  // Inline function 'kotlin.require' call
  if (!(localIdentifier === unqualifiedIdentifier)) {
    var message = 'Local identifiers for models must be the same as the name of the model \n                in this release of the translator (Model ' + unqualifiedIdentifier + ', Called ' + localIdentifier + ')';
    throw IllegalArgumentException_init_$Create$(toString(message));
  }
  this.n9l(modelNamespace, unqualifiedIdentifier, this.k8v(ctx.g3u()), localIdentifier);
  return usingDefinition;
};
protoOf(CqlPreprocessor).p33 = function (ctx) {
  var codesystemDefinition = new CodesystemDefinitionInfo(ensureNotNull(this.k8v(ctx.g3w())), ctx);
  processHeader(this, ctx, codesystemDefinition);
  this.d8u_1.o9l(codesystemDefinition);
  return codesystemDefinition;
};
protoOf(CqlPreprocessor).q33 = function (ctx) {
  var valuesetDefinition = new ValuesetDefinitionInfo(ensureNotNull(this.k8v(ctx.g3w())), ctx);
  processHeader(this, ctx, valuesetDefinition);
  this.d8u_1.p9l(valuesetDefinition);
  return valuesetDefinition;
};
protoOf(CqlPreprocessor).u33 = function (ctx) {
  var codeDefinition = new CodeDefinitionInfo(ensureNotNull(this.k8v(ctx.g3w())), ctx);
  processHeader(this, ctx, codeDefinition);
  this.d8u_1.q9l(codeDefinition);
  return codeDefinition;
};
protoOf(CqlPreprocessor).v33 = function (ctx) {
  var conceptDefinition = new ConceptDefinitionInfo(ensureNotNull(this.k8v(ctx.g3w())), ctx);
  processHeader(this, ctx, conceptDefinition);
  this.d8u_1.r9l(conceptDefinition);
  return conceptDefinition;
};
protoOf(CqlPreprocessor).o33 = function (ctx) {
  var parameterDefinition = new ParameterDefinitionInfo(ensureNotNull(this.k8v(ctx.g3w())), ctx);
  processHeader(this, ctx, parameterDefinition);
  this.d8u_1.s9l(parameterDefinition);
  return parameterDefinition;
};
protoOf(CqlPreprocessor).l34 = function (ctx) {
  var modelIdentifier = !(ctx.s45() == null) ? this.k8v(ctx.s45()) : null;
  var unqualifiedContext = ensureNotNull(this.k8v(ctx.g3w()));
  var tmp = this;
  var tmp_0;
  // Inline function 'kotlin.text.isNullOrEmpty' call
  if (!(modelIdentifier == null || charSequenceLength(modelIdentifier) === 0)) {
    tmp_0 = '' + modelIdentifier + '.' + unqualifiedContext;
  } else {
    tmp_0 = unqualifiedContext;
  }
  tmp.b8u_1 = tmp_0;
  var contextDefinition = new ContextDefinitionInfo(ctx);
  processHeader(this, ctx, contextDefinition);
  this.d8u_1.t9l(contextDefinition);
  if (!this.a8u_1 && !(unqualifiedContext === 'Unfiltered')) {
    var expressionDefinition = new ExpressionDefinitionInfo(unqualifiedContext, this.b8u_1, null);
    this.d8u_1.u9l(expressionDefinition);
    this.a8u_1 = true;
  }
  return this.b8u_1;
};
protoOf(CqlPreprocessor).k34 = function (ctx) {
  var expressionDefinition = new ExpressionDefinitionInfo(ensureNotNull(this.k8v(ctx.g3w())), this.b8u_1, ctx);
  processHeader(this, ctx, expressionDefinition);
  this.d8u_1.u9l(expressionDefinition);
  return expressionDefinition;
};
protoOf(CqlPreprocessor).n34 = function (ctx) {
  var functionDefinition = new FunctionDefinitionInfo(ensureNotNull(this.k8v(ctx.n46())), this.b8u_1, ctx);
  processHeader(this, ctx, functionDefinition);
  this.d8u_1.v9l(functionDefinition);
  return functionDefinition;
};
protoOf(CqlPreprocessor).c34 = function (ctx) {
  var qualifiers = this.k90(ctx);
  var modelIdentifier = Companion_instance_20.l90(qualifiers);
  var identifier = Companion_instance_20.m90(qualifiers, ensureNotNull(this.k8v(ctx.c42())));
  var typeSpecifierKey = '' + modelIdentifier + ':' + identifier;
  var resultType = this.w8t_1.l8w(modelIdentifier, identifier);
  if (null == resultType) {
    this.w8t_1.addNamedTypeSpecifierResult(typeSpecifierKey, Companion_instance_9.g9d());
    throw new CqlCompilerException('Could not find type for model: ' + modelIdentifier + ' and name: ' + identifier);
  }
  var result = this.y8t_1.c7k().c7g(this.w8t_1.dataTypeToQName(resultType));
  Trackable_getInstance().o8v(result, resultType);
  this.w8t_1.addNamedTypeSpecifierResult(typeSpecifierKey, Companion_instance_9.h9d(result));
  return result;
};
protoOf(CqlPreprocessor).h32 = function (node) {
  var text = node.c24();
  var tokenType = node.r2f().s23();
  if (165 === tokenType || 158 === tokenType) {
    text = substring_0(text, 1, text.length - 1 | 0);
  }
  return text;
};
protoOf(CqlPreprocessor).n35 = function (ctx) {
  var identifiers = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.d42().g();
  while (_iterator__ex2g4s.h()) {
    var qualifierContext = _iterator__ex2g4s.i();
    var tmp = this.d32(qualifierContext);
    var qualifier = (!(tmp == null) ? typeof tmp === 'string' : false) ? tmp : THROW_CCE();
    identifiers.e(qualifier);
  }
  var identifier = ensureNotNull(this.k8v(ctx.g3w()));
  identifiers.e(identifier);
  return identifiers;
};
protoOf(CqlPreprocessor).o35 = function (ctx) {
  var identifiers = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.z4h().g();
  while (_iterator__ex2g4s.h()) {
    var qualifierContext = _iterator__ex2g4s.i();
    var tmp = this.d32(qualifierContext);
    var qualifier = (!(tmp == null) ? typeof tmp === 'string' : false) ? tmp : THROW_CCE();
    identifiers.e(qualifier);
  }
  var identifier = ensureNotNull(this.k8v(ctx.d44()));
  identifiers.e(identifier);
  return identifiers;
};
protoOf(CqlPreprocessor).e32 = function () {
  return null;
};
function Companion_16() {
}
protoOf(Companion_16).w9l = function (left, right) {
  return new Pair(left, right);
};
var Companion_instance_19;
function Companion_getInstance_19() {
  return Companion_instance_19;
}
function pushChunk($this, tree) {
  if (!$this.e8u_1) {
    return false;
  }
  var sourceInterval = tree.l2f();
  if (sourceInterval.b24_1 < sourceInterval.a24_1) {
    return false;
  }
  var chunk = Chunk_init_$Create$(sourceInterval);
  $this.c8u_1.i8y(chunk);
  return true;
}
function popChunk($this, tree, o, pushedChunk) {
  if (!pushedChunk) {
    return Unit_instance;
  }
  var chunk = $this.c8u_1.r2c();
  if (o instanceof Element) {
    chunk.z9d_1 = o;
    if (!(tree instanceof LibraryContext)) {
      var tmp;
      var tmp_0;
      var tmp_1;
      var tmp_2;
      var tmp_3;
      var tmp_4;
      var tmp_5;
      var tmp_6;
      if (o instanceof UsingDef) {
        tmp_6 = true;
      } else {
        tmp_6 = o instanceof IncludeDef;
      }
      if (tmp_6) {
        tmp_5 = true;
      } else {
        tmp_5 = o instanceof CodeSystemDef;
      }
      if (tmp_5) {
        tmp_4 = true;
      } else {
        tmp_4 = o instanceof ValueSetDef;
      }
      if (tmp_4) {
        tmp_3 = true;
      } else {
        tmp_3 = o instanceof CodeDef;
      }
      if (tmp_3) {
        tmp_2 = true;
      } else {
        tmp_2 = o instanceof ConceptDef;
      }
      if (tmp_2) {
        tmp_1 = true;
      } else {
        tmp_1 = o instanceof ParameterDef;
      }
      if (tmp_1) {
        tmp_0 = true;
      } else {
        tmp_0 = o instanceof ContextDef;
      }
      if (tmp_0) {
        tmp = true;
      } else {
        tmp = o instanceof ExpressionDef;
      }
      if (tmp) {
        var a = getAnnotation($this, o);
        if ((a == null ? null : a.y63_1) == null) {
          var definitionInfo = $this.d8u_1.x9l(tree);
          if (!((definitionInfo == null ? null : definitionInfo.z9j_1) == null)) {
            var headerChunk = new Chunk(ensureNotNull(definitionInfo.z9j_1), true);
            var newChunk = Chunk_init_$Create$(new Interval(headerChunk.x9d_1.a24_1, chunk.x9d_1.b24_1));
            newChunk.d9e(headerChunk);
            newChunk.z9d_1 = chunk.z9d_1;
            var _iterator__ex2g4s = chunk.b9e().g();
            while (_iterator__ex2g4s.h()) {
              var c = _iterator__ex2g4s.i();
              newChunk.d9e(c);
            }
            chunk = newChunk;
          }
          var tmp_7;
          if (a == null) {
            tmp_7 = null;
          } else {
            // Inline function 'kotlin.let' call
            addNarrativeToAnnotation($this, a, chunk);
            tmp_7 = Unit_instance;
          }
          if (tmp_7 == null)
            o.n66().e(buildAnnotation($this, chunk));
        }
      }
    } else {
      if (!($this.d8u_1.m8x_1 == null) && !($this.d8u_1.z9j_1 == null)) {
        var headerChunk_0 = new Chunk(ensureNotNull($this.d8u_1.z9j_1), true);
        var tmp4_safe_receiver = $this.d8u_1.m8x_1;
        var definitionChunk = Chunk_init_$Create$(ensureNotNull(tmp4_safe_receiver == null ? null : tmp4_safe_receiver.l2f()));
        var newChunk_0 = Chunk_init_$Create$(new Interval(headerChunk_0.x9d_1.a24_1, definitionChunk.x9d_1.b24_1));
        newChunk_0.d9e(headerChunk_0);
        newChunk_0.d9e(definitionChunk);
        newChunk_0.z9d_1 = chunk.z9d_1;
        chunk = newChunk_0;
        var a_0 = getAnnotation($this, $this.w8t_1.library);
        var tmp_8;
        if (a_0 == null) {
          tmp_8 = null;
        } else {
          // Inline function 'kotlin.let' call
          addNarrativeToAnnotation($this, a_0, chunk);
          tmp_8 = Unit_instance;
        }
        if (tmp_8 == null)
          $this.w8t_1.library.n66().e(buildAnnotation($this, chunk));
      }
    }
  }
  if ($this.c8u_1.t99()) {
    $this.c8u_1.q2c().d9e(chunk);
  }
}
function processTags($this, tree, o) {
  if (!$this.w8t_1.isCompatibleWith('1.5')) {
    return Unit_instance;
  }
  if (!(o instanceof Element)) {
    return Unit_instance;
  }
  if (!(tree instanceof LibraryContext)) {
    var tmp;
    var tmp_0;
    var tmp_1;
    var tmp_2;
    var tmp_3;
    var tmp_4;
    var tmp_5;
    var tmp_6;
    if (o instanceof UsingDef) {
      tmp_6 = true;
    } else {
      tmp_6 = o instanceof IncludeDef;
    }
    if (tmp_6) {
      tmp_5 = true;
    } else {
      tmp_5 = o instanceof CodeSystemDef;
    }
    if (tmp_5) {
      tmp_4 = true;
    } else {
      tmp_4 = o instanceof ValueSetDef;
    }
    if (tmp_4) {
      tmp_3 = true;
    } else {
      tmp_3 = o instanceof CodeDef;
    }
    if (tmp_3) {
      tmp_2 = true;
    } else {
      tmp_2 = o instanceof ConceptDef;
    }
    if (tmp_2) {
      tmp_1 = true;
    } else {
      tmp_1 = o instanceof ParameterDef;
    }
    if (tmp_1) {
      tmp_0 = true;
    } else {
      tmp_0 = o instanceof ContextDef;
    }
    if (tmp_0) {
      tmp = true;
    } else {
      tmp = o instanceof ExpressionDef;
    }
    if (tmp) {
      var tags = getTags_0($this, tree);
      // Inline function 'kotlin.collections.isNotEmpty' call
      if (!tags.q()) {
        var a = getAnnotation($this, o);
        if (a == null) {
          a = buildAnnotation_0($this);
          o.n66().e(a);
        }
        if (a.a64().q()) {
          a.a64().n(tags);
        }
      }
    }
  } else {
    if (!($this.d8u_1.m8x_1 == null) && !($this.d8u_1.z9j_1 == null)) {
      var tags_0 = getTags($this, $this.d8u_1.y9j_1);
      // Inline function 'kotlin.collections.isNotEmpty' call
      if (!tags_0.q()) {
        var a_0 = getAnnotation($this, $this.w8t_1.library);
        if (a_0 == null) {
          a_0 = buildAnnotation_0($this);
          $this.w8t_1.library.n66().e(a_0);
        }
        a_0.a64().n(tags_0);
      }
    }
  }
}
function getTags($this, header) {
  return !(header == null) ? parseTags($this, parseComments($this, header)) : emptyList();
}
function getTags_0($this, tree) {
  var bi = $this.d8u_1.x9l(tree);
  return !(bi == null) ? getTags($this, bi.y9j_1) : emptyList();
}
function parseTags($this, header) {
  // Inline function 'kotlin.text.trim' call
  // Inline function 'kotlin.text.trim' call
  var this_0 = isCharSequence(header) ? header : THROW_CCE();
  var startIndex = 0;
  var endIndex = charSequenceLength(this_0) - 1 | 0;
  var startFound = false;
  $l$loop: while (startIndex <= endIndex) {
    var index = !startFound ? startIndex : endIndex;
    var it = charSequenceGet(this_0, index);
    var match = Char__compareTo_impl_ypi4mb(it, _Char___init__impl__6a9atx(32)) <= 0;
    if (!startFound) {
      if (!match)
        startFound = true;
      else
        startIndex = startIndex + 1 | 0;
    } else {
      if (!match)
        break $l$loop;
      else
        endIndex = endIndex - 1 | 0;
    }
  }
  var tmp$ret$1 = charSequenceSubSequence(this_0, startIndex, endIndex + 1 | 0);
  var tmp0 = toString(tmp$ret$1);
  // Inline function 'kotlin.text.toRegex' call
  var this_1 = '\n[ \t]*\\*[ \t\\*]*';
  // Inline function 'kotlin.text.split' call
  var tmp0_0 = Regex_init_$Create$(this_1).wd(tmp0, 0);
  var tmp$ret$7;
  $l$block: {
    // Inline function 'kotlin.collections.dropLastWhile' call
    if (!tmp0_0.q()) {
      var iterator = tmp0_0.c2(tmp0_0.j());
      while (iterator.v5()) {
        // Inline function 'kotlin.text.isEmpty' call
        var this_2 = iterator.x5();
        if (!(charSequenceLength(this_2) === 0)) {
          tmp$ret$7 = take(tmp0_0, iterator.w5() + 1 | 0);
          break $l$block;
        }
      }
    }
    tmp$ret$7 = emptyList();
  }
  var header_0 = joinToString(tmp$ret$7, '\n');
  var tags = ArrayList_init_$Create$();
  var startFrom = 0;
  $l$loop_0: while (startFrom < header_0.length) {
    var tagNamePair = lookForTagName($this, header_0, startFrom);
    if (!(tagNamePair == null)) {
      var tmp;
      // Inline function 'kotlin.text.isNotEmpty' call
      var this_3 = tagNamePair.y9l_1;
      if (charSequenceLength(this_3) > 0) {
        tmp = Companion_instance_20.a9m(tagNamePair.y9l_1);
      } else {
        tmp = false;
      }
      if (tmp) {
        var t = $this.z8t_1.m65().q65(tagNamePair.y9l_1);
        startFrom = tagNamePair.z9l_1;
        var tagValuePair = Companion_instance_20.b9m(header_0, startFrom);
        var tmp_0;
        if (!(tagValuePair == null)) {
          // Inline function 'kotlin.text.isNotEmpty' call
          var this_4 = tagValuePair.y9l_1;
          tmp_0 = charSequenceLength(this_4) > 0;
        } else {
          tmp_0 = false;
        }
        if (tmp_0) {
          t = t.r65(tagValuePair.y9l_1);
          startFrom = tagValuePair.z9l_1;
        }
        tags.e(t);
      } else {
        startFrom = tagNamePair.z9l_1;
      }
    } else {
      break $l$loop_0;
    }
  }
  return tags;
}
function parseComments($this, header) {
  var result = ArrayList_init_$Create$();
  if (!(header == null)) {
    var normalized = replace(header, '\r\n', '\n');
    // Inline function 'kotlin.text.toRegex' call
    // Inline function 'kotlin.text.split' call
    var tmp0 = Regex_init_$Create$('\n').wd(normalized, 0);
    var tmp$ret$4;
    $l$block: {
      // Inline function 'kotlin.collections.dropLastWhile' call
      if (!tmp0.q()) {
        var iterator = tmp0.c2(tmp0.j());
        while (iterator.v5()) {
          // Inline function 'kotlin.text.isEmpty' call
          var this_0 = iterator.x5();
          if (!(charSequenceLength(this_0) === 0)) {
            tmp$ret$4 = take(tmp0, iterator.w5() + 1 | 0);
            break $l$block;
          }
        }
      }
      tmp$ret$4 = emptyList();
    }
    // Inline function 'kotlin.collections.toTypedArray' call
    var this_1 = tmp$ret$4;
    var lines = copyToArray(this_1);
    var inMultiline = false;
    var inductionVariable = 0;
    var last = lines.length;
    while (inductionVariable < last) {
      var line = lines[inductionVariable];
      inductionVariable = inductionVariable + 1 | 0;
      if (!inMultiline) {
        var start = indexOf(line, '/*');
        if (start >= 0) {
          if (endsWith(line, '*/')) {
            result.e(substring_0(line, start + 2 | 0, line.length - 2 | 0));
          } else {
            result.e(substring(line, start + 2 | 0));
          }
          inMultiline = true;
        } else
          start = indexOf(line, '//');
        if (start >= 0 && !inMultiline) {
          result.e(substring(line, start + 2 | 0));
        }
      } else {
        var end = indexOf(line, '*/');
        if (end >= 0) {
          inMultiline = false;
          if (end > 0) {
            result.e(substring_0(line, 0, end));
          }
        } else {
          result.e(line);
        }
      }
    }
  }
  return joinToString(result, '\n');
}
function buildAnnotation($this, chunk) {
  var annotation = $this.z8t_1.n65();
  annotation.y63_1 = buildNarrative($this, chunk);
  return annotation;
}
function buildAnnotation_0($this) {
  return $this.z8t_1.n65();
}
function addNarrativeToAnnotation($this, annotation, chunk) {
  annotation.y63_1 = buildNarrative($this, chunk);
}
function buildNarrative($this, chunk) {
  var narrative = $this.z8t_1.l65();
  if (!(chunk.z9d_1 == null)) {
    narrative.g65_1 = ensureNotNull(chunk.z9d_1).a66_1;
  }
  if (chunk.c9e()) {
    var currentNarrative = null;
    var _iterator__ex2g4s = chunk.b9e().g();
    while (_iterator__ex2g4s.h()) {
      var childChunk = _iterator__ex2g4s.i();
      var chunkNarrative = buildNarrative($this, childChunk);
      if (hasChunks($this, chunkNarrative)) {
        if (!(currentNarrative == null)) {
          narrative.l1e().e(Companion_instance_20.d9m(currentNarrative));
          currentNarrative = null;
        }
        narrative.l1e().e(Companion_instance_20.d9m(chunkNarrative));
      } else {
        if (currentNarrative == null) {
          currentNarrative = chunkNarrative;
        } else {
          currentNarrative.l1e().n(chunkNarrative.l1e());
          if (currentNarrative.g65_1 == null) {
            currentNarrative.g65_1 = chunkNarrative.g65_1;
          }
        }
      }
    }
    if (!(currentNarrative == null)) {
      narrative.l1e().e(Companion_instance_20.d9m(currentNarrative));
    }
  } else {
    var chunkContent = $this.x8t_1.z23(chunk.x9d_1);
    if (chunk.y9d_1) {
      // Inline function 'kotlin.text.trimStart' call
      var this_0 = chunkContent;
      chunkContent = toString(trimStart(isCharSequence(this_0) ? this_0 : THROW_CCE()));
    }
    chunkContent = Companion_instance_20.c9m(chunkContent);
    narrative.l1e().e(chunkContent);
  }
  return narrative;
}
function hasChunks($this, narrative) {
  var _iterator__ex2g4s = narrative.l1e().g();
  while (_iterator__ex2g4s.h()) {
    var c = _iterator__ex2g4s.i();
    if (!(typeof c === 'string')) {
      return true;
    }
  }
  return false;
}
function getTrackBack_2($this, tree) {
  if (tree instanceof ParserRuleContext) {
    return getTrackBack_3($this, tree);
  }
  var tmp;
  if (isInterface(tree, TerminalNode)) {
    tmp = getTrackBack_2($this, tree);
  } else {
    tmp = null;
  }
  return tmp;
}
function getTrackBack_3($this, ctx) {
  var tmp = $this.w8t_1.libraryIdentifier;
  var tmp0_safe_receiver = ctx.i2e_1;
  var tmp1_elvis_lhs = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.x24();
  var tmp_0 = tmp1_elvis_lhs == null ? 0 : tmp1_elvis_lhs;
  var tmp2_safe_receiver = ctx.i2e_1;
  var tmp3_elvis_lhs = tmp2_safe_receiver == null ? null : tmp2_safe_receiver.z24();
  var tmp_1 = (tmp3_elvis_lhs == null ? 0 : tmp3_elvis_lhs) + 1 | 0;
  var tmp4_safe_receiver = ctx.j2e_1;
  var tmp5_elvis_lhs = tmp4_safe_receiver == null ? null : tmp4_safe_receiver.x24();
  var tmp_2 = tmp5_elvis_lhs == null ? 0 : tmp5_elvis_lhs;
  var tmp6_safe_receiver = ctx.j2e_1;
  var tmp7_elvis_lhs = tmp6_safe_receiver == null ? null : tmp6_safe_receiver.z24();
  var tmp_3 = tmp7_elvis_lhs == null ? 0 : tmp7_elvis_lhs;
  var tmp8_safe_receiver = ctx.j2e_1;
  var tmp9_safe_receiver = tmp8_safe_receiver == null ? null : tmp8_safe_receiver.c24();
  var tmp10_elvis_lhs = tmp9_safe_receiver == null ? null : tmp9_safe_receiver.length;
  return new TrackBack(tmp, tmp_0, tmp_1, tmp_2, tmp_3 + (tmp10_elvis_lhs == null ? 0 : tmp10_elvis_lhs) | 0);
}
function track_1($this, element, pt) {
  var tb = getTrackBack_2($this, pt);
  if (!(tb == null)) {
    Trackable_getInstance().d90(element).e(tb);
  }
  decorate_0($this, element, tb);
  return tb;
}
function decorate_0($this, element, tb) {
  if ($this.g8u_1 && !(tb == null)) {
    element.b66_1 = tb.a90();
  }
  if ($this.h8u_1 && !(Trackable_getInstance().n8v(element) == null)) {
    var tmp = Trackable_getInstance().n8v(element);
    if (!(tmp == null) ? isInterface(tmp, NamedType) : false) {
      element.c66_1 = $this.w8t_1.dataTypeToQName(Trackable_getInstance().n8v(element));
    } else {
      element.e66_1 = $this.w8t_1.dataTypeToTypeSpecifier(Trackable_getInstance().n8v(element));
    }
  }
}
function Pair(left, right) {
  this.y9l_1 = left;
  this.z9l_1 = right;
}
protoOf(Pair).toString = function () {
  return 'Pair(left=' + toString_0(this.y9l_1) + ', right=' + toString_0(this.z9l_1) + ')';
};
protoOf(Pair).hashCode = function () {
  var result = this.y9l_1 == null ? 0 : hashCode(this.y9l_1);
  result = imul(result, 31) + (this.z9l_1 == null ? 0 : hashCode(this.z9l_1)) | 0;
  return result;
};
protoOf(Pair).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof Pair))
    return false;
  var tmp0_other_with_cast = other instanceof Pair ? other : THROW_CCE();
  if (!equals(this.y9l_1, tmp0_other_with_cast.y9l_1))
    return false;
  if (!equals(this.z9l_1, tmp0_other_with_cast.z9l_1))
    return false;
  return true;
};
function lookForTagName($this, header, startFrom) {
  if (startFrom >= header.length) {
    return null;
  }
  var start = indexOf(header, '@', startFrom);
  if (start < 0) {
    return null;
  }
  var nextTagStart = indexOf(header, '@', start + 1 | 0);
  var nextColon = indexOf(header, ':', start + 1 | 0);
  if (nextTagStart < 0) {
    if (nextColon < 0) {
      var tmp = Companion_instance_19;
      // Inline function 'kotlin.text.trim' call
      var this_0 = substring_0(header, start + 1 | 0, header.length);
      // Inline function 'kotlin.text.trim' call
      var this_1 = isCharSequence(this_0) ? this_0 : THROW_CCE();
      var startIndex = 0;
      var endIndex = charSequenceLength(this_1) - 1 | 0;
      var startFound = false;
      $l$loop: while (startIndex <= endIndex) {
        var index = !startFound ? startIndex : endIndex;
        var it = charSequenceGet(this_1, index);
        var match = Char__compareTo_impl_ypi4mb(it, _Char___init__impl__6a9atx(32)) <= 0;
        if (!startFound) {
          if (!match)
            startFound = true;
          else
            startIndex = startIndex + 1 | 0;
        } else {
          if (!match)
            break $l$loop;
          else
            endIndex = endIndex - 1 | 0;
        }
      }
      var tmp$ret$1 = charSequenceSubSequence(this_1, startIndex, endIndex + 1 | 0);
      var tmp$ret$2 = toString(tmp$ret$1);
      return tmp.w9l(tmp$ret$2, header.length);
    }
  } else {
    if (nextColon < 0 || nextColon > nextTagStart) {
      var tmp_0 = Companion_instance_19;
      // Inline function 'kotlin.text.trim' call
      var this_2 = substring_0(header, start + 1 | 0, nextTagStart);
      // Inline function 'kotlin.text.trim' call
      var this_3 = isCharSequence(this_2) ? this_2 : THROW_CCE();
      var startIndex_0 = 0;
      var endIndex_0 = charSequenceLength(this_3) - 1 | 0;
      var startFound_0 = false;
      $l$loop_0: while (startIndex_0 <= endIndex_0) {
        var index_0 = !startFound_0 ? startIndex_0 : endIndex_0;
        var it_0 = charSequenceGet(this_3, index_0);
        var match_0 = Char__compareTo_impl_ypi4mb(it_0, _Char___init__impl__6a9atx(32)) <= 0;
        if (!startFound_0) {
          if (!match_0)
            startFound_0 = true;
          else
            startIndex_0 = startIndex_0 + 1 | 0;
        } else {
          if (!match_0)
            break $l$loop_0;
          else
            endIndex_0 = endIndex_0 - 1 | 0;
        }
      }
      var tmp$ret$4 = charSequenceSubSequence(this_3, startIndex_0, endIndex_0 + 1 | 0);
      var tmp$ret$5 = toString(tmp$ret$4);
      return tmp_0.w9l(tmp$ret$5, nextTagStart);
    }
  }
  var tmp_1 = Companion_instance_19;
  // Inline function 'kotlin.text.trim' call
  var this_4 = substring_0(header, start + 1 | 0, nextColon);
  // Inline function 'kotlin.text.trim' call
  var this_5 = isCharSequence(this_4) ? this_4 : THROW_CCE();
  var startIndex_1 = 0;
  var endIndex_1 = charSequenceLength(this_5) - 1 | 0;
  var startFound_1 = false;
  $l$loop_1: while (startIndex_1 <= endIndex_1) {
    var index_1 = !startFound_1 ? startIndex_1 : endIndex_1;
    var it_1 = charSequenceGet(this_5, index_1);
    var match_1 = Char__compareTo_impl_ypi4mb(it_1, _Char___init__impl__6a9atx(32)) <= 0;
    if (!startFound_1) {
      if (!match_1)
        startFound_1 = true;
      else
        startIndex_1 = startIndex_1 + 1 | 0;
    } else {
      if (!match_1)
        break $l$loop_1;
      else
        endIndex_1 = endIndex_1 - 1 | 0;
    }
  }
  var tmp$ret$7 = charSequenceSubSequence(this_5, startIndex_1, endIndex_1 + 1 | 0);
  var tmp$ret$8 = toString(tmp$ret$7);
  return tmp_1.w9l(tmp$ret$8, nextColon + 1 | 0);
}
function getAnnotation($this, element) {
  var _iterator__ex2g4s = element.n66().g();
  while (_iterator__ex2g4s.h()) {
    var o = _iterator__ex2g4s.i();
    if (o instanceof Annotation) {
      return o;
    }
  }
  return null;
}
function setCompilerOptions_0($this, options) {
  if (options.options.p(Options_EnableDateRangeOptimization_getInstance())) {
    $this.g93();
  }
  if (options.options.p(Options_EnableAnnotations_getInstance())) {
    $this.d93();
  }
  if (options.options.p(Options_EnableLocators_getInstance())) {
    $this.e93();
  }
  if (options.options.p(Options_EnableResultTypes_getInstance())) {
    $this.f93();
  }
  if (options.options.p(Options_EnableDetailedErrors_getInstance())) {
    $this.h93();
  }
  if (options.options.p(Options_DisableMethodInvocation_getInstance())) {
    $this.i93();
  }
  if (options.options.p(Options_RequireFromKeyword_getInstance())) {
    $this.j93();
  }
  $this.w8t_1.h97(options.compatibilityLevel);
}
function Companion_17() {
}
protoOf(Companion_17).b9m = function (header, startFrom) {
  if (startFrom >= header.length) {
    return null;
  }
  var nextTag = indexOf_0(header, _Char___init__impl__6a9atx(64), startFrom);
  var nextStartDoubleQuote = indexOf(header, '"', startFrom);
  if ((nextTag < 0 || nextTag > nextStartDoubleQuote) && nextStartDoubleQuote > 0 && header.length > (nextStartDoubleQuote + 1 | 0)) {
    var nextEndDoubleQuote = indexOf(header, '"', nextStartDoubleQuote + 1 | 0);
    var tmp;
    if (nextEndDoubleQuote > 0) {
      var parameterEnd = indexOf(header, '\n', nextStartDoubleQuote + 1 | 0);
      var tmp_0;
      if (parameterEnd < 0) {
        tmp_0 = Companion_instance_19.w9l(substring(header, nextStartDoubleQuote), header.length);
      } else {
        tmp_0 = Companion_instance_19.w9l(substring_0(header, nextStartDoubleQuote, parameterEnd), parameterEnd);
      }
      tmp = tmp_0;
    } else {
      tmp = Companion_instance_19.w9l(substring(header, nextStartDoubleQuote), header.length);
    }
    return tmp;
  }
  if (nextTag === startFrom && !this.e9m(header, nextTag + 1 | 0)) {
    return Companion_instance_19.w9l('', startFrom);
  } else if (nextTag > 0) {
    // Inline function 'kotlin.text.trim' call
    var this_0 = substring_0(header, startFrom, nextTag);
    // Inline function 'kotlin.text.trim' call
    var this_1 = isCharSequence(this_0) ? this_0 : THROW_CCE();
    var startIndex = 0;
    var endIndex = charSequenceLength(this_1) - 1 | 0;
    var startFound = false;
    $l$loop: while (startIndex <= endIndex) {
      var index = !startFound ? startIndex : endIndex;
      var it = charSequenceGet(this_1, index);
      var match = Char__compareTo_impl_ypi4mb(it, _Char___init__impl__6a9atx(32)) <= 0;
      if (!startFound) {
        if (!match)
          startFound = true;
        else
          startIndex = startIndex + 1 | 0;
      } else {
        if (!match)
          break $l$loop;
        else
          endIndex = endIndex - 1 | 0;
      }
    }
    var tmp$ret$1 = charSequenceSubSequence(this_1, startIndex, endIndex + 1 | 0);
    var interimText = toString(tmp$ret$1);
    var tmp_1;
    if (this.e9m(header, nextTag + 1 | 0)) {
      var tmp_2;
      var tmp_3;
      // Inline function 'kotlin.text.isNotEmpty' call
      if (charSequenceLength(interimText) > 0) {
        tmp_3 = !(interimText === ':');
      } else {
        tmp_3 = false;
      }
      if (tmp_3) {
        tmp_2 = Companion_instance_19.w9l(interimText, nextTag);
      } else {
        var nextSpace = indexOf_0(header, _Char___init__impl__6a9atx(32), nextTag);
        var nextLine = indexOf(header, '\n', nextTag);
        var mul = imul(nextSpace, nextLine);
        var nextDelimiterIndex = header.length;
        if (mul < 0) {
          nextDelimiterIndex = coerceAtLeast(nextLine, nextSpace);
        } else if (mul > 1) {
          nextDelimiterIndex = coerceAtMost(nextLine, nextSpace);
        }
        tmp_2 = Companion_instance_19.w9l(substring_0(header, nextTag, nextDelimiterIndex), nextDelimiterIndex);
      }
      tmp_1 = tmp_2;
    } else {
      tmp_1 = Companion_instance_19.w9l(interimText, nextTag);
    }
    return tmp_1;
  }
  var tmp_4 = Companion_instance_19;
  // Inline function 'kotlin.text.trim' call
  var this_2 = substring(header, startFrom);
  // Inline function 'kotlin.text.trim' call
  var this_3 = isCharSequence(this_2) ? this_2 : THROW_CCE();
  var startIndex_0 = 0;
  var endIndex_0 = charSequenceLength(this_3) - 1 | 0;
  var startFound_0 = false;
  $l$loop_0: while (startIndex_0 <= endIndex_0) {
    var index_0 = !startFound_0 ? startIndex_0 : endIndex_0;
    var it_0 = charSequenceGet(this_3, index_0);
    var match_0 = Char__compareTo_impl_ypi4mb(it_0, _Char___init__impl__6a9atx(32)) <= 0;
    if (!startFound_0) {
      if (!match_0)
        startFound_0 = true;
      else
        startIndex_0 = startIndex_0 + 1 | 0;
    } else {
      if (!match_0)
        break $l$loop_0;
      else
        endIndex_0 = endIndex_0 - 1 | 0;
    }
  }
  var tmp$ret$5 = charSequenceSubSequence(this_3, startIndex_0, endIndex_0 + 1 | 0);
  var tmp$ret$6 = toString(tmp$ret$5);
  return tmp_4.w9l(tmp$ret$6, header.length);
};
protoOf(Companion_17).d9m = function (narrative) {
  return narrative;
};
protoOf(Companion_17).a9m = function (tagName) {
  var inductionVariable = 0;
  var last = charSequenceLength(tagName) - 1 | 0;
  if (inductionVariable <= last)
    $l$loop: do {
      var i = inductionVariable;
      inductionVariable = inductionVariable + 1 | 0;
      if (charCodeAt(tagName, i) === _Char___init__impl__6a9atx(95)) {
        continue $l$loop;
      }
      if (i === 0) {
        if (!isLetter(charCodeAt(tagName, i))) {
          return false;
        }
      } else {
        if (!isLetterOrDigit(charCodeAt(tagName, i))) {
          return false;
        }
      }
    }
     while (inductionVariable <= last);
  return true;
};
protoOf(Companion_17).m90 = function (qualifiers, identifier) {
  if (qualifiers.j() > 1) {
    var result = null;
    var inductionVariable = 1;
    var last = qualifiers.j();
    if (inductionVariable < last)
      do {
        var i = inductionVariable;
        inductionVariable = inductionVariable + 1 | 0;
        result = result == null ? qualifiers.o(i) : result + '.' + qualifiers.o(i);
      }
       while (inductionVariable < last);
    return '' + result + '.' + identifier;
  }
  return identifier;
};
protoOf(Companion_17).l90 = function (qualifiers) {
  var tmp;
  // Inline function 'kotlin.collections.isNotEmpty' call
  if (!qualifiers.q()) {
    tmp = qualifiers.o(0);
  } else {
    tmp = null;
  }
  return tmp;
};
protoOf(Companion_17).c9m = function (input) {
  return replace(input, '\r\n', '\n');
};
protoOf(Companion_17).e9m = function (header, index) {
  return index < header.length && isDigit(charCodeAt(header, index));
};
var Companion_instance_20;
function Companion_getInstance_20() {
  return Companion_instance_20;
}
function CqlPreprocessorElmCommonVisitor(libraryBuilder, tokenStream) {
  cqlBaseVisitor.call(this);
  this.w8t_1 = libraryBuilder;
  this.x8t_1 = tokenStream;
  this.y8t_1 = this.w8t_1.objectFactory;
  this.z8t_1 = new ObjectFactory();
  this.a8u_1 = false;
  this.b8u_1 = 'Unfiltered';
  this.c8u_1 = new Stack();
  this.d8u_1 = new LibraryInfo();
  this.e8u_1 = false;
  this.f8u_1 = false;
  this.g8u_1 = false;
  this.h8u_1 = false;
  this.i8u_1 = false;
  this.j8u_1 = true;
  this.k8u_1 = false;
  setCompilerOptions_0(this, this.w8t_1.libraryManager.cqlCompilerOptions);
}
protoOf(CqlPreprocessorElmCommonVisitor).g8y = function (currentContext) {
  var saveContext = this.b8u_1;
  this.b8u_1 = currentContext;
  return saveContext;
};
protoOf(CqlPreprocessorElmCommonVisitor).d32 = function (tree) {
  var pushedChunk = pushChunk(this, tree);
  var o = null;
  var tmp;
  try {
    try {
      o = protoOf(cqlBaseVisitor).d32.call(this, tree);
      var tmp_0;
      if (o instanceof Element) {
        tmp_0 = o.a66_1 == null;
      } else {
        tmp_0 = false;
      }
      if (tmp_0) {
        throw new CqlInternalException("Internal translator error. 'localId' was not assigned for Element \"" + getKClassFromExpression(o).lb() + '"', getTrackBack_2(this, tree));
      }
    } catch ($p) {
      if ($p instanceof CqlIncludeException) {
        var e = $p;
        var translatorException = CqlCompilerException_init_$Create$_0(e.message, getTrackBack_2(this, tree), e);
        if (translatorException.locator == null) {
          throw translatorException;
        }
        this.w8t_1.recordParsingException(translatorException);
      } else {
        if ($p instanceof CqlCompilerException) {
          var e_0 = $p;
          this.w8t_1.recordParsingException(e_0);
        } else {
          if ($p instanceof Exception) {
            var e_1 = $p;
            var tmp_1;
            if (e_1.message == null) {
              tmp_1 = new CqlInternalException('Internal translator error.', getTrackBack_2(this, tree), e_1);
            } else {
              tmp_1 = CqlSemanticException_init_$Create$_1(e_1.message, getTrackBack_2(this, tree), e_1);
            }
            var ex = tmp_1;
            var rootCause = this.w8t_1.determineRootCause();
            if (rootCause == null) {
              rootCause = ex;
              this.w8t_1.recordParsingException(ex);
              this.w8t_1.setRootCause(rootCause);
            } else {
              if (this.f8u_1) {
                this.w8t_1.recordParsingException(ex);
              }
            }
            o = this.y8t_1.a7o();
          } else {
            throw $p;
          }
        }
      }
    }
    var tmp_2;
    if (o instanceof Element) {
      tmp_2 = !(tree instanceof LibraryContext);
    } else {
      tmp_2 = false;
    }
    if (tmp_2) {
      track_1(this, o, tree);
    }
    tmp = o;
  }finally {
    popChunk(this, tree, o, pushedChunk);
    processTags(this, tree, o);
  }
  return tmp;
};
protoOf(CqlPreprocessorElmCommonVisitor).h34 = function (ctx) {
  var result = this.y8t_1.s7l().q65(this.k8v(ctx.d44())).n7a(this.f90(ctx.i3w()));
  return result;
};
protoOf(CqlPreprocessorElmCommonVisitor).g34 = function (ctx) {
  // Inline function 'kotlin.collections.mutableListOf' call
  var elements = ArrayList_init_$Create$();
  var typeSpecifier = this.y8t_1.a7m();
  var _iterator__ex2g4s = ctx.s43().g();
  while (_iterator__ex2g4s.h()) {
    var definitionContext = _iterator__ex2g4s.i();
    var tmp = this.d32(definitionContext);
    var element = tmp instanceof TupleElementDefinition ? tmp : THROW_CCE();
    elements.e(new TupleTypeElement(ensureNotNull(element.t8f_1), ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(element.u8f_1)))));
    typeSpecifier.g5v().e(element);
  }
  Trackable_getInstance().o8v(typeSpecifier, TupleType_init_$Create$(elements));
  return typeSpecifier;
};
protoOf(CqlPreprocessorElmCommonVisitor).i34 = function (ctx) {
  var typeSpecifiers = ArrayList_init_$Create$();
  var types = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.i3w().g();
  while (_iterator__ex2g4s.h()) {
    var typeSpecifierContext = _iterator__ex2g4s.i();
    var typeSpecifier = ensureNotNull(this.f90(typeSpecifierContext));
    typeSpecifiers.e(typeSpecifier);
    types.e(ensureNotNull(Trackable_getInstance().n8v(typeSpecifier)));
  }
  var result = this.y8t_1.u7j().r6g(typeSpecifiers);
  var choiceType = ChoiceType_init_$Create$(types);
  Trackable_getInstance().o8v(result, choiceType);
  return result;
};
protoOf(CqlPreprocessorElmCommonVisitor).f34 = function (ctx) {
  var result = this.y8t_1.j7n().r75(this.f90(ctx.i3w()));
  var intervalType = new IntervalType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(result.q75_1))));
  Trackable_getInstance().o8v(result, intervalType);
  return result;
};
protoOf(CqlPreprocessorElmCommonVisitor).e34 = function (ctx) {
  var result = this.y8t_1.v7m().n7a(this.f90(ctx.i3w()));
  var listType = new ListType(ensureNotNull(Trackable_getInstance().n8v(ensureNotNull(result.m7a_1))));
  Trackable_getInstance().o8v(result, listType);
  return result;
};
protoOf(CqlPreprocessorElmCommonVisitor).a8z = function (ctx) {
  var functionDef = this.y8t_1.e7o().b6i(this.l8v(ctx.h3w())).q65(this.k8v(ctx.n46())).g6w(this.b8u_1);
  if (!(ctx.p46() == null)) {
    this.w8t_1.checkCompatibilityLevel('Fluent functions', '1.5');
    functionDef.k6y_1 = true;
  }
  var _iterator__ex2g4s = ctx.q46().g();
  while (_iterator__ex2g4s.h()) {
    var opdef = _iterator__ex2g4s.i();
    var typeSpecifier = ensureNotNull(this.f90(opdef.i3w()));
    functionDef.o67().e(Trackable_getInstance().h90(this.y8t_1.c7i().q65(this.k8v(opdef.d44())).y7q(typeSpecifier), Trackable_getInstance().n8v(typeSpecifier)));
  }
  var typeSpecifierContext = ctx.i3w();
  var tmp;
  if (typeSpecifierContext == null) {
    tmp = FunctionHeader_init_$Create$(functionDef);
  } else {
    tmp = new FunctionHeader(functionDef, this.f90(typeSpecifierContext));
  }
  return tmp;
};
protoOf(CqlPreprocessorElmCommonVisitor).f90 = function (pt) {
  var tmp;
  if (pt == null) {
    tmp = null;
  } else {
    var tmp_0 = this.d32(pt);
    tmp = tmp_0 instanceof TypeSpecifier ? tmp_0 : THROW_CCE();
  }
  return tmp;
};
protoOf(CqlPreprocessorElmCommonVisitor).l8v = function (pt) {
  var tmp;
  if (pt == null) {
    tmp = AccessModifier_PUBLIC_getInstance();
  } else {
    var tmp_0 = this.d32(pt);
    tmp = tmp_0 instanceof AccessModifier ? tmp_0 : THROW_CCE();
  }
  return tmp;
};
protoOf(CqlPreprocessorElmCommonVisitor).k90 = function (ctx) {
  var qualifiers = ArrayList_init_$Create$();
  var _iterator__ex2g4s = ctx.d42().g();
  while (_iterator__ex2g4s.h()) {
    var qualifierContext = _iterator__ex2g4s.i();
    var qualifier = ensureNotNull(this.k8v(qualifierContext));
    qualifiers.e(qualifier);
  }
  return qualifiers;
};
protoOf(CqlPreprocessorElmCommonVisitor).n9l = function (modelNamespace, modelName, version, localIdentifier) {
  var tmp;
  if (modelName == null) {
    var tmp1_safe_receiver = this.d8u_1.n8x_1;
    tmp = tmp1_safe_receiver == null ? null : tmp1_safe_receiver.j9m_1;
  } else {
    tmp = modelName;
  }
  var modelId = tmp;
  var tmp_0;
  if (version == null) {
    var tmp3_safe_receiver = this.d8u_1.n8x_1;
    tmp_0 = tmp3_safe_receiver == null ? null : tmp3_safe_receiver.k9m_1;
  } else {
    tmp_0 = version;
  }
  var modelVersion = tmp_0;
  var tmp5_id = ensureNotNull(modelId);
  var tmp6_system = modelNamespace == null ? null : modelNamespace.z62_1;
  var modelIdentifier = new ModelIdentifier(tmp5_id, tmp6_system, modelVersion);
  return this.w8t_1.q97(modelIdentifier, localIdentifier);
};
protoOf(CqlPreprocessorElmCommonVisitor).d93 = function () {
  this.e8u_1 = true;
};
protoOf(CqlPreprocessorElmCommonVisitor).k8v = function (pt) {
  var tmp;
  if (pt == null) {
    tmp = null;
  } else {
    var tmp_0 = StringEscapeUtils_getInstance();
    var tmp_1 = this.d32(pt);
    tmp = tmp_0.p93((!(tmp_1 == null) ? typeof tmp_1 === 'string' : false) ? tmp_1 : THROW_CCE());
  }
  return tmp;
};
protoOf(CqlPreprocessorElmCommonVisitor).e93 = function () {
  this.g8u_1 = true;
};
protoOf(CqlPreprocessorElmCommonVisitor).b90 = function () {
  return this.g8u_1;
};
protoOf(CqlPreprocessorElmCommonVisitor).f93 = function () {
  this.h8u_1 = true;
};
protoOf(CqlPreprocessorElmCommonVisitor).c90 = function () {
  return this.h8u_1;
};
protoOf(CqlPreprocessorElmCommonVisitor).g93 = function () {
  this.i8u_1 = true;
};
protoOf(CqlPreprocessorElmCommonVisitor).h93 = function () {
  this.f8u_1 = true;
};
protoOf(CqlPreprocessorElmCommonVisitor).i93 = function () {
  this.j8u_1 = false;
};
protoOf(CqlPreprocessorElmCommonVisitor).j93 = function () {
  this.k8u_1 = true;
};
function ExpressionDefinitionInfo(name, context, definition) {
  BaseInfo.call(this, definition);
  this.d8y_1 = name;
  this.e8y_1 = context;
  this.f8y_1 = definition;
}
protoOf(ExpressionDefinitionInfo).a9k = function () {
  return this.f8y_1;
};
function FunctionDefinitionInfo(name, context, definition) {
  BaseInfo.call(this, definition);
  this.n92_1 = name;
  this.o92_1 = context;
  this.p92_1 = definition;
}
protoOf(FunctionDefinitionInfo).a9k = function () {
  return this.p92_1;
};
protoOf(FunctionDefinitionInfo).ug = function () {
  return this.o92_1;
};
protoOf(FunctionDefinitionInfo).dm = function () {
  return this.p92_1;
};
protoOf(FunctionDefinitionInfo).toString = function () {
  return 'FunctionDefinitionInfo(name=' + this.n92_1 + ', context=' + this.o92_1 + ', definition=' + this.p92_1.toString() + ')';
};
protoOf(FunctionDefinitionInfo).hashCode = function () {
  var result = getStringHashCode(this.n92_1);
  result = imul(result, 31) + getStringHashCode(this.o92_1) | 0;
  result = imul(result, 31) + hashCode(this.p92_1) | 0;
  return result;
};
protoOf(FunctionDefinitionInfo).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof FunctionDefinitionInfo))
    return false;
  var tmp0_other_with_cast = other instanceof FunctionDefinitionInfo ? other : THROW_CCE();
  if (!(this.n92_1 === tmp0_other_with_cast.n92_1))
    return false;
  if (!(this.o92_1 === tmp0_other_with_cast.o92_1))
    return false;
  if (!equals(this.p92_1, tmp0_other_with_cast.p92_1))
    return false;
  return true;
};
function IncludeDefinitionInfo(namespaceName, name, version, localName, definition) {
  BaseInfo.call(this, definition);
  this.q9m_1 = namespaceName;
  this.r9m_1 = name;
  this.s9m_1 = version;
  this.t9m_1 = localName;
  this.u9m_1 = definition;
}
protoOf(IncludeDefinitionInfo).a9k = function () {
  return this.u9m_1;
};
function addDefinition($this, definition) {
  if (!(definition.a9k() == null)) {
    var tmp0_safe_receiver = definition.a9k();
    var sourceInterval = tmp0_safe_receiver == null ? null : tmp0_safe_receiver.l2f();
    if (!(sourceInterval == null)) {
      // Inline function 'kotlin.collections.set' call
      $this.y8x_1.u2(sourceInterval, definition);
    }
  }
}
function LibraryInfo(namespaceName, libraryName, version, definition) {
  namespaceName = namespaceName === VOID ? null : namespaceName;
  libraryName = libraryName === VOID ? null : libraryName;
  version = version === VOID ? null : version;
  definition = definition === VOID ? null : definition;
  BaseInfo.call(this, definition);
  this.j8x_1 = namespaceName;
  this.k8x_1 = libraryName;
  this.l8x_1 = version;
  this.m8x_1 = definition;
  this.n8x_1 = null;
  this.o8x_1 = LinkedHashMap_init_$Create$_0();
  this.p8x_1 = LinkedHashMap_init_$Create$_0();
  this.q8x_1 = LinkedHashMap_init_$Create$_0();
  this.r8x_1 = LinkedHashMap_init_$Create$_0();
  this.s8x_1 = LinkedHashMap_init_$Create$_0();
  this.t8x_1 = LinkedHashMap_init_$Create$_0();
  this.u8x_1 = LinkedHashMap_init_$Create$_0();
  this.v8x_1 = LinkedHashMap_init_$Create$_0();
  this.w8x_1 = LinkedHashMap_init_$Create$_0();
  this.x8x_1 = ArrayList_init_$Create$();
  this.y8x_1 = HashMap_init_$Create$();
}
protoOf(LibraryInfo).a9k = function () {
  return this.m8x_1;
};
protoOf(LibraryInfo).m9l = function (usingDefinition) {
  if (this.n8x_1 == null) {
    this.n8x_1 = usingDefinition;
  }
  var tmp0 = this.o8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = usingDefinition.j9m_1;
  tmp0.u2(key, usingDefinition);
  addDefinition(this, usingDefinition);
};
protoOf(LibraryInfo).y90 = function () {
  var tmp0_elvis_lhs = this.n8x_1;
  var tmp;
  if (tmp0_elvis_lhs == null) {
    throw IllegalArgumentException_init_$Create$('Could not determine a default model because no usings have been defined.');
  } else {
    tmp = tmp0_elvis_lhs;
  }
  var usingDefinitionInfo = tmp;
  return usingDefinitionInfo.j9m_1;
};
protoOf(LibraryInfo).l9l = function (includeDefinition) {
  var tmp0 = this.p8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = includeDefinition.t9m_1;
  tmp0.u2(key, includeDefinition);
  addDefinition(this, includeDefinition);
};
protoOf(LibraryInfo).v9m = function (identifier) {
  return this.p8x_1.q2(identifier);
};
protoOf(LibraryInfo).o91 = function (identifier) {
  var includeDefinition = this.v9m(identifier);
  return includeDefinition == null ? null : includeDefinition.t9m_1;
};
protoOf(LibraryInfo).s9l = function (parameterDefinition) {
  var tmp0 = this.u8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = parameterDefinition.n8y_1;
  tmp0.u2(key, parameterDefinition);
  addDefinition(this, parameterDefinition);
};
protoOf(LibraryInfo).j8y = function (identifier) {
  return this.u8x_1.q2(identifier);
};
protoOf(LibraryInfo).o9l = function (codesystemDefinition) {
  var tmp0 = this.q8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = codesystemDefinition.j9k_1;
  tmp0.u2(key, codesystemDefinition);
  addDefinition(this, codesystemDefinition);
};
protoOf(LibraryInfo).p9l = function (valuesetDefinition) {
  var tmp0 = this.r8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = valuesetDefinition.z9m_1;
  tmp0.u2(key, valuesetDefinition);
  addDefinition(this, valuesetDefinition);
};
protoOf(LibraryInfo).q9l = function (codeDefinition) {
  var tmp0 = this.s8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = codeDefinition.e9k_1;
  tmp0.u2(key, codeDefinition);
  addDefinition(this, codeDefinition);
};
protoOf(LibraryInfo).r9l = function (conceptDefinition) {
  var tmp0 = this.t8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = conceptDefinition.o9k_1;
  tmp0.u2(key, conceptDefinition);
  addDefinition(this, conceptDefinition);
};
protoOf(LibraryInfo).u9l = function (letStatement) {
  var tmp0 = this.v8x_1;
  // Inline function 'kotlin.collections.set' call
  var key = letStatement.d8y_1;
  tmp0.u2(key, letStatement);
  addDefinition(this, letStatement);
};
protoOf(LibraryInfo).z8x = function (identifier) {
  return this.v8x_1.q2(identifier);
};
protoOf(LibraryInfo).v9l = function (functionDefinition) {
  var infos = this.w8x_1.q2(functionDefinition.n92_1);
  if (infos == null) {
    infos = ArrayList_init_$Create$();
    var tmp0 = this.w8x_1;
    var tmp2 = functionDefinition.n92_1;
    // Inline function 'kotlin.collections.set' call
    var value = infos;
    tmp0.u2(tmp2, value);
  }
  infos.e(functionDefinition);
  addDefinition(this, functionDefinition);
};
protoOf(LibraryInfo).j92 = function (identifier) {
  return this.w8x_1.q2(identifier);
};
protoOf(LibraryInfo).t9l = function (contextDefinition) {
  this.x8x_1.e(contextDefinition);
  addDefinition(this, contextDefinition);
};
protoOf(LibraryInfo).x9l = function (pt) {
  return this.y8x_1.q2(pt.l2f());
};
function ParameterDefinitionInfo(name, definition) {
  BaseInfo.call(this, definition);
  this.n8y_1 = name;
  this.o8y_1 = definition;
}
protoOf(ParameterDefinitionInfo).a9k = function () {
  return this.o8y_1;
};
function UsingDefinitionInfo(namespaceName, name, version, localName, definition) {
  BaseInfo.call(this, definition);
  this.i9m_1 = namespaceName;
  this.j9m_1 = name;
  this.k9m_1 = version;
  this.l9m_1 = localName;
  this.m9m_1 = definition;
}
protoOf(UsingDefinitionInfo).a9k = function () {
  return this.m9m_1;
};
function ValuesetDefinitionInfo(name, definition) {
  BaseInfo.call(this, definition);
  this.z9m_1 = name;
  this.a9n_1 = definition;
}
protoOf(ValuesetDefinitionInfo).a9k = function () {
  return this.a9n_1;
};
function TrackBack(library, startLine, startChar, endLine, endChar) {
  this.v8z_1 = library;
  this.w8z_1 = startLine;
  this.x8z_1 = startChar;
  this.y8z_1 = endLine;
  this.z8z_1 = endChar;
}
protoOf(TrackBack).toString = function () {
  return "TrackBack{library='" + this.v8z_1 + new Char(_Char___init__impl__6a9atx(39)) + ', startLine=' + this.w8z_1 + ', startChar=' + this.x8z_1 + ', endLine=' + this.y8z_1 + ', endChar=' + this.z8z_1 + toString_1(_Char___init__impl__6a9atx(125));
};
protoOf(TrackBack).a90 = function () {
  return this.w8z_1 === this.y8z_1 && this.x8z_1 === this.z8z_1 ? '' + this.w8z_1 + ':' + this.x8z_1 : '' + this.w8z_1 + ':' + this.x8z_1 + '-' + this.y8z_1 + ':' + this.z8z_1;
};
protoOf(TrackBack).hashCode = function () {
  var result = this.v8z_1 == null ? 0 : this.v8z_1.hashCode();
  result = imul(result, 31) + this.w8z_1 | 0;
  result = imul(result, 31) + this.x8z_1 | 0;
  result = imul(result, 31) + this.y8z_1 | 0;
  result = imul(result, 31) + this.z8z_1 | 0;
  return result;
};
protoOf(TrackBack).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof TrackBack))
    return false;
  var tmp0_other_with_cast = other instanceof TrackBack ? other : THROW_CCE();
  if (!equals(this.v8z_1, tmp0_other_with_cast.v8z_1))
    return false;
  if (!(this.w8z_1 === tmp0_other_with_cast.w8z_1))
    return false;
  if (!(this.x8z_1 === tmp0_other_with_cast.x8z_1))
    return false;
  if (!(this.y8z_1 === tmp0_other_with_cast.y8z_1))
    return false;
  if (!(this.z8z_1 === tmp0_other_with_cast.z8z_1))
    return false;
  return true;
};
function ExtensionProperties(trackerId, trackbacks, resultType) {
  trackerId = trackerId === VOID ? Companion_getInstance_0().gm() : trackerId;
  var tmp;
  if (trackbacks === VOID) {
    // Inline function 'kotlin.collections.arrayListOf' call
    tmp = ArrayList_init_$Create$();
  } else {
    tmp = trackbacks;
  }
  trackbacks = tmp;
  resultType = resultType === VOID ? null : resultType;
  this.b9n_1 = trackerId;
  this.c9n_1 = trackbacks;
  this.d9n_1 = resultType;
}
protoOf(ExtensionProperties).toString = function () {
  return 'ExtensionProperties(trackerId=' + this.b9n_1.toString() + ', trackbacks=' + toString(this.c9n_1) + ', resultType=' + toString_0(this.d9n_1) + ')';
};
protoOf(ExtensionProperties).hashCode = function () {
  var result = this.b9n_1.hashCode();
  result = imul(result, 31) + hashCode(this.c9n_1) | 0;
  result = imul(result, 31) + (this.d9n_1 == null ? 0 : hashCode(this.d9n_1)) | 0;
  return result;
};
protoOf(ExtensionProperties).equals = function (other) {
  if (this === other)
    return true;
  if (!(other instanceof ExtensionProperties))
    return false;
  var tmp0_other_with_cast = other instanceof ExtensionProperties ? other : THROW_CCE();
  if (!this.b9n_1.equals(tmp0_other_with_cast.b9n_1))
    return false;
  if (!equals(this.c9n_1, tmp0_other_with_cast.c9n_1))
    return false;
  if (!equals(this.d9n_1, tmp0_other_with_cast.d9n_1))
    return false;
  return true;
};
function _get_extensions__zgcsuh($this, _this__u8e3s4) {
  return $this.m8v_1.e9n(_this__u8e3s4, Trackable$_get_extensions_$lambda_rqjd6d);
}
function Trackable$_get_extensions_$lambda_rqjd6d() {
  return new ExtensionProperties();
}
function Trackable() {
  Trackable_instance = this;
  this.m8v_1 = new IdentityHashMap();
}
protoOf(Trackable).d90 = function (_this__u8e3s4) {
  return _get_extensions__zgcsuh(this, _this__u8e3s4).c9n_1;
};
protoOf(Trackable).o8v = function (_this__u8e3s4, value) {
  _get_extensions__zgcsuh(this, _this__u8e3s4).d9n_1 = value;
};
protoOf(Trackable).n8v = function (_this__u8e3s4) {
  return _get_extensions__zgcsuh(this, _this__u8e3s4).d9n_1;
};
protoOf(Trackable).h90 = function (_this__u8e3s4, resultType) {
  this.o8v(_this__u8e3s4, resultType);
  return _this__u8e3s4;
};
var Trackable_instance;
function Trackable_getInstance() {
  if (Trackable_instance == null)
    new Trackable();
  return Trackable_instance;
}
function createUcumService(convertUnit, validateUnit) {
  return lazy_0(createUcumService$lambda(convertUnit, validateUnit));
}
function createUcumService$2$1($convertUnit, $validateUnit) {
  this.f9n_1 = $convertUnit;
  this.g9n_1 = $validateUnit;
}
protoOf(createUcumService$2$1).v98 = function (unit) {
  return this.g9n_1(unit);
};
function createUcumService$lambda($convertUnit, $validateUnit) {
  return function () {
    return new createUcumService$2$1($convertUnit, $validateUnit);
  };
}
function isLeapYear(year) {
  return (year % 4 | 0) === 0 && (!((year % 100 | 0) === 0) || (year % 400 | 0) === 0);
}
function isDigit(c) {
  return _Char___init__impl__6a9atx(48) <= c ? c <= _Char___init__impl__6a9atx(57) : false;
}
function isLetter(c) {
  return (_Char___init__impl__6a9atx(97) <= c ? c <= _Char___init__impl__6a9atx(122) : false) || (_Char___init__impl__6a9atx(65) <= c ? c <= _Char___init__impl__6a9atx(90) : false);
}
function isLetterOrDigit(c) {
  return isLetter(c) || isDigit(c);
}
function get_logger() {
  _init_properties_Log_kt__yce3ki();
  return logger;
}
var logger;
function logger$lambda() {
  _init_properties_Log_kt__yce3ki();
  return Unit_instance;
}
var properties_initialized_Log_kt_phdpho;
function _init_properties_Log_kt__yce3ki() {
  if (!properties_initialized_Log_kt_phdpho) {
    properties_initialized_Log_kt_phdpho = true;
    var tmp = KotlinLogging_instance;
    logger = tmp.g1q(logger$lambda);
  }
}
function asSource(_this__u8e3s4) {
  var buffer = new Buffer();
  writeString(buffer, _this__u8e3s4);
  return buffer;
}
function Stack() {
  var tmp = this;
  // Inline function 'kotlin.collections.mutableListOf' call
  tmp.h8y_1 = ArrayList_init_$Create$();
}
protoOf(Stack).f99 = function () {
  return get_indices(this.h8y_1);
};
protoOf(Stack).i8y = function (item) {
  this.h8y_1.e(item);
};
protoOf(Stack).r2c = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  // Inline function 'kotlin.check' call
  if (!!this.h8y_1.q()) {
    var message = 'Cannot pop from an empty stack';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  return this.h8y_1.l2(this.h8y_1.j() - 1 | 0);
};
protoOf(Stack).q2c = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  // Inline function 'kotlin.check' call
  if (!!this.h8y_1.q()) {
    var message = 'Cannot peek at an empty stack';
    throw IllegalStateException_init_$Create$(toString(message));
  }
  return this.h8y_1.o(this.h8y_1.j() - 1 | 0);
};
protoOf(Stack).q = function () {
  return this.h8y_1.q();
};
protoOf(Stack).e10 = function () {
  return this.h8y_1.q();
};
protoOf(Stack).t99 = function () {
  // Inline function 'kotlin.collections.isNotEmpty' call
  return !this.h8y_1.q();
};
protoOf(Stack).l23 = function () {
  return this.h8y_1.j();
};
protoOf(Stack).g99 = function (index) {
  return this.h8y_1.o(index);
};
function getTranslatorVersion() {
  return '4.0.0-SNAPSHOT';
}
function getLibrarySourceProviders(refresh) {
  return emptyList().g();
}
function getModelInfoProviders(refresh) {
  return emptyList().g();
}
function get_defaultLazyUcumService() {
  _init_properties_UcumServiceJs_kt__apkvbu();
  return defaultLazyUcumService;
}
var defaultLazyUcumService;
function defaultLazyUcumService$lambda() {
  _init_properties_UcumServiceJs_kt__apkvbu();
  // Inline function 'kotlin.error' call
  var message = 'No default UCUM service available.';
  throw IllegalStateException_init_$Create$(toString(message));
}
var properties_initialized_UcumServiceJs_kt_vht8u0;
function _init_properties_UcumServiceJs_kt__apkvbu() {
  if (!properties_initialized_UcumServiceJs_kt_vht8u0) {
    properties_initialized_UcumServiceJs_kt_vht8u0 = true;
    defaultLazyUcumService = lazy_0(defaultLazyUcumService$lambda);
  }
}
function createConcurrentHashMap() {
  // Inline function 'kotlin.collections.mutableMapOf' call
  return LinkedHashMap_init_$Create$_0();
}
function IdentityHashMap() {
  var tmp = this;
  // Inline function 'kotlin.js.asDynamic' call
  tmp.b8z_1 = new Map();
}
protoOf(IdentityHashMap).r8z = function (key) {
  return this.b8z_1.get(key);
};
protoOf(IdentityHashMap).c8z = function (key, value) {
  this.b8z_1.set(key, value);
};
protoOf(IdentityHashMap).e9n = function (key, defaultValue) {
  var existingValue = this.r8z(key);
  if (!(existingValue == null)) {
    return existingValue;
  }
  var newValue = defaultValue();
  this.c8z(key, newValue);
  return newValue;
};
function stringAsPath(string) {
  return Path(string);
}
function stringAsSource(string) {
  return asSource(string);
}
//region block: post-declaration
defineProp(protoOf(ErrorSeverity), 'name', protoOf(ErrorSeverity).z2);
defineProp(protoOf(ErrorSeverity), 'ordinal', protoOf(ErrorSeverity).a3);
defineProp(protoOf(Options), 'name', protoOf(Options).z2);
defineProp(protoOf(Options), 'ordinal', protoOf(Options).a3);
protoOf($serializer).m12 = typeParametersSerializers;
defineProp(protoOf(Format), 'name', protoOf(Format).z2);
defineProp(protoOf(Format), 'ordinal', protoOf(Format).a3);
defineProp(protoOf(CqlTranslator), 'translatedLibrary', protoOf(CqlTranslator).m96);
defineProp(protoOf(CqlTranslator), 'libraries', protoOf(CqlTranslator).h94);
defineProp(protoOf(CqlTranslator), 'exceptions', protoOf(CqlTranslator).n96);
defineProp(protoOf(CqlTranslator), 'errors', protoOf(CqlTranslator).o96);
defineProp(protoOf(CqlTranslator), 'warnings', protoOf(CqlTranslator).p96);
defineProp(protoOf(CqlTranslator), 'messages', protoOf(CqlTranslator).q96);
defineProp(protoOf(Format_0), 'name', protoOf(Format_0).z2);
defineProp(protoOf(Format_0), 'ordinal', protoOf(Format_0).a3);
protoOf($serializer_0).m12 = typeParametersSerializers;
defineProp(protoOf(SignatureLevel), 'name', protoOf(SignatureLevel).z2);
defineProp(protoOf(SignatureLevel), 'ordinal', protoOf(SignatureLevel).a3);
defineProp(protoOf(IdentifierScope), 'name', protoOf(IdentifierScope).z2);
defineProp(protoOf(IdentifierScope), 'ordinal', protoOf(IdentifierScope).a3);
defineProp(protoOf(LibraryBuilder), 'defaultModel', protoOf(LibraryBuilder).x99);
defineProp(protoOf(LibraryBuilder), 'compatibilityLevel', protoOf(LibraryBuilder).g95, protoOf(LibraryBuilder).h97);
defineProp(protoOf(LibraryBuilder), 'isCompatibilityLevel3', protoOf(LibraryBuilder).d9a);
defineProp(protoOf(LibraryBuilder), 'isCompatibilityLevel4', protoOf(LibraryBuilder).e9a);
defineProp(protoOf(LibraryBuilder), 'systemModel', protoOf(LibraryBuilder).n9a);
defineProp(protoOf(LibraryBuilder), 'libraryIdentifier', protoOf(LibraryBuilder).o9a, protoOf(LibraryBuilder).e90);
defineProp(protoOf(CacheMode), 'name', protoOf(CacheMode).z2);
defineProp(protoOf(CacheMode), 'ordinal', protoOf(CacheMode).a3);
defineProp(protoOf(LibraryManager), 'ucumService', protoOf(LibraryManager).n9c);
protoOf(createLibrarySourceProvider$1).getLibraryContent = getLibraryContent_0;
//endregion
//region block: init
Companion_instance_2 = new Companion();
CompilerOptions_instance = new CompilerOptions();
Companion_instance_3 = new Companion_0();
Companion_instance_5 = new Companion_2();
DataTypes_instance = new DataTypes();
Companion_instance_7 = new Companion_4();
Companion_instance_9 = new Companion_6();
Companion_instance_10 = new Companion_7();
Companion_instance_11 = new Companion_8();
Companion_instance_12 = new Companion_9();
Companion_instance_13 = new Companion_10();
Companion_instance_14 = new Companion_11();
SystemLibraryHelper_instance = new SystemLibraryHelper();
Companion_instance_16 = new Companion_13();
Companion_instance_17 = new Companion_14();
Companion_instance_18 = new Companion_15();
Companion_instance_19 = new Companion_16();
Companion_instance_20 = new Companion_17();
//endregion
//region block: exports
CqlCompilerException.ErrorSeverity = ErrorSeverity;
CqlCompilerException.ErrorSeverity.values = values;
CqlCompilerException.ErrorSeverity.valueOf = valueOf;
defineProp(CqlCompilerException.ErrorSeverity, 'Info', ErrorSeverity_Info_getInstance);
defineProp(CqlCompilerException.ErrorSeverity, 'Warning', ErrorSeverity_Warning_getInstance);
defineProp(CqlCompilerException.ErrorSeverity, 'Error', ErrorSeverity_Error_getInstance);
defineProp(CqlCompilerException, 'Companion', Companion_getInstance_3);
CqlCompilerOptions.defaultOptions = defaultOptions;
CqlCompilerOptions.Options = Options;
CqlCompilerOptions.Options.values = values_0;
CqlCompilerOptions.Options.valueOf = valueOf_0;
defineProp(CqlCompilerOptions.Options, 'EnableDateRangeOptimization', Options_EnableDateRangeOptimization_getInstance);
defineProp(CqlCompilerOptions.Options, 'EnableAnnotations', Options_EnableAnnotations_getInstance);
defineProp(CqlCompilerOptions.Options, 'EnableLocators', Options_EnableLocators_getInstance);
defineProp(CqlCompilerOptions.Options, 'EnableResultTypes', Options_EnableResultTypes_getInstance);
defineProp(CqlCompilerOptions.Options, 'EnableDetailedErrors', Options_EnableDetailedErrors_getInstance);
defineProp(CqlCompilerOptions.Options, 'DisableListTraversal', Options_DisableListTraversal_getInstance);
defineProp(CqlCompilerOptions.Options, 'DisableListDemotion', Options_DisableListDemotion_getInstance);
defineProp(CqlCompilerOptions.Options, 'DisableListPromotion', Options_DisableListPromotion_getInstance);
defineProp(CqlCompilerOptions.Options, 'EnableIntervalDemotion', Options_EnableIntervalDemotion_getInstance);
defineProp(CqlCompilerOptions.Options, 'EnableIntervalPromotion', Options_EnableIntervalPromotion_getInstance);
defineProp(CqlCompilerOptions.Options, 'DisableMethodInvocation', Options_DisableMethodInvocation_getInstance);
defineProp(CqlCompilerOptions.Options, 'RequireFromKeyword', Options_RequireFromKeyword_getInstance);
defineProp(CqlCompilerOptions.Options, 'DisableDefaultModelInfoLoad', Options_DisableDefaultModelInfoLoad_getInstance);
defineProp(CqlCompilerOptions, 'Companion', Companion_getInstance_4);
CqlTranslator.fromText = fromText;
CqlTranslator.fromSource = fromSource;
CqlTranslator.fromFile = fromFile;
CqlTranslator.convertToXml = convertToXml_0;
CqlTranslator.convertToJson = convertToJson_0;
CqlTranslator.Format = Format;
CqlTranslator.Format.values = values_1;
CqlTranslator.Format.valueOf = valueOf_1;
defineProp(CqlTranslator.Format, 'XML', Format_XML_getInstance);
defineProp(CqlTranslator.Format, 'JSON', Format_JSON_getInstance);
defineProp(CqlTranslator.Format, 'COFFEE', Format_COFFEE_getInstance);
defineProp(CqlTranslator, 'Companion', Companion_getInstance_5);
CqlTranslatorOptions.defaultOptions = defaultOptions_0;
CqlTranslatorOptions.fromFile = fromFile_0;
CqlTranslatorOptions.fromSource = fromSource_0;
CqlTranslatorOptions.Format = Format_0;
CqlTranslatorOptions.Format.values = values_2;
CqlTranslatorOptions.Format.valueOf = valueOf_2;
defineProp(CqlTranslatorOptions.Format, 'XML', Format_XML_getInstance_0);
defineProp(CqlTranslatorOptions.Format, 'JSON', Format_JSON_getInstance_0);
defineProp(CqlTranslatorOptions.Format, 'COFFEE', Format_COFFEE_getInstance_0);
defineProp(CqlTranslatorOptions, 'Companion', Companion_getInstance_6);
LibraryBuilder.SignatureLevel = SignatureLevel;
LibraryBuilder.SignatureLevel.values = values_3;
LibraryBuilder.SignatureLevel.valueOf = valueOf_3;
defineProp(LibraryBuilder.SignatureLevel, 'None', SignatureLevel_None_getInstance);
defineProp(LibraryBuilder.SignatureLevel, 'Differing', SignatureLevel_Differing_getInstance);
defineProp(LibraryBuilder.SignatureLevel, 'Overloads', SignatureLevel_Overloads_getInstance);
defineProp(LibraryBuilder.SignatureLevel, 'All', SignatureLevel_All_getInstance);
LibraryBuilder.IdentifierScope = IdentifierScope;
LibraryBuilder.IdentifierScope.values = values_4;
LibraryBuilder.IdentifierScope.valueOf = valueOf_4;
defineProp(LibraryBuilder.IdentifierScope, 'GLOBAL', IdentifierScope_GLOBAL_getInstance);
defineProp(LibraryBuilder.IdentifierScope, 'LOCAL', IdentifierScope_LOCAL_getInstance);
defineProp(LibraryBuilder, 'Companion', Companion_getInstance_7);
LibraryManager.CacheMode = CacheMode;
LibraryManager.CacheMode.values = values_5;
LibraryManager.CacheMode.valueOf = valueOf_5;
defineProp(LibraryManager.CacheMode, 'NONE', CacheMode_NONE_getInstance);
defineProp(LibraryManager.CacheMode, 'READ_ONLY', CacheMode_READ_ONLY_getInstance);
defineProp(LibraryManager.CacheMode, 'READ_WRITE', CacheMode_READ_WRITE_getInstance);
defineProp(LibraryManager, 'Companion', Companion_getInstance_8);
export {
  CqlCompilerException as CqlCompilerException,
  CqlCompilerOptions as CqlCompilerOptions,
  CqlTranslator as CqlTranslator,
  CqlTranslatorOptions as CqlTranslatorOptions,
  LibraryBuilder as LibraryBuilder,
  LibraryManager as LibraryManager,
  createLibrarySourceProvider as createLibrarySourceProvider,
  ModelInfoLoader as ModelInfoLoader,
  createModelInfoProvider as createModelInfoProvider,
  ModelManager as ModelManager,
  createUcumService as createUcumService,
  stringAsPath as stringAsPath,
  stringAsSource as stringAsSource,
};
//endregion

//# sourceMappingURL=cql-all-cql-to-elm.mjs.map
